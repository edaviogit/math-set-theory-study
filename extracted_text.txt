Geometric set theory
Paul Larson
Jindˇrich Zapletal

vii

Preface
We wish to present to the reader a fresh and exciting new area of mathematics:
geometric set theory. The purpose of this research direction is to compare
transitive models of set theory with respect to their extensional agreement and
definability. It turns out that many fracture lines in descriptive set theory,
analysis,andmodeltheorycanbeefficientlyisolatedandtreatedfromthispoint
of view. A particular success is the comparison of various Σ2 consequences of
1
the Axiom of Choice in unparalleled detail and depth.
Thesubjectmatterofthebookwasratherslowincoming. Theinitialwork,
restating Hjorth’s turbulence in geometric terms and isolating the notion of a
virtual quotient space of an analytic equivalence relation, existed in rudimen-
taryversionssinceabout2013inunpublishedmanuscriptsofthesecondauthor.
Thejointeffort[63]containedsomeindependenceresultsinchoicelesssettheory
similar to those of the present book, but in decidedly suboptimal framework.
It was not until the January 2018 discovery of balanced Suslin forcing that the
flexibility and power of the geometric method fully asserted itself. The period
after that discovery was filled with intense wonder–passing from one configura-
tion of models of set theory to another and testing how they separate various
well-known concepts in descriptive set theory, analysis, and model theory. At
the time of writing, geometric set theory seems to be an area wide open for
innumerable applications.
Theauthorsbenefitedfromdiscussionwithanumberofmathematicians,in-
cluding,butnotlimitedto,DavidChodounsky´,JamesFreitag,MichaelHruˇs´ak,
Anush Tserunyan, Douglas Ulrich, and Lou van den Dries. The second author
wishes to extend particular thanks to Bernoulli Center at EPFL Lausanne,
where a significant part of the results was obtained during the special semester
on descriptive set theory and Polish groups in 2018.
Duringtheworkonthebook, thefirstauthorwassupportedbygrantsNSF
DMS 1201494 and DMS-1764320. The second author was supported by NSF
grant DMS 1161078.
v

vi PREFACE

Contents
Preface v
1 Introduction 1
1.1 Outline of the subject . . . . . . . . . . . . . . . . . . . . . . . . 1
1.2 Equivalence relation results . . . . . . . . . . . . . . . . . . . . . 2
1.3 Independence: by topic . . . . . . . . . . . . . . . . . . . . . . . 5
1.4 Independence: by model . . . . . . . . . . . . . . . . . . . . . . . 11
1.5 Independence: by preservation theorem . . . . . . . . . . . . . . 14
1.6 Navigation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
1.7 Notation and terminology . . . . . . . . . . . . . . . . . . . . . . 27
I Equivalence relations 35
2 The virtual realm 37
2.1 Virtual equivalence classes . . . . . . . . . . . . . . . . . . . . . . 37
2.2 Virtual structures. . . . . . . . . . . . . . . . . . . . . . . . . . . 39
2.3 Classification: general theorems . . . . . . . . . . . . . . . . . . . 42
2.4 Classification: specific examples . . . . . . . . . . . . . . . . . . . 45
2.5 Cardinal invariants . . . . . . . . . . . . . . . . . . . . . . . . . . 49
2.5a Basic definitions . . . . . . . . . . . . . . . . . . . . . . . 50
2.5b Estimates . . . . . . . . . . . . . . . . . . . . . . . . . . . 51
2.5c Cardinal arithmetic examples . . . . . . . . . . . . . . . . 54
2.5d Hypergraph examples . . . . . . . . . . . . . . . . . . . . 57
2.6 Restrictions on partial orders . . . . . . . . . . . . . . . . . . . . 65
2.7 Absoluteness . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68
2.8 Dichotomies . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72
2.8a Preliminaries . . . . . . . . . . . . . . . . . . . . . . . . . 72
2.8b Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . 76
3 Turbulence 81
3.1 Independent functions . . . . . . . . . . . . . . . . . . . . . . . . 81
3.2 Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84
3.3 Placid equivalence relations . . . . . . . . . . . . . . . . . . . . . 88
vii

viii CONTENTS
3.4 Examples and operations . . . . . . . . . . . . . . . . . . . . . . 90
3.5 Absoluteness . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94
3.6 A variation for measure . . . . . . . . . . . . . . . . . . . . . . . 97
4 Nested sequences of models 105
4.1 Prologue . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 105
4.2 Coherent sequences of models . . . . . . . . . . . . . . . . . . . . 106
4.3 Choice-coherent sequences of models . . . . . . . . . . . . . . . . 109
II Balanced extensions of the Solovay model 117
5 Balanced Suslin forcing 119
5.1 Virtual conditions . . . . . . . . . . . . . . . . . . . . . . . . . . 119
5.2 Balanced conditions . . . . . . . . . . . . . . . . . . . . . . . . . 122
5.3 Weakly balanced Suslin forcing . . . . . . . . . . . . . . . . . . . 128
6 Simplicial complex forcings 133
6.1 Basic concepts . . . . . . . . . . . . . . . . . . . . . . . . . . . . 133
6.2 Locally countable complexes . . . . . . . . . . . . . . . . . . . . . 135
6.3 Complexes of Borel coloring number ℵ . . . . . . . . . . . . . . 137
1
6.4 Modular complexes . . . . . . . . . . . . . . . . . . . . . . . . . . 139
6.5 G matroids . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 148
δ
6.6 Quotient variations . . . . . . . . . . . . . . . . . . . . . . . . . . 150
7 Ultrafilter forcings 157
7.1 A Ramsey ultrafilter . . . . . . . . . . . . . . . . . . . . . . . . . 157
7.2 Fubini powers of the Fr´echet ideal . . . . . . . . . . . . . . . . . 158
7.3 Ramsey sequences of structures . . . . . . . . . . . . . . . . . . . 160
7.4 Semigroup ultrafilters . . . . . . . . . . . . . . . . . . . . . . . . 164
8 Other forcings 169
8.1 Chromatic numbers . . . . . . . . . . . . . . . . . . . . . . . . . 169
8.2 Discontinuous homomorphisms . . . . . . . . . . . . . . . . . . . 177
8.3 Automorphisms of P(ω) modulo finite . . . . . . . . . . . . . . . 179
8.4 Kurepa families . . . . . . . . . . . . . . . . . . . . . . . . . . . . 181
8.5 Set mappings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 183
8.6 Saturated models on quotient spaces . . . . . . . . . . . . . . . . 186
8.7 Non-DC variations . . . . . . . . . . . . . . . . . . . . . . . . . . 190
8.8 Side condition forcings . . . . . . . . . . . . . . . . . . . . . . . . 191
8.9 Weakly balanced variations . . . . . . . . . . . . . . . . . . . . . 195
9 Preserving cardinalities 201
9.1 The well-ordered divide . . . . . . . . . . . . . . . . . . . . . . . 201
9.2 The smooth divide . . . . . . . . . . . . . . . . . . . . . . . . . . 205
9.3 The turbulent divide . . . . . . . . . . . . . . . . . . . . . . . . . 212
9.4 The orbit divide . . . . . . . . . . . . . . . . . . . . . . . . . . . 216

CONTENTS ix
9.5 The E divide . . . . . . . . . . . . . . . . . . . . . . . . . . . . 229
Kσ
9.6 The pinned divide . . . . . . . . . . . . . . . . . . . . . . . . . . 236
10 Uniformization 239
10.1 Tethered Suslin forcing . . . . . . . . . . . . . . . . . . . . . . . . 239
10.2 Pinned uniformization . . . . . . . . . . . . . . . . . . . . . . . . 240
10.3 Well-orderable uniformization . . . . . . . . . . . . . . . . . . . . 242
10.4 Saint Raymond uniformization . . . . . . . . . . . . . . . . . . . 244
10.5 Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 245
11 Locally countable structures 253
11.1 Central objects and notions . . . . . . . . . . . . . . . . . . . . . 253
11.2 Very Suslin forcings . . . . . . . . . . . . . . . . . . . . . . . . . 260
11.3 Iteration theorems . . . . . . . . . . . . . . . . . . . . . . . . . . 265
11.4 Locally countable simplicial complexes . . . . . . . . . . . . . . . 270
11.4a Suslin σ-centered complexes . . . . . . . . . . . . . . . . . 272
11.4b Suslin σ-linked complexes . . . . . . . . . . . . . . . . . . 278
11.5 Larger graphs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 280
11.6 Collapses . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 287
11.7 Compactly balanced posets . . . . . . . . . . . . . . . . . . . . . 292
12 The Silver divide 299
12.1 Perfectly balanced forcing . . . . . . . . . . . . . . . . . . . . . . 299
12.2 Bernstein balanced forcing . . . . . . . . . . . . . . . . . . . . . . 305
12.3 Placid forcing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 315
12.4 Existence of generic filters . . . . . . . . . . . . . . . . . . . . . . 320
13 The arity divide 327
13.1 m,n-centered and balanced forcings . . . . . . . . . . . . . . . . 327
13.2 Preservation theorems . . . . . . . . . . . . . . . . . . . . . . . . 328
13.3 Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 337
14 Other combinatorics 343
14.1 Maximal almost disjoint families . . . . . . . . . . . . . . . . . . 343
14.2 Unbounded linear suborders . . . . . . . . . . . . . . . . . . . . . 345
14.3 Measure and category . . . . . . . . . . . . . . . . . . . . . . . . 346
14.4 Definably balanced forcing . . . . . . . . . . . . . . . . . . . . . . 349
14.5 F structurability . . . . . . . . . . . . . . . . . . . . . . . . . . . 352
2
14.6 The Ramsey ultrafilter extension . . . . . . . . . . . . . . . . . . 355
Bibliography 361
Index 368

x CONTENTS

Chapter 1
Introduction
1.1 Outline of the subject
Geometric set theory is the research direction which studies transitive models
of set theory with respect to their extensional agreement. It turns out that
numerousexistingconceptsindescriptivesettheoryandanalysishaveintuitive
andinformativegeometricrestatements,andthegeometricpointofviewmakes
it possible to readily isolate many new concepts and generalize old ones. Sur-
prising parallels appear between areas that to date did not have a discernible
interface.
TheoldestpartofthesubjectdealswithBorelequivalencerelationsonPolish
spaces. Here,givenanequivalenceE onaspaceX andaconfiguration{M : i∈
i
I} of transitive models of set theory, one asks whether it is possible for an E-
equivalenceclasstohaverepresentativesinsomemodelsoftheconfigurationand
fail to be represented in others. The answer to this question greatly varies with
the nature of the equivalence relation and the configuration in question, and
the resulting differences can be used with great effect to prove non-reducibility
and ergodicity theorems for various Borel equivalence relations. One notable
successinthisareaisareformulationofHjorth’sturbulenceingeometricterms,
which is much more practicable than the original definition and allows endless
generalizations and variations entirely divorced from the original context of
Polish group actions.
Geometric set theory really started to blossom after it was applied in a
seemingly entirely different direction: the independence results in choiceless
Zermelo–Fraenkel (ZF) set theory. This is an area which saw a surge of re-
sults in early 1970’s after which the interest in it waned. Both our purpose
and methodology are quite different from the early practitioners though. We
study almost exclusively ZF independence results between Σ2 consequences of
1
the Axiom of Choice which are intimately connected to various contemporary
concerns of descriptive set theory and analysis. A very detailed structure ap-
pears, with some fracture lines running in parallel to existing combinatorial,
1

2 CHAPTER 1. INTRODUCTION
algebraic, or analytic concepts and other fracture lines showing up in places
quite unexpected. The main geometric motif is the following. Given a Σ2 sen-
1
tenceφ=∃A⊂X ψ(A), aconsequenceoftheAxiomofChoiceinwhichX isa
Polishspaceandψ isaformulaquantifyingonlyoverelementsofPolishspaces,
and given a configuration {M : i ∈ I} of transitive models of set theory with
i
choice, is there a set A⊂X such that in all (or many) models M in the config-
uration, A∩M ∈M and A∩M is a witness to φ in the model M? The answer
to this question is surprisingly varied and successful in separating consequences
of the Axiom of Choice of this syntactical complexity.
The models of ZF we use for the independence results are nearly exclusively
ofthesameform: theyareextensionsofthesymmetricSolovaymodelbyasim-
plydefinableσ-closedforcing. Asaresult,theyareallmodelsofDC,theAxiom
of Dependent Choices. DC is instrumental for developing the basic concepts of
mathematical analysis, thus highly desirable; at the same time, it is an axiom
which is difficult to obtain in the symmetric models of 1970’s. If suitable large
cardinals are present, essentially identical effects can be obtained in generic ex-
tensions of the model L(R) which have a very strong claim to canonicity. In
addition, given Σ2 sentences φ ,φ , there is usually a quite canonical choice
1 0 1
for a forcing which should generate a model of ZF+DC+¬φ +φ . The whole
0 1
analysis of the forcing in question takes place in ZFC, using central concepts of
the fields related to the Σ2 sentences in question.
1
Weconcludethisbriefoutlineoftheareawiththeobservationthatthemass
ofnaturalquestionsthateitherseemtobetreatableusingthegeometricmethod,
or are generated by the inner workings of the geometric method, is entirely
overwhelming. This book cannot be more than a relatively brief introduction
to the subject. In many directions, our efforts faded due to sheer exhaustion
and not because of insurmountable obstacles. We hope to motivate the reader
to explore the enormous, inviting expanses of geometric set theory.
1.2 Equivalence relation results
The first group of results deals with the simplest geometric concern. If E is an
analytic equivalence relation on a Polish space, and V[H ],V[H ] are mutually
0 1
generic extensions of V, is it possible to find an E-class which is represented in
both V[H ] and V[H ] but not in V? Kanovei [48, Chapter 17], continuing the
0 1
seminal work of Hjorth, defined an analytic equivalence E to be pinned just in
case the answer is negative.
InChapter2, wedevelopthenotionofthevirtualquotientspaceforagiven
analyticequivalencerelationonaPolishspace. AvirtualE-classisonewhichis
represented in some mutually generic extensions of V; from a different angle, it
is a class which may be represented only in some generic extension, but it does
notdependonthechoiceofthegenericfilter. Aformaldefinitionusesthenotion
of an E-pin and an equivalence on the class of E-pins, which naturally extends
theanalyticequivalencerelationE intothetransfinitedomain–Definitions2.1.1
and 2.1.4. The virtual E-quotient space is then the class of all E-pins up to

1.2. EQUIVALENCE RELATION RESULTS 3
their equivalence. Every Borel structure on the E-quotient space has a natural
virtual version on the virtual E-quotient space. Virtual structures appear in
many places in this book. The main theorem governing their behavior:
Theorem 1.2.1. (Proposition 2.2.5) Let E be a Borel equivalence relation on
a Polish space X. Let M be a Borel structure on the E-quotient space X/E.
The natural map from the E-quotient space to the virtual E-quotient space is a
Π -elementary embedding from M to its virtual version.
1
To size up the virtual E-quotient space, in Definition 2.5.1 we isolate cardinal
invariantsκ(E)andλ(E)ofanequivalencerelationE: λ(E)isthecardinalityof
the virtual space, while κ(E) is its forcing-theoretic complexity. The cardinals
κ(E),λ(E) respect the Borel reducibility order of equivalence relations, and
as such serve as valuable tools for non-reducibility results. Their key feature:
for Borel equivalence relations E, these cardinals are well-defined and obey an
explicit upper bound. In particular, the virtual E-quotient space is a set, as
opposed to a proper class as occurs for some analytic equivalence relations.
Theorem 1.2.2. (Theorem 2.5.6) Let E be a Borel equivalence relation on a
Polish space X. Then κ(E),λ(E)<(cid:105) .
ω1
As a result, the well-known Friedman–Stanley theorem [31] on nonreducibility
ofajumpE+ ofaBorelequivalencerelationE toE isimmediatelytranslatedto
theCantortheoremonthecardinalityofthepowerset: λ(E+)=2λ(E) >λ(E)–
Example 2.5.5. Other similar conceptual and brief nonreducibility results ap-
pear as well. The cardinal invariants κ(E) and λ(E) can attain many exotic
and informative values, and inequalities between them can be manipulated by
forcing. MostofSection2.5isdevotedtoexamplesofsuchmanipulation. How-
ever, the main underlying concept is absolute, which justifies the parlance used
throughout the book:
Theorem 1.2.3. (Corollary 2.7.3) Let E be a Borel equivalence relation on a
Polish space X. The statement “E is pinned” is absolute among all generic
extensions.
WestressthattheaboveresultholdswithinthecontextofZFC.Ifonedropsthe
AxiomofChoicebutholdsontoDependentChoices,theclassofBorelunpinned
equivalence relations will shrink; in the symmetric Solovay model, it shrinks to
the minimal possible extent: only the canonical unpinned relation F and the
2
equivalence relations above it in the reducibility order are unpinned, see below.
If one drops even the Axiom of Dependent Choices, the class of Borel unpinned
equivalence relations becomes more erratic. We conjecture that it may expand
to its largest possible extent: to the class of equivalence relations which are not
reducible to F equivalence relations.
σ
As is usual in the realm of equivalence relations, we aim to prove various
dichotomies.
Theorem 1.2.4. (Theorem2.8.9) Suppose that there is a measurable cardinal.
Let E be an analytic equivalence relation on a Polish space X. Exactly one of
the following occurs:

4 CHAPTER 1. INTRODUCTION
1. κ(E),λ(E)<∞;
2. E is almost Borel reducible to E.
ω1
Theorem 1.2.5. (Corollary 2.8.13) In the symmetric Solovay model: let E be
a Borel equivalence relation on a Polish space X. Exactly one of the following
occurs:
1. E is pinned;
2. F is Borel reducible to E.
2
In Chapter 3, we deal with a more sophisticated geometric concern. Let E
be an analytic equivalence relation on a Polish space X. Is it possible to find
two generic extensions V[H ] and V[H ] of V such that V[H ]∩V[H ] = V
0 1 0 1
in which there is an E-class represented in both extensions V[H ] and V[H ],
0 1
but not in V? Note that we do not ask the extensions to be mutually generic.
In an initial approach, we develop a fruitful method for constructing separately
Cohen-generic extensions V[H ] and V[H ] such that V[H ]∩V[H ] = V. We
0 1 0 1
define(Definition3.1.3)apracticalandeasilycheckednotionofindependenceof
continuousopenmapsbetweenPolishspacesusinganotionofawalkreminiscent
of Hjorth’s method of turbulence [48, Section 13.1] and prove:
Theorem 1.2.6. (Theorem 3.1.4) Let X be a Polish space and f : X → Y
0 0
and f : X → Y be continuous open maps to Polish spaces. The following are
1 1
equivalent:
1. the maps f ,f are independent;
0 1
2. the Cohen forcing P of nonempty open subsets of X forces V[f (x˙ )]∩
X 0 gen
V[f (x˙ )]=V.
1 gen
As one of the corollaries, we obtain a characterization of Hjorth’s turbulence in
geometricterms. Thischaracterizationismuchmorepracticalthantheoriginal
statement for anyone familiar with the forcing relation.
Theorem 1.2.7. (Theorem 3.2.2) Let Γ be a Polish group acting on a Polish
space X with all orbits meager and dense. The following are equivalent:
1. the action is generically turbulent;
2. V[x]∩V[γ·x]=V wheneverγ ∈Γandx∈X aremutuallygenericpoints.
TosupportabroadextensionofergodicityresultsduetoHjorthandKechris[52,
Theorem12.5], wedeveloptheclassesofplacidandvirtuallyplacidequivalence
relations (the latter including all equivalence relations classifiable by countable
structures) and prove:

1.3. INDEPENDENCE: BY TOPIC 5
Theorem 1.2.8. (Theorem 3.3.5) Let E be the orbit equivalence relation on
a Polish space X resulting from a turbulent Polish group action. Let F be
an analytic, virtually placid equivalence relation on a Polish space Y and let
h: X → Y be a Borel homomorphism of E to F. Then there is an F-class
whose h-preimage is comeager in X.
Itturnsoutthatthereisaversionofturbulenceformeasurewhichleadstomany
of the same ergodicity results. It uses the notion of concentration of measure
quite close to the abstract whirly actions on measure algebras isolated in [33].
Theorem 1.2.9. (Theorem 3.6.2) Let Γ be a Polish group continuously acting
on a Polish space X with an invariant Borel probability measure and an invari-
ant ultrametric. Suppose that the action has concentration of measure. Then
V[x]∩V[γ·x] whenever x∈X is a random point and γ ∈Γ is a generic point
mutually generic with x.
As usual with the forcing reconceptualizations of various notions in descriptive
settheory, wehavetoshowthattheresultingnotionsaresuitablyabsoluteand
evaluate their complexity–Theorem 3.5.6.
Chapter4addressesinfiniteconfigurationsoftransitivemodelsofZFC.The
most important case is in which there is an infinite inclusion-descending se-
quence (cid:104)M : n ∈ ω(cid:105) of models. Under suitable, commonly satisfied coherence
n
(cid:84)
assumptions (Definition 4.2.1 or 4.3.1), the intersection M is a model of
n n
ZF or even ZFC. We spend some time developing a flexible technology of con-
structing nontrivial coherent sequences as in Theorem 4.3.5. The breakthough
achieved in this chapter is the theorem showing that similar configurations de-
tect the distinction between equivalence relations induced as orbit equivalences
of continuous actions of Polish groups, and those which are not reducible to
orbit equivalence relations:
Theorem 1.2.10. (Theorem 4.3.6) Let (cid:104)M : n ∈ ω(cid:105) be a choice-coherent se-
n
quence of models of ZFC. Let E be an orbit equivalence relation of a continuous
(cid:84)
Polish group action with a code in the intersection model M . If a virtual
n n
E-class has a representative in every model M , then it has a representative in
n
(cid:84)
the intersection model M .
n n
Recall that the canonical equivalence relation not reducible to an orbit equiv-
alence relation is E . It is not difficult to construct a choice-coherent sequence
1
of models (cid:104)M : n ∈ ω(cid:105) and an E -class which is represented in each model on
n 1
(cid:84)
the sequence but not in the intersection model M –Example 4.3.10.
n n
1.3 Independence: by topic
Our concerns in the part of the book that deals with independence results in
ZF+DC can be grouped into several large areas.
Cardinalities of quotient spaces. Mirroring the traditional concerns of de-
scriptive set theory, we work on cardinalities of quotient spaces of Borel equiv-

6 CHAPTER 1. INTRODUCTION
alencerelations. GivenPolishspacesX,Y andBorelequivalencerelationsE,F
on each, descriptive set theorists study the question when there can be a Borel
function h: X → Y which reduces E to F. This line of work has been very
successful in the last two decades.
In the ZF+DC context, the E- and F-quotient spaces can have distinct
cardinalities,andtheexistenceofaBorelreductionimpliestheinequality|E|≤
|F|, where we abuse the notation to write |E| for the cardinality of the E-
quotient space. On the other hand, the nonexistence of a Borel reduction is
often connected with the possibility that ZF+DC cannot prove the cardinal
inequality |E| ≤ |F|. A number of our results deal with the question whether
a given Σ2 statement is consistent with ZF+DC plus a statement of the type
1
|E| (cid:54)≤ |F| for some benchmark Borel equivalence relations E,F identified in
Section 1.7.
The most commonly considered quotient space cardinal inequality is |E |>
0
|2ω|andwespendagreatdealofenergyprovingthatvariousΣ2 statementsare
1
consistent with it.
Theorem1.3.1. ThefollowingstatementsareseparatelyconsistentwithZF+DC
and |E |>|2ω|:
0
1. ([21], Corollary 9.2.5) There is a nonprincipal ultrafilter on ω;
2. (Corollary 9.2.21)there is a discontinuous homomorphism of R to R/Z;
3. (Corollary 9.2.12) given a Borel equivalence relation E on a Polish space,
the E-quotient space can be linearly ordered;
4. given a pinned Borel equivalence relation E, |E|≤|E |;
0
5. (Corollary 11.4.12) given a countable Borel equivalence relation E, E is
the orbit equivalence relation of a (discontinuous) action of Z.
It is an interesting question whether some of the statements above can be com-
bined; in general, we have
Question 1.3.2. Are there Σ2-statements φ , φ such that each of them is
1 0 1
consistent with ZF+DC and |E | > |2ω|, while their conjunction implies in
0
ZF+DC that |E |≤|2ω| holds?
0
We give a similar treatment to certain other well-known quotient cardinal in-
equalities. For example,
Theorem1.3.3. ThefollowingstatementsareseparatelyconsistentwithZF+DC
and |E |(cid:54)≤|F| for any orbit equivalence relation F of a continuous Polish group
1
action:
1. (Corollary 9.4.8) There is a nonprincipal ultrafilter on ω;
2. (Corollary 9.4.11) there is a discontinuous homomorphism of R to R/Z;

1.3. INDEPENDENCE: BY TOPIC 7
3. (Corollary 9.4.22) given a Borel graph Γ on a Polish space, Γ contains a
maximal acyclic subgraph;
4. (Corollary 9.4.10) given a Borel equivalence relation E on a Polish space,
the E-quotient space can be linearly ordered;
5. (Corollary 9.4.15) given a pinned orbit equivalence relation E of a contin-
uous Polish group action, E has a transversal.
Theorem1.3.4. ThefollowingstatementsareseparatelyconsistentwithZF+DC
and |E| (cid:54)≤ |F| for any orbit equivalence relation E of a turbulent Polish group
actionandananalyticequivalencerelationF classifiablebycountablestructures:
1. (Corollary 9.3.6) Given a Polish vector space X over a countable field, X
has a basis;
2. (Corollary 9.3.7) given a Borel graph G on a Polish space, G contains a
maximal acyclic subgraph;
3. (Corollary 9.3.10) given a pinned equivalence relation G classifiable by
countable structures, G has a transversal.
There are many interesting open questions left in the area of quotient space
cardinalities. Forone,wedonotknowwhetherthevariousindependenceresults
we obtain can be in general combined in the spirit of Question 1.3.2. There are
alsomorespecificquestions. CanthecardinalitiesofcountableBorelequivalence
relations can be manipulated in the context of ZF+DC? For example, are there
countableBorelequivalencerelationsE,F suchthatbothinequalities|E|<|F|
and |F| < |E| are consistent with ZF+DC? In ZF+DC, does the existence
of a nonprincipal ultrafilter on ω introduce new provable inequalities between
quotient space cardinalities?
Locally countable structures. One particularly popular subject of descrip-
tivesettheoryinthelastquarter-centuryhasbeenthestudyofcountableBorel
equivalence relations and the various structures on their equivalence classes.
Using the methods of this book, one can identify many new fracture lines in
this subject; various selection principles can be meaningfully stratified by the
ZF+DC provability of implications between them. The following is a sampling
of the results we obtain.
Theorem 1.3.5. (Corollary 11.4.17) Let G be an analytic graph on a Polish
space, with uncountable Borel chromatic number. Given a locally finite bipar-
tite Borel graph H satisfying the Marks–Unger condition, it is consistent that
ZF+DC holds, H has a perfect matching and the chromatic number of G is
uncountable.
Theorem 1.3.6. Let G be an analytic hypergraph with all hyperedges finite, on
a Polish space X, with uncountable Borel chromatic number. The following are
consistent with ZF+DC plus the statement that the chromatic number of the
hypergraph G is uncountable:

8 CHAPTER 1. INTRODUCTION
1. (Corollary 11.4.12) given a countable Borel equivalence relation E on a
Polish space with all classes infinite, E is the orbit equivalence relation of
a (discontinuous) action of Z;
2. (Corollary 11.4.10) given a locally finite acyclic Borel graph Γ on a Polish
space, the chromatic number of Γ is ≤3;
3. (Corollary11.6.7) given a pinned Borel equivalence relation E on a Polish
space, |E|≤|E |.
0
AnimportantfracturelineamongBorellocallycountablegraphsappearsatthe
level of the diagonal Hamming graph H which is the product of cliques on
<ω
2,3,4...:
Theorem 1.3.7. The following are consistent with ZF+DC plus the statement
that the chromatic number of H is uncountable:
<ω
1. (Corollary 11.7.8) there is a nonprincipal ultrafilter on ω;
2. (Corollary 11.7.10) given a locally finite bipartite Borel graph Γ satisfying
the Hall’s marriage condition, Γ has a perfect matching;
3. (Corollary 11.7.9) given a Borel equivalence relation E on a Polish space
X, the E-quotient space is linearly ordered;
4. (Corollary11.6.3) given a pinned Borel equivalence relation E on a Polish
space, |E|≤|2ω|.
Note that in the case of the last consistency result for the case E = E , the
0
countable uniformization has to fail, as the uncountable chromatic number of
H implies among other things that E has no transversal.
<ω 0
AnotherfracturelineoccursattheleveloftheHamminggraphH onωω which
ω
is the product of infinitely many cliques on ω:
Theorem1.3.8. (Corollary11.5.10)ItisconsistentwithZF+DCthatthechro-
matic number of the diagonal Hamming graph H is countable while the chro-
<ω
matic number of the Hamming graph H on the Baire space is uncountable.
ω
Model theory. Given a pre-geometry on a Polish structure (for example, the
pre-geometryoflinearspanonaPolishvectorspace),theaxiomofchoiceyields
a maximal independent set (a basis for the vector space). This broad stroke
erasesmanyfinecombinatorialdistinctionsbetweenthevariouspre-geometries.
In the choiceless context, interesting distinctions become visible.
In our context, it is more convenient to work with Borel matroids, a combi-
natorial concept dual to pre-geometries. Matroids from a broad class give rise
to balanced forcings (Theorem 6.5.2), providing theorems of the following kind:
Theorem 1.3.9. (Corollary 12.2.13) It is consistent with ZF+DC that there
is a transcendence basis for the reals over Q and there is no diffuse probability
measure on ω.

1.3. INDEPENDENCE: BY TOPIC 9
One traditional fracture line between matroids leads between the modular ones
(like the matroid of linearly independent sets) and the non-modular ones (like
the matroid of algeraically independent sets). We develop an abstract notion
of modularity in Definition 6.4.1 and, improving on earlier work of [79, 12], we
prove:
Theorem 1.3.10. (Corollary 12.3.8) Let X be a Borel vector space over a
countable field Φ. Let Y be an uncountable Polish field with a countable subfield
Ψ. It is consistent with ZF+DC that there is a Hamel basis for X over Φ but
no transcendence basis for Y over Ψ.
Matroid theorists also distinguish between linear matroids (like the matroid of
linearly independent sets) and graphoids (the matroids of finite acyclic subsets
of a given graph). This distinction gives rise to the following theorem:
Theorem 1.3.11. Let G be a Borel graph on a Polish space X. It is consistent
with ZF+DC that G contains a maximal acyclic subgraph and there is no Hamel
basis for the reals.
The proof takes an unexpected turn: we prove that in ZF+DC, existence of
a Hamel basis implies that E has a complete countable section, in particular
1
|E | ≤ |F |–Corollary 9.4.30. At the same time, existence of a maximal acyclic
1 2
subgraph of any Borel graph G is consistent with ZF+DC+ |E |(cid:54)≤|E| for any
1
orbit equivalence relation E–Corollary 9.4.22.
In another direction connecting model theory with choiceless ZF+DC argu-
ments,westudytheorieswhichcanhavemodelsonthevariousquotientspaces.
Inatypicaldevelopment,givenaBorelequivalencerelationE onaPolishspace
X and a Fraiss´e class F of relational structures with strong amalgamation, we
can add a F-structure (a structure all of whose finite induced substructures are
in F) on the E-quotient space in a highly controlled way. This results in many
theorems of the following kind:
Theorem 1.3.12. (Corollary 13.3.2) Let E be a Borel equivalence relation on
a Polish space X. It is consistent with ZF+DC that there is a tournament on
X/E while there is no linear ordering on 2ω/E .
0
Combinatorics. Achallengingpartofsettheorydealswithchromaticnumbers
of various natural Borel graphs and hypergraphs. Non-locally countable graphs
requireanentirelydifferentapproach. Forasampleresult,foreachnumbern>
0considerthegraphG onRn connectingpointsofrationalEuclideandistance.
n
The work of Schmerl [80] shows that in ZF, the existence of a transcendence
basisfortherealsovertherationalsimpliesthatthesegraphsallhavecountable
chromatic number. We can prove the following:
Theorem 1.3.13. It is consistent with ZF+DC that the chromatic number of
G is countable while the chromatic number of G is uncountable.
1 2

10 CHAPTER 1. INTRODUCTION
Infact,itturnsoutthattheexistenceofaHamelbasisforRimpliesinZF+DC
thatG hascountablechromaticnumber,whileitisconsistentwithZF+DCplus
1
the statement that G has uncountable chromatic number (Theorem 12.3.5).
2
TheanalysisofthegraphsG becomesmoredifficultasthenumbernincreases,
n
and the following attractive question is left open for all n>1:
Question 1.3.14. Let n > 1 be a number. Is it consistent with ZF+DC that
the chromatic number of G is countable while the chromatic number of G
n n+1
is uncountable?
Hypergraphs of arity higher than 2 present enormous challenges. To illustrate
the possibilities, call a coloring c: R2 → ω an equilateral triangle-free decom-
position if there is no equilateral triangle whose vertices are painted the same
color. Ceder [17] showed that in ZF, the existence of a Hamel basis implies the
existence of an equilateral tringle-free decomposition. The opposite implication
does not go through:
Theorem 1.3.15. ItisconsistentwithZF+DCthattheequilateraltriangle-free
decomposition exists and yet there is no discontinuous homomorphism between
Polish groups.
Ultrafilters. Themethodsofthebookcanseparatevarioustypesofultrafilters
on ω and other combinatorial objects in the context of ZF+DC.
Theorem 1.3.16. (Corollary 9.2.5, Proposition 9.2.22 and Corollary ??) In
ZF+DC, there are no provable implications between the existence of a Hamel
basis and existence of a nonprincipal ultrafilter on natural numbers.
Improving [37], we have
Theorem 1.3.17. (Corollary 14.6.7) In ZF+DC, the existence of a nonprinci-
pal ultrafilter on natural numbers does not imply the existence of one which is
disjoint from the summable ideal.
WeisolateseveralwaysofaddinganultrafiltertothesymmetricSolovaymodel
inacontrolledway,providingultrafilterswithvariousinterestingpartitionprop-
erties: Ramsey ultrafilters and stable ordered union ultrafilters are just two
examples. However, the comparison of the various models obtained as well as
a classification of ultrafilters appearing in each model seems to be beyond our
skill. Many other combinations of implications remain unresolved. For exam-
ple, we do not know how to construct a model of ZF+DC in which there is a
nonprincipal ultrafilter on ω, |E |≤|E | and yet |E |(cid:54)≤|2ω|.
1 0 0
Uniformization. Uniformization problems belong to the guiding lights of de-
scriptive set theory. One of the most notorious versions of it is countable to
oneuniformization,thestatementthateverysubsetoftheplanewithnonempty
countableverticalsectionscontainsthegraphofatotalfunction. InChapter10,

1.4. INDEPENDENCE: BY MODEL 11
greatlyimprovingthemethodsandresultsof[56],wedevelopasatisfactorycri-
terionwhichguaranteesthatvariousstronguniformizationprinciples(including
thecountable-to-oneuniformizationasthehumblestspecialcase)holdinnearly
all models under study. Separating the various uniformization principles seems
to be a difficult task beyond the techniques of the present book.
Limitations of the method. The balanced forcing offers a very flexible and
powerfulmethodforobtainingindependenceresultsinZF+DCsettheory. How-
ever, certain desirable types of independence results are outside of its reach.
Certain basic limitations are encapsulated in the following theorems.
Theorem 1.3.18. (Corollary 9.1.2) In every balanced extension of the sym-
metric Solovay model, there is no ω sequence of distinct Borel sets of bounded
1
Borel rank.
Theorem 1.3.19. (Theorem 14.3.1) In every nontrivial balanced extension of
the symmetric Solovay model, there is a set of reals without the Baire property.
Theorem 1.3.20. (Theorem 14.1.1) In every balanced extension of the sym-
metric Solovay model, there is no maximal almost disjoint family of subsets of
ω.
Theorem 1.3.21. (Theorem 14.2.1 simplified) In every balanced extension of
the symmetric Solovay model, there is no linearly ordered, unbounded set of
elements of ωω in the modulo finite domination ordering.
Thus, thebalancedforcingcannotbeusedtoproveforexampletheconsistency
with ZF+DC of the statement that ℵ ≤ |E | but ℵ (cid:54)≤ |E |. For consistency
1 1 1 0
results of this type, one has to reach to the weakly balanced forcing of Sec-
tion 5.3. Another apparently difficult question which cannot be resolved using
balanced forcing is the consistency of ZF+DC plus the statement that there is
a non-Lebesgue measurable set of reals, every uncountable set of reals contains
a perfect subset, and every set of reals has the Baire property [81]. A similar
interesting question unresolvable by the balanced forcing technique was asked
by Marks and Unger: is it consistent with ZF+DC that every set of reals has
the Baire property and every countable Borel equivalence relation is an orbit
equivalence relation of a (discontinuous) action of Z?
1.4 Independence: by model
One appealing way to present the work in this book is to consider several more
orlesscanonicalgenericextensionsoftheSolovaymodelandlistthestatements
that we know hold in them. There are also test problems that we do not
know how to resolve. The reader needs to keep in mind that all the models
are balanced extensions of the Solovay model W and as such obey the general
limitationsdescribedattheendoftheprevioussection. Thelistbelowincludes
only models that we find of immediate interest for an introduction; there are
innumerable other options.

12 CHAPTER 1. INTRODUCTION
The Ramsey ultrafilter model. Consider the poset of infinite subsets of ω
orderedbyinclusionandtheassociatedextensionoftheSolovaymodelW. The
genericfilterisidentifiedwithaRamseyultrafilter,andwell-knownpre-existing
results [26, 56] show that in a suitable sense, every Ramsey ultrafilter is generic
over W for the poset P(ω) modulo finite. The resulting model was investigated
in numerous papers such as [63, 21].
Theorem 1.4.1. In the model W[U], the following statements hold:
1. ([21], Corollary 9.2.5) |E |(cid:54)≤|2ω|;
0
2. (Corollary 9.4.8) |E |(cid:54)≤|F| for any orbit equivalence relation F;
1
3. the E - and E -quotient spaces are linearly orderable (Theorem??), while
0 1
the E - and F -quotient spaces (Corollary 14.6.7 and Corollary 14.5.4) do
2 2
not carry even any tournament;
4. (Example 12.1.9) if E is a Borel equivalence relation and A is a subset of
the E-quotient space then either |A|≤ℵ or |2ω|≤|A|;
0
5. (Corollary 14.6.7) every nonprincipal ultrafilter on ω has nonempty inter-
section with the summable ideal;
6. (Example 10.5.9) countable-to-one uniformization.
Onecanconsidermanyvariations,addinganultrafilterwhichisnotRamsey. We
studythecasesofastableorderedunionultrafilterandcertainotherultrafilters.
It is challenging to discern between the resulting models by sentences which do
not mention ultrafilters.
There are many open questions about the Ramsey ultrafilter model. We
do not know how to classify the ultrafilters on ω in it. We do not know if
there can be Borel equivalence relations E,F such that |E| (cid:54)≤ |F| holds in W
and |E| ≤ |F| holds in W[U]. In particular, we do not know if this can occur
for countable Borel equivalence relations E,F or in the situation where E is
the orbit equivalence relation of a turbulent action of a Polish group and an
equivalence F classifiable by countable structures.
The Hamel basis model. Consider the poset P of countable sets of reals
which are linearly independent over the rationals. The generic filter yields a
Hamel basis B ⊂ R. It does not seem to be easy to provide a simple criterion
which would guarantee that a given Hamel basis is P-generic over the Solovay
model. Still, we understand the theory of the model W[B] fairly well:
Theorem 1.4.2. In the model W[B], the following statements hold:
1. (Proposition 9.2.22) E has a transversal;
0
2. (Corollary 9.4.30) E has a complete countable section;
1

1.4. INDEPENDENCE: BY MODEL 13
3. (Corollary 12.3.8) whenever X is an uncountable Polish field and Φ is a
countable subfield, there is no transcendence basis for X over Φ;
4. (Corollary 12.2.10) there is no diffuse probability measure on ω;
5. (Example 10.5.2) countable-to-one uniformization.
One can consider a different Polish vector space in place of R and add a basis
toit;anaturalexampleisP(ω)viewedwiththesymmetricdifferenceoperation
as a vector space over the binary field. The conclusions of the above theorem
remain in force. We do not know how to discern between the resulting models
in general.
If suitable large cardinals exist, one can find a Hamel basis generic over
the model L(R), independently of the size or structure of the continuum–
Example 12.4.4. The model L(R)[B] inherits all features quoted in Theo-
rem 1.4.2.
Models with a linear ordering. Let E be a Borel equivalence relation on a
Polish space X. Consider the poset P of linear orderings of countable subsets
of the E-quotient space, ordered by reverse extension. The generic filter yields
a linear ordering ≤ on the E-quotient space. The resulting model is a very
humble extension of the symmetric Solovay model.
Theorem 1.4.3. In the model W[≤], the following statements hold:
1. (Corollary 9.2.12) |E |>|2ω|;
0
2. (Corollary 9.4.10) |E |(cid:54)≤|F| for any orbit equivalence relation F;
1
3. (Corollary 13.3.15) there are no discontinuous homomorphism between
Polish groups;
4. (Corollary 12.2.15) OCA holds;
5. (Example 10.5.8) countable-to-one uniformization.
Other features may depend on the nature of the equivalence relation E. For
example, if E is pinned, then in the model W[≤] one cannot find a linear
ordering or even a tournament on the F -quotient space–Corollary 14.5.5. If
2
E is classifiable by countable structures, then in the model W[≤] cannot find a
linear ordering on quotient spaces of turbulent group action orbit equivalence
relations–Corollary12.3.9. Manyquestionsremainopen. Inparticular,itisnot
clearwhetherinthemodelW[≤]thereisacardinalinequalitybetweenquotient
spaceswhichdoesnotappearalreadyinW. Ifsuitablelargecardinalsexistand
E is pinned, one can find a linear ordering of the E-quotient space generic
over the model L(R), independently of the size or structure of the continuum–
Example 12.4.6.
Onecanaddotherstructurestoquotientspaces. Inparticular,onecanadda
tournamentinsteadofalinearordering. Intheresultingmodel,theE -quotient
0
space cannot be linearly ordered–Corollary 13.3.2.

14 CHAPTER 1. INTRODUCTION
The transversal models. Let E be a pinned Borel equivalence relation on
a Polish space X. Consider the poset P of countable subsets of X consisting
of pairwise E-unrelated elements, ordered by reverse inclusion. The generic
filter yields an E-transversal T ⊂X. The study of the resulting model is fairly
straightforward with our methods:
Theorem 1.4.4. In the model W[T], the following statements hold:
1. (Theorem 12.2.5) the Open Coloring Axiom;
2. (Corollary ??) there is no nonatomic probability measure on ω;
3. (Corollary ??) there is no transcendence basis for R;
4. (Corollary13.3.10) there is no discontinuous homomorphism between Pol-
ish groups;
5. (Example 10.5.7) countable-to-one uniformization.
OtherfeaturesdependontheequivalencerelationE inaratherpredictableway.
Thus, if E is classifiable by countable structures, then in W[T], |F|(cid:54)≤|G| holds
wheneverF isanorbitequivalencerelationofaturbulentgroupactionandGis
an equivalence relation classifiable by countable structures. If E is reducible to
an orbit equivalence relation, then in W[T], |E |(cid:54)≤|G| holds whenever G is an
1
orbitequivalencerelationofaturbulentgroupaction. Ifsuitablelargecardinals
exist, one can find a transversal generic over the model L(R), independently of
the size or structure of the continuum. The model L(R)[T] inherits all features
quoted in Theorem 1.4.4.
1.5 Independence: by preservation theorem
Forapractitioner, itisprobablymostusefultocategorizetheresultsweobtain
by the technical preservation theorem for balanced forcing that leads to them.
The spectrum of preservation theorems for balanced forcing rivals the proper
forcing technology. All of the classes considered below (with the exception of
nested balanced and weakly balanced forcings) are closed under countable, full
support product.
In the broad class of balanced forcings, a number of preservation theorems
are possible. The balanced extensions of symmetric Solovay model do not add
any well-ordered sequences of elements of the Solovay model–Theorem 9.1.1.
They do not contain any inequalities of the form |E+|≤|E| where E is a Borel
equivalencerelationandE+ isitsFriedman–Stanleyjump–Corollary9.1.5. Cer-
tainmoresophisticatedobjectsaremissingfromtheseextensions,suchasmax-
imal almost disjoint families–Theorem 14.1.1. To overcome these limitations,
one has to reach for the weakly balanced forcings. They do not add any sets of
ordinals. A prominent example of a weakly balanced forcing which is not bal-
anced is one which adds a maximal almost disjoint family with a certain type
of approximations.

1.5. INDEPENDENCE: BY PRESERVATION THEOREM 15
Compactlybalancedforcingsarethoseforwhichthespaceofbalancedclasses
is naturally organized into a compact Hausdorff space–Definition 9.2.1. The
most prominent example is the poset P(ω) modulo finite–Example9.2.4. The
extensions of the symmetric Solovay model by compactly balanced forcings sat-
isfy |E |>|2ω|–Theorem 9.2.2. It is even true that the chromatic number of a
0
certain Hamming-type graph remains uncountable–Theorem 11.7.2.
Placid forcings are those in which placid virtual conditions exist: these
are virtual conditions p¯such that for any pair of separately generic extensions
V[H ],V[H ] such that V[H ]∩V[H ]=V and for any conditions p ∈V[H ]
0 1 0 1 0 0
and p ∈V[H ] such that p ,p are both stronger than p¯, the conditions p ,p
1 1 0 1 0 1
arecompatible–Definition9.3.1. Thus,themutualgenericityrequiredinthedef-
initionofbalancedforcingisreplacedbytheweakerdemandV[H ]∩V[H ]=V.
0 1
The most prominent example is the poset adding a Hamel basis to the reals
with countable approximations–Example 9.3.5. The extensions of the symmet-
ric Solovay model by placid forcings do not contain any inequalities |E| ≤ |F|
whereE isanorbitequivalencerelationofaturbulentPolishgroupaction, and
F is an equivalence relation classifiable by countable structures–Theorem 9.3.3.
Anotherattractivepropertyofplacidforcingsisthattheydonotaddtranscen-
dencebasesforPolishfields–Theorem12.3.1. Therearemanyothereffects(such
as the nonexistence of nonprincipal ultrafilters on ω) which are in fact conse-
quences of preservation theorems for the broader class of Bernstein balanced
forcings.
Nestedbalancedforcingsarethosewhichcontainasequenceofbalancedcon-
ditionsforasuitableinfinitenestedsequenceofgenericextensions,asinDefini-
tion 9.4.1. All compactly balanced forcings are nested balanced–Example 9.4.7.
Aprominentexampleofanestedbalancedbutnotcompactlybalancedforcingis
theposetaddinganE -transversalbycountableapproximations–Example9.4.14.
0
The extensions of the symmetric Solovay model by nested balanced forcings do
notcontainanyinequalities|E |≤|E|whereE isanorbitequivalencerelation–
1
Theorem 9.4.4.
Tethered forcings are those for which, to establish the balance of a pair
(cid:104)Q,τ(cid:105), it is enough to show that the pair decides virtual conditions of certain
complexity–Definition10.1.1. Mostbalancedforcingsaretethered; aprominent
example of an untethered poset is the collapse poset adding an injection of the
E -quotientspaceto2ω. IntetheredextensionsofthesymmetricSolovaymodel,
0
thecountable-to-oneuniformization(andmanyotheruniformizationprinciples)
holds–Theorem 10.3.2. In the extension by the untethered collapse poset, there
isnoE -transversalwhichmeansthatthecountable-to-oneuniformizationmust
0
fail.
The perfectly balanced forcings are the balanced Suslin forcings for which,
whenever{V[H ]: x∈2ω}isaperfectcollectionofmutuallygenericextensions
x
of V and in each model V[H ] there is a condition p ∈ P stronger than a
x x
given balanced condition p¯, there is a condition in P stronger than uncount-
ably many conditions p –Definition 12.1.1. Prominent examples include posets
x
adding ultrafilters, like the poset of infinite subsets of ω ordered by inclusion.
The perfectly balanced extensions of the symmetric Solovay model satisfy such

16 CHAPTER 1. INTRODUCTION
features as the strong Silver dichotomy (Theorem 12.1.6) and a strong version
of OCA (Theorem 12.1.8).
TheBernsteinbalancedforcingsarethoseposetsforwhich,whenever{V[H ]: x∈
x
2ω}isaperfectcollectionofmutuallygenericextensionsofV andineachmodel
V[H ] there is a condition p ∈ P stronger than a given balanced condition p¯,
x x
no condition in P below p¯ is incompatible with more than countably many
conditions p for x ∈ 2ω–Definition 12.2.1. While this definition may look ob-
x
scure at first reading, many posets satisfy it and it has many consequences
which are difficult to obtain otherwise. Bernstein balanced forcings add no
finitely additive diffuse probability measures on ω, in particular non nonprinci-
pal ultrafilters–Theorem 12.2.3. Among other effects, their generic extensions
satisfy the Open Coloring Axiom–Theorem 12.2.5. For many of them, a fil-
ter generic over the model L(R) exists in the theory ZFC plus a suitable large
cardinal, independently of the status of the Continuum Hypothesis or similar
issues–Theorem 12.4.2. The Bernstein balanced forcings should be viewed as
dual to the perfectly balanced forcings, as generic filter for a perfectly balanced
forcing and a generic filter for a Bernstein balanced forcing tend to be auto-
matically mutually generic–Theorem 12.4.12. Prominent examples of Bernstein
balanced forcings include all placid forcings and also the forcings adding tran-
scendence bases to Polish fields.
3,2-balanced forcings form a class useful for ruling out discontinuous ho-
momorphisms between Polish groups. A poset P is 3,2-balanced if there are
3,2-balancedvirtualconditionsp¯init;thesearevirtualconditionssuchthatfor
anytripleV[H ],V[H ],V[H ]ofpairwisemutuallygenericextensionsofV and
0 1 2
conditions p ∈V[H ],p ∈V[H ], and p ∈V[H ] below p¯there is a common
0 0 1 1 2 2
lower bound of {p ,p ,p }–Definition 13.1.1. A prominent example is the forc-
0 1 2
ing adding a linear ordering of a given quotient space by countable approxima-
tions. 3,2-balanced extensions of the symmetric Solovay model do not contain
any discontinuous homomorphisms between Polish groups; in particular, they
contain no nonprincipal ultrafilters on ω–Theorem 13.2.1. Among other effects,
they do not contain non-Borel automorphisms between many quotient groups–
Theorem 13.2.3. A much stronger form of this property is 3,2-centeredness, in
whichanycollectionofthreepairwisecompatibleconditionshasalowerbound.
Such posets for example do not add linear orderings of quotient spaces except
for trivial reasons–Theorem 13.2.7.
Thereareanumberofpreservationpropertiesconcernedwithlocallycount-
able structures. They all consider posets of the form P (Definition 11.4.2)
KL
andstartwithahypothesisonthesimplicialcomplexK. Thus,Theorem11.4.5
shows thatifK isSuslin σ-centered thenuncountableBorelchromaticnumbers
of finitary hypergraphs are preserved by the poset P and Theorem 11.4.13
KL
proves the same for Suslin σ-linked complexes. There are a number of options,
and many classes of posets concerned are closed under the countable support
product. It seems difficult to get preservation theorems for locally countable
structureswithoutthetechnologyofiteratedverySuslinforcingsofChapter11.

1.6. NAVIGATION 17
1.6 Navigation
The structure of the book is quite complicated and some navigation advice will
greatlyenhancethereader’sexperience. PartIcontainsresultsaboutreducibil-
ityofBorelandanalyticequivalencerelationsandhowamalgamationproperties
of models of set theory can be used to disprove it. Part II provides all of the
choicelessindependenceresults. ItisdifficulttoappreciatethemethodsofPart
II without having basic acquiantance with the concepts introduced in Part I.
Still, Part I should be viewed as only the gate to Cantor’s paradise, while Part
II is already within the gates.
Chapter 2 defines and explores the notion of the virtual quotient space for
an analytic equivalence relation E on a Polish space X. On an intuitive level, a
virtual equivalence class is one which may only exist in some forcing extension
but still we already have a sensible calculus for speaking about it.
Section 2.1 provides the basic definitions. If P is a partial order and τ
is a P-name for an element of X, the name is called E-pinned if its E-class
does not depend on the generic filter on P. There is a natural equivalence E¯
on pinned names, and the E¯ equivalence classes are referred to as the virtual
E-classes. Section 2.2 shows that if one has a definable structure on the E-
quotient space, it is possible to consider the virtual version of that structure
on the virtual quotient space. This is a structure Π -elementarily equivalent to
1
the original one. Structures such as virtual versions of partially ordered sets of
Borel simplicial complexes will come handy later in the book.
Sections 2.3 and 2.4 deal with the most immediate concern: the classifi-
cation problem for the virtual quotient spaces. The virtual equivalence classes
shouldcorrespondtosomeimmediatelyrecognizablecombinatorialobjects,and
inmanyimportantcasesthishopeisfulfilled. Inabroadclassofequivalencere-
lations(thepinnedequivalencerelationsof[48,Section17])thevirtualquotient
space is simply identical to the quotient space. Many jump-type operations on
equivalence relations have a natural translation to operations on virtual quo-
tient spaces; for example, the Friedman–Stanley jump [31] is translated to a
powerset operation–Theorem 2.3.4. Virtual classes of isomorphism relations on
countablestructuresnaturallycorrespondtouncountablestructuresofthesame
type (Theorem 2.4.5), even though in some cases there may be mysterious vir-
tual classes which are not classified in this way [50]. Still, there are many wide
open questions. For example, we do not know how to classify the virtual quo-
tientspaceforthemeasureequivalence. Thevirtualspaceofhomomorphismof
second countable compact Hausdorff spaces sems to be naturally classified by
compact Hausdorff spaces, but there is no theorem to that effect.
Section 2.5 deals with the next most natural concern: the attempt to size
up the virtual quotient space in terms of cardinality. The effort is surprisingly
successful,generatingcardinalinvariantsofanalyticequivalencerelationswhich
cantakeallkindsofexoticandinformativevalues. Givenananalyticequivalence
relation E, one defines the pinned cardinal κ(E) as the minimal cardinal such
thatallvirtualclassesofE arerepresentedbynamesonposetsofsize<κ. One

18 CHAPTER 1. INTRODUCTION
also defines λ(E) as the cardinality of the virtual quotient space, and λ(E,P)
as the cardinality of the set of virtual classes which are represented by names
on the poset P. These cardinals respect the Borel reducibility order; therefore,
theyserveasviabletoolsfortheBorelnonreducibilityresults. Inaddition,they
interact well with a number of operations on equivalence relations. In a jarring
development, these cardinals can connect Borel nonreducibility results to hard
questions about singular cardinal arithmetic or similar concerns of transfinite
set theory.
Section 2.6 limits the type of partial orders that can carry a nontrivial E-
pinned name. Theorem 2.6.2 shows that, in particular, proper forcings do not
carry any nontrivial E-pinned names. Theorem 2.6.3 shows that as soon as
there are some nontrivial E-pinned names (i.e. E is not pinned), then one can
find them in any partial order collapsing ℵ . The most curious result is The-
1
orem 2.6.4: if E is Borel reducible to an orbit equivalence relation, then every
nontrivialvirtualE-classreallycomesfromacollapseofsomeuncountablecar-
dinality to ℵ . Compare this with the efforts of Section 2.4 where some virtual
0
classes of equivalence relations classifiable by countable structures were clas-
sified by uncountable structures to be collapsed down to the countable size.
This feature does not persist to arbitrary analytic equialence relations: Ex-
ample 2.6.8 produces a nontrivial E-pinned name on the Namba forcing for a
suitable equivalence relation E.
Section 2.7 proves two absoluteness results. First, in Corollary 2.7.3 we
show that for a Borel equivalence relation E, the statement “E is pinned”
is absolute among all forcing extensions. This greatly simplifies the language
used to formulate later results. A similar statement for analytic equivalence
relations requires large cardinal assumptions. Second, in Theorem 2.7.4, we
show that at least for equivalence relations E reducible to orbit equivalence
relations, transitive inner models of ZFC calculate the pinned cardinal κ(E)
predictably: theircalculationcannotreturnavaluelargerthantheactualvalue
of κ(E) in V.
It is not clear if the class of unpinned Borel equivalence relations allows a
neat basis in ZFC. The main result of Section 2.8 shows that the answer is
affirmative at least in the symmetric Solovay model. There, the basis for un-
pinned Borel equivalence relations is just {F } (a former conjecture of Kechris,
2
which nevertheless fails badly in ZFC); for unpinned analytic equivalence rela-
tions we isolate the basis {F ,E }–Corollary 2.8.13 and Theorem 2.8.11. We
2 ω1
also provide a basis for the class of analytic equivalence relations E such that
κ(E)=∞. The basis is {E }–Theorem 2.8.9.
ω1
Chapter 3 restates and greatly generalizes Hjorth’s notion of turbulence
in forcing terms. This development shows that nonturbulent equivalence re-
lations are in fact parallel to pinned equivalence relations in a very precise
sense. The forcing relation encapsulates many distracting estimates needed in
thetraditionaltreatmentofturbulence,resultinginacleanandefficientgeneral
calculus.
Section 3.1 provides the motivating insight–namely, that building pairs of

1.6. NAVIGATION 19
models V[y ],V[y ] where y ∈ Y and y ∈ Y are separately Cohen generic
0 1 0 0 1 1
elementsoftheirrespectivePolishspacessuchthatV[y ]∩V[y ]=V dependson
0 1
asuitablenotionofawalk–Theorem3.1.4. Thecomparisonofgenericextensions
vis-a-vis their intersection is an important concern in the later parts of this
book. Section 3.2 provides two basic examples. In the first, Hjorth’s notion of
turbulence of group actions is restated in geometric terms–Theorem 3.2.2. The
secondexampleprovidesacompletecharacterizationofthoseanalyticidealson
ω such that it is possible to find points x ,x ∈ 2ω separately generic over V
0 1
such that they are equal modulo I and V[x ]∩V[x ]=V–Theorem 3.2.4.
0 1
Section 3.3 defines two classes of equivalence relations that are simple from
the turbulent point of view. An equivalence relation E on a Polish space X is
placid if any E-class represented in generic extensions with trivial intersection
is represented in the ground model. E is virtually placid if any virtual E-
class represented in such generic extensions is represented as a virtual class in
the ground model. These definitions are preserved under Borel reducibility and
undermanynaturaloperationsonequivalencerelations,asshowninSection3.4.
The main application is the generalization of an ergodicity theorem by Hjorth
and Kechris [52, Theorem 12.5] (Theorem 3.3.5): any Borel homomorphism
from a turbulent equivalence relation to a virtually placid one stabilizes on a
comeager set.
Section 3.5 provides a necessary complement to the forcing development
in this chapter: a theorem asserting that the notions introduced are abso-
lute among all generic extensions and evaluating their descriptive complexity–
Theorem 3.5.6. Finally, Section 3.6 develops turbulence of group actions for
measure. It turns out that the appropriate concept uses the familiar notion of
concentration of measure of [73].
Chapter 4 presents one of the entirely novel concepts of geometric set the-
ory: thatofacoherentnestedsequenceofmodelsofZFC,withemphasisonthe
intersection model. Thus, let (cid:104)M : n∈ω(cid:105) be an inclusion-decreasing sequence
n
(cid:84)
of transitive models of ZFC and consider the transitive class M = M .
ω n n
A simple coherence condition on the sequence guarantees that M is a model
ω
of ZF (Theorem 4.2.9); a coherence condition with a suitable well-ordering pa-
rameter guarantees that V is a model of ZFC–Theorem 4.3.2. In Section 4.2
ω
we develop the technology of building coherent sequences of generic extensions
(Theorem 4.2.8) and produce a case in which choice fails in the intersection
model. In Section 4.3 we develop a machinery of building choice-coherent se-
quencesofgenericextensions–Theorem4.3.5. Inprinciple,thereisawholefield
of coherent set theory hiding behind these concepts and the intersection mod-
els can serve as new vehicles for obtaining independence results. However, in
thischapterouremphasisisontheconnectionwithBorelequivalencerelations.
Our main result shows that the choice-coherent sequences of models detect the
difference between E and orbit equivalence relations: if E is an orbit equiva-
1
lence relation and C is a virtual E-class represented in each model V , then it
n
is represented in V –Theorem 4.3.6. This typically fails for E . The topic is
ω 1
revisited in Section 9.4 below.

20 CHAPTER 1. INTRODUCTION
Chapter 5 develops the basic general theory of balanced Suslin forcing.
The treatment of Suslin forcing is quite different from that in [7] or similar
treatmentsonthestructureoftherealline. Ourpartialordersaretypically(but
not necessarily) σ-closed, and serve to add combinatorial objects by explicit
countable approximations in the context of the symmetric Solovay model. It
is important to understand that the study of these partial orders takes place
exclusively within set theory with choice.
Section 5.1 defines the notion of a virtual condition in a Suslin forcing P. A
virtualconditionisanelementofthecompletionoftheposetP whichonlyexists
in some generic extension, but for which one can develop a sensible calculus of
comparisonalreadyinthegroundmodel,quiteinparalleltovirtualequivalence
classes developed in Chapter 2. There are natural equivalence and ordering
relations on virtual conditions in P.
Section 5.2 defines the key notion of a balanced pair in a Suslin forcing P.
This is a pair (cid:104)Q,τ(cid:105) where Q is a poset and τ is a Q-name for an element
of the forcing P which satisfies a natural amalgamation property in mutually
generic extensions. There is a natural notion of equivalence on balanced pairs
in P. The motherload feature exploited throughout the rest of the book is
the simple Theorem 5.2.5: every balanced class contains exactly one virtual
condition. The task of understanding a given Suslin forcing P in the context
of geometric set theory is then nearly identical to the classification of balanced
virtual conditions in a given Suslin forcing P. Balanced virtual conditions in
balancedSuslinforcingarequiteparalleltomasterconditionsinproperforcing.
Section5.3definesweaklybalancedSuslinforcing. Thisisaweakeningofthe
notionofbalancedSuslinforcingdesignedtoproducesomeeffects(suchasMAD
families) which are absent from balanced extensions of the symmetric Solovay
model. The whole development is quite parallel to balanced Suslin forcing with
suitablequantificationadjustments. Someexamplesofweaklybalancedforcings
can be found in Section 8.9. This book’s primary focus is on balanced forcing,
and the potential of the weakly balanced variations is left wide open.
Chapter 6analyzesaclassofbalancedforcingsarisingfromsimplicialcom-
plexes of various algebraic forms. Namely, let K be a Borel simplicial complex
on a Polish space X. Let P be the poset of countable subsets p ⊂ X such
K
that [p]<ℵ0 ⊂K, ordered by reverse inclusion. Many useful posets in this book
arise in this fashion, and the balance properties of the posets depend on model
theoretic properties of K. By coincidence or not, most natural examples are
matroids. Section ?? introduces the notion of a modular simplicial complex
(Definition 6.4.1), parallel to a modular matroid, with a number of examples
andrelatednotions. Anotherresult(Theorem6.5.2)showsthattheposetadding
a basis for a matroid is balanced as soon as the matroid satisfies a natural and
common complexity requirement. Section 6.6 investigates simplicial complexes
on quotient spaces, and shows that balanced conditions are naturally found
in the related virtual quotient spaces. Particularly interesting cases concern
the collapse of one quotient cardinality to another, Definition 6.6.2, and the
transversal type posets which to each pair E ⊂F of Borel equivalence relations

1.6. NAVIGATION 21
on a Polish space X add a maximal set A ⊂ X such that E (cid:22) A = F (cid:22) A–
Definition 6.6.5.
Chapter 7 analyzes various ways of adding a nonprincipal ultrafilter on ω
to a choiceless model. The basic method, the poset of all infinite subsets of ω
ordered by inclusion, is investigated in Section 7.1. This poset adds a Ramsey
ultrafilter, and its balanced conditions are classified simply by ultrafilters. The
resulting model has been investigated from many directions previously [21, 90].
ThenextsimplesttypeofultrafilterisaddedbyaposetwithRamseysequences
of finite structures, discussed in Section 7.3. It turns out that balanced con-
ditions in this type of forcing are classified by ω-sequences of ultrafilters of a
certain type. Section 7.2 shows how to add an ultrafilter which is not a P-point
in the simplest fashion: using the quotient poset of P(ω×ω) modulo I where
I is the Fubini power of the Fr´echet ideal. The interesting development in this
case is the complexity of balanced conditions–they are classified by ultrafilters
on the set of ultrafilters on ω (Theorem 7.2.2). It is interesting to compare this
situationwithSection6.6: there,thebalancedconditionswerealsoclassifiedby
complexsets,butthecomplexityseemedtobeworkedintothedefinitionsofthe
posets from the beginning. Here, the increased complexity appeared without
invitation and as a surprise, at least to the authors. Section 7.4 shows how to
addastableorderedunionultrafilter; themostinterestinginsight–thebalanced
conditions are classified by idempotent ultrafilters (Theorem 7.4.7).
Chapter 8 contains the analysis of balanced forcings which are designed
to perform a specific task, and from the point of view of the previous chapters
may seem somewhat ad hoc. In Section 8.1, we consider the problem of adding
a coloring of a Borel graph by a fixed number of colors. It turns out that the
task is closely related to the coloring number of graphs introduced by Erd˝os
and Hajnal [25]. If a Borel graph has countable coloring number, then there
is a natural balanced poset (Definition 8.1.1) adding a coloring by countably
many colors (Theorem 8.1.2). The classical examples of such graphs appear
on Euclidean spaces as distance graphs (Example 8.1.7 and 8.1.8) and have
beenstudiedamongothersbytheHungariancombinatorialschool[58]. Adding
colorings to hypergraphs seems to be much trickier business. We show how to
addacountabledecompositionofavectorspaceoveracountablefieldsuchthat
no composant contains three linearly dependent points (Theorem 8.1.12), or a
countable decomposition in which each composant is fully linearly independent
(Theorem 8.1.19).
Section 8.2 considers the problem of adding a discontinuous homomorphism
between given Polish groups. This task cannot have a positive resolution in
general since many Polish groups have the automatic continuity property, for
example the unitary group [95]. However, we provide a balanced forcing in
the case of abelian groups, one of which is torsion free, and the other divisible
(Theorem8.2.2). Section8.3showsthatitispossibletoforceanontrivialauto-
morphism of the Boolean algebra P(ω) modulo finite with a balanced forcing.
The forcing consists simply of countable approximations ordered by reverse in-

22 CHAPTER 1. INTRODUCTION
clusion, and balanced conditions correspond exactly to automorphisms of the
algebra–Theorem 8.3.3. Section 8.4 considers the problem of adding a cofinal
Kurepa family on a Polish space with a balanced poset. Again, the natural
countable approximation poset works, and there is a very simple classification
theorem for the balanced conditions–Theorem 8.4.3. Section 8.5 presents bal-
anced forcings for adding set mappings on Polish spaces without nontrivial free
sets.
Section8.6showshowonecanaddsaturatedmodelsoffirstordertheoriesto
E-quotient spaces for a Borel equivalence relation E. An especially interesting
case is adding a saturated limit of a Fraiss´e class with strong amalgamation;
i.e. a linear ordering, a tournament, or similar structures (Theorem 8.6.4). In
this section, the amalgamation problems familiar from model theory and the
amalgamation questions arising in geometric set theory exhibit a particularly
strong affinity.
Section8.7showsthattherearebalancedorderingswhichproduceextensions
of the symmetric Solovay model in which the Axiom of Dependent Choices
fails. Theseminalexampleisthefinite-countableposetofDefinition8.7.1which
introducesapartitionofanuncountablePolishspaceintotwoparts,oneofthem
without a perfect subset and the other without countably infinite set.
Section 8.8 introduces several balanced posets which in the usual ZFC con-
text would be viewed as “side condition” forcings. The general Definition 8.8.1
providesageneralconstructionforaddinganuncountablesetwhoseintersection
with every set in I is countable, where I is a given ideal generated by closed
sets. Theorem8.8.6showshowtoaddaspecialtypeofaLusinset. Theforcings
mostly serve as delimiting examples in Chapter ??.
Section 8.9 provides two examples of weakly balanced forcings, achieving
what balanced forcing cannot do. In the first case (Theorem 8.9.2) we con-
struct a weakly balanced poset which collapses |E| to |E , for any given Borel
0
equivalence relation E. This breaks the Friedman–Stanley jump barrier which
is one of the basic features of the balanced extensions of the Solovay model
by Corollary 9.1.5. The second example (Theorem 8.9.7) is a weakly balanced
poset adding a maximal almost disjoint family, an object one cannot find in
balanced extensions of the Solovay model by Theorem 14.1.1. In general, the
weakly balanced arguments are much more difficult than the balanced ones.
Chapter 9 compares cardinalities ofquotient spacesin thebalanced exten-
sions of the symmetric Solovay model W. On the surface, this is an enterprise
very similar to the traditional forcing concerns in the context of the axiom
of choice. However, it is important to understand that the non-well-ordered
quotient cardinals offer many more opportunities for meaningful independence
work and also for surprising ZF results preventing various patterns of cardinal
collapses.
Section 9.1 shows that no new inequalities between well-ordered cardinali-
ties and quotient cardinalities are added by balanced forcing. In fact, no new
well-ordered sequences of elements of W are added–Theorem 9.1.1. This re-
sult is central for the rest of the book. Section 9.2 provides a very flexible

1.6. NAVIGATION 23
tool for verification of the inequality |E | > |2ω| in certain classes of balanced
0
extensions. Namely, it turns out that if the balanced classes of the forcing are
naturallyorganizedintoacompactHausdorffspace,thentheinequalityholdsin
the P-extension of the symmetric Solovay model–Theorem 9.2.2. The compact
Hausdorff space in question may certainly be nonmetrizable; in the case of the
posetP ofinfinitesubsetsofω orderedbyinclusion,itissimplytheCˇech–Stone
remainder of ω. Among the applications, it is possible to add linear ordering
to any Borel quotient space and preserve |E | > |2ω|–Corollary 9.2.12, or to
0
add a discontinuous homomorphism from R to R/Z and preserve |E | > |2ω|
0
as in Corollary 9.2.21. The inequality |E |>|2ω| can be verified in other ways
0
when the balanced classes do not form a compact Hausdorff space, for exam-
ple using Theorem 11.4.13 to maintain the chromatic number of the G -graph
0
uncountable which automatically implies |E |>|2ω| by Proposition 11.1.6(2).
0
Section 9.3 shows that the nonreducibility results obtained by Hjorth’s tur-
bulence method turn into cardinal inequalities in certain classes of balanced
extensions. The main contribution here is Definition 9.3.1, isolating the rel-
evant class of placid Suslin forcings. In placid extensions of the symmetric
Solovaymodel,noinequalitiesofthetype|E|≤|F|appearwhereE istheorbit
equivalence relation of a turbulent Polish group action, and F is an equivalence
relation classifiable by countable structures. A weakening of placidity is used
in Chapter ?? to rule out combinatorial objects from generic extensions which
have nothing to do with any group actions, such as nonprincipal ultrafilters.
Section 9.4 provides practical criteria for showing that the classical nonre-
ducibility of E to any orbit equivalence relation translates into cardinal in-
1
equalities in certain classes of balanced extensions of the Solovay model. This
turns out to require close study of nested sequences (cid:104)M : n ∈ ω(cid:105) of models of
n
ZFC as in Chapter 4. In particular, we must resolve the question whether, for
a given Σ2 sentence φ which is a consequence of the axiom of choice, one can
1
produce a set A such that for each n∈ω, the set A∩M belongs to M and is
n n
a witness for the sentence φ there. The resulting tricky combinatorial work can
be used to separate for example the existence of a Hamel basis from existence
of maximal acyclic subgraphs in Borel graphs.
Section 9.6 shows that the nonreducibility results between analytic equiva-
lence relations obtained by the comparisons of their cardinal invariants κ and
λ mostly turn into cardinal inequalities in the Solovay model W, and these
inequalities survive unharmed into the balanced extension.
Chapter10dealswiththequestionofwhethercountable-to-oneuniformiza-
tion and similar uniformization principles hold in the balanced forcing exten-
sions. Section10.1providestheapracticalcriteriononaSuslinforcingP which
impliesthatmanystronguniformizationprinciplesholdintheforcingextension
of the Solovay model by P. It turns out that the criterion is satisfied in a great
number of interesting cases, and its verification mostly follows from the careful
classificationofbalancedconditionsforP. AnumberofexamplesappearinSec-
tion10.5. Sections10.2, 10.3,and 10.4studyvariousuniformizationprinciples
in turn and show that they in fact hold in tethered extensions of the symmetric

24 CHAPTER 1. INTRODUCTION
Solovay model. Lastly, Section 10.5 provides a great number of examples and
non-examples.
Chapter 11 considers the independence results which appear when one
attempts to select one type of structure to each E-class, and not select another
type; here E is a given countable Borel equivalence relation on a Polish space.
The problems considered are motivated by the present practice of descriptive
graphtheory. Theupshotisadiscoveryofnewandverypertinentfracturelines
in the area. The main point of the whole section is that the definable c.c.c.
posets have great influence on independence results in ZF+DC, even though
heretofore they were used only for ZFC independence results.
The fracture lines and their critical objects are defined in Section 11.1. We
define two variations of countable Borel chromatic number of hypergraphs on
Polish spaces: the Borel σ-finite chromatic number (Definition 11.1.9) and the
Borel σ-finite fractional chromatic number (Definition 11.1.18. The relevant
classes of hypergraphs contain minimal objects obtained by the same operation
ofaskewproduct(Definition11.1.1). Thereareseveraldichotomiesinstylevery
similar to the original G -dichotomy of [54]. A number of examples illustrate
0
the new concepts; among them, there is one obtained from the density version
of the van der Waerden theorem (Example 11.1.20).
Section11.2containsinformationonthebasictechnicaltoolneededtoprove
independence results on locally finite structures: very Suslin c.c.c. forcing no-
tions (Definition 11.2.3) and their iterations. The section is written in such a
waythatspecialistsonZFCindependenceresultscanuseitsresultsfortheirown
purposes. ThebasicresultshowsthatthefinitesupportiterationsofverySuslin
forcingnotionsareverySuslinagain(Theorem11.2.7). Along-standingconcern
ofStevoTodorcevicalsomakesappearance: foragivenBorelsimplicialcomplex
K, viewed as a poset with the reverse inclusion ordering, determining whether
the poset is c.c.c. and calibrating its chain condition carefully. The section
provides a novel angle though: the regularity properties of the posets must be
exemplified in a simply definable way. Thus, Section ?? discusses posets which
can be covered by countably many analytic linked pieces and their iterations,
and proves an iteration and product preservation theorem. Sections ??, ??,
and ?? provide the same treatment for posets which are definably σ-centered,
haveadefinableversionofafinitelyadditivemeasure,andareσ-liminf-centered,
respectively.
Section 11.4 finally produces some independence results in ZF+DC. The
common theme: there is a Borel locally countable simplicial complex K on a
Polishspace,andwestudytheconsequencesoftheexistenceofamaximalK-set
of a certain type. Adding colorings for various locally countable hypergraphs,
for example, can be viewed from this angle. In all cases, the definable forcing
properties of K as a poset ordered by reverse inclusion play central role. We
prove several results resonating with the current descriptive graph theory. Let
G be an analytic hypergraph with finite hyperedges, with uncountable Borel
chromatic number. Given a countable Borel equivalence relation E, we prove
the consistency of ZF+DC plus “E is an orbit equivalence of a Z-action” plus

1.6. NAVIGATION 25
“thechromaticnumberofGisuncountable”–Corollary11.4.10. Givenalocally
finite acyclic Borel graph H, we prove the consistency of ZF+DC plus “the
chromatic number of H is not greater than three” plus “the chromatic number
of G is uncountable”–Corollary 11.4.12.
Section 11.5 deals with the effects of coloring a larger, perhaps not locally
countable, Borel graphs G on locally countable structures. If the graph G does
not contain injective homomorphic copies of the bipartite graphs K→ and
ω,ω
K for some n ∈ ω, then the canonical forcing for adding a G-coloring with
n,ω1
countably many colors does not add an E -transversal (Theorem 11.5.6). If the
0
graph G contains no injective homomorphic copy of K , then the canonical
n,n
coloringposetdoesnotaddacoloringofthediagonalHamminggraphH with
<ω
countably many colors (Theorem 11.5.8). Great examples of such graphs come
from the Euclidean distance graphs considered at length by Erd˝os, Hajnal, and
Komj´ath among others. Let D be a Borel set of positive reals, and let G be the
graph on R2 connecting points whose Euclidean distance belongs to the set D.
The nature of the set D greatly influences the behavior of the graph. If D is a
sequenceconvergingtozero,thenthegraphGfallsintothefirstcategoryabove,
and so in ZF+DC the chromatic number of G can be equal to ℵ without the
0
existence of an E -transversal. If the set D is algebraically independent, then
0
the graph G falls into the second category and so its chromatic number can be
equal to ℵ without providing even a coloring to H . On the other hand, if
0 <ω
the set D contains a dense subgroup of Q, then the existence of a G-coloring
with countably many colors easily implies the existence of an E -transversal.
0
Section 11.6 studies the effects of collapses of various Borel cardinals to |2ω|
ortoE onlocallyfinitestructures. Perhapssomewhatunexpectedly,collapsing
0
aBorelcardinalsuchasE to2ω doesnotyieldanE -transversal; similarly, for
0 0
manylocallycountablehypergraphsG,itdoesnotmakeGhavecountablechro-
matic number. The notion of the fractional chromatic number of a hypergraph
(Definition 11.1.18) makes a key apperance in the main result–Theorem 11.6.1.
AcollapseofaBorelcardinaltoE hasnodiscernibleeffectonlocallycountable
0
structures, as Theorem 11.6.5 shows.
Section 11.7 revisits the class of compactly balanced forcing. We show that
for many locally countable hypergraphs G, compactly balanced forcings do not
make G have countable chromatic number. such forcings do not add countable
coloring to a number of locally countable hypergraphs. The notion of Borel
σ-finitechromaticnumber(Definition11.1.9)iscriticalhere;thediagonalHam-
ming graph H is the most prominent example. In particular, it is consistent
<ω
with ZF+DC that there be a nonprincipal ultrafilter on ω, yet the chromatic
number of H is uncountable.
<ω
Chapter 12 presents important two classes of posets which are in a precise
sense dual to each other. Both of them offer extensive control over uncountable
subsets of Polish spaces, but they approach the task from exactly orthogonal
directions.
Section 12.1 isolates the classes of perfectly balanced and perfect forcings.
Themaininhabitantoftheseclassesistheorderingofinfinitesubsetsofnatural

26 CHAPTER 1. INTRODUCTION
numbers ordered by inclusion. However, it turns out that most natural partial
ordersforaddingultrafiltersareperfectlybalanced. Extensionsofthesymmetric
Solovay model by perfectly balanced forcings satisfy a strong form of Silver
dichotomy: every uncountable subset of a Borel quotient space contains an
injective copy of 2ω (Theorem 12.1.6). Among other effects, they also satisfy a
strong form of the Open Coloring Axiom–Theorem 12.1.8.
Section 12.2 presents the dual class of Bernstein balanced forcings. It is
very rich, including the placid posets, but also posets for adding transcendence
bases for Polish fields, or posets adding Fraiss´e structures on Borel quotient
spaces. The preservation theorems show in particular that their extensions
do not contain nonprincipal ultrafilters (Theorem 12.2.3 or satisfy the Open
ColoringAxiom(Theorem12.2.5). Theextensionsalsoexhibitpropertieswhich
areincertainsensedualtoknownZFCindependenceresults. Forexample,every
unbounded subset of ωω under the modulo finite domination order contains a
bounded uncountable subset–Theorem 12.2.7.
Section12.3containspreservationresultsthatsettheclassofplacidforcings
apart from the much larger class of Bernstein balanced forcings. In particular,
placid forcings do not add algebraic transcendence bases to uncountable Polish
fields(Theorem12.3.1). Thisyieldsoneofthemoststrikingresultsofthisbook:
inZF+DC,existenceofHamelbasesforBorelvectorspacesovercountablefields
does not imply existence of transcendence bases for Polish fields over countable
subfields(Corollary12.3.8). Placidforcingsalsodonotaddcoloringstoagreat
numberofgraphswhichhavecountablecoloringnumberinZFC.Theorem12.3.5
deals with an interesting class of graphs of this type, obtained from algebraic
curves in R2.
ThedualitybetweenperfectlybalancedandBernsteinbalancedposetscomes
tofullviewinSection12.4. ItturnsoutthatthegenericfiltersforBernsteinbal-
ancedforcingsandperfectlybalancedforcingsareoftenautomaticallymutually
generic–Theorem 12.4.12. This is the most precise and elegant way of framing
intuitions like “ultrafilters and transcendence bases for fields have nothing to
do with each other”. At the same time, filters for Bernstein balanced forcings
generic over L(R) exist as a matter of ZFC plus large cardinals, without regard
to the structure of continuum issues–Theorem 12.4.2. Thus, we get say generic
HamelbasesforvectorspacesorgenerictranscendencebasesforPolishfieldsin
ZFC plus large cardinals. This contrasts with the perfectly balanced ultrafilter
posets, where a long line of ZFC independence results may be interpreted as
showing that generic filters for these posets consistently fail to exist.
Chapter ?? presents the classes of m,n-balanced and centered forcings.
These classes serve to separate combinatorial objects of different arity of orga-
nization. The reader has to keep in mind that the notion of arity used here is
quite abstract or even somewhat ineffable.
Section 13.2 contains the main preservation results. The raison d’etre of
the classes of forcings under discussion is Theorem 13.2.1 which shows that
n+1,n-balanced forcings do not add discontinuous homomorphisms between
Polish groups. This means that in particular no nonprincipal ultrafilters on ω

1.7. NOTATION AND TERMINOLOGY 27
are added. A similar effect is produced by Theorem 13.2.3: n+1,n-balanced
forcings do not add non-Borel homomorphisms between various Borel quotient
groups studied in particular by Ilijas Farah [28]. The evaluation of arity comes
into view with Theorem 13.2.4: it turns out that m,n-balanced forcings add
no colorings of Polish groups which avoid monochromatic solutions to suitable
equations, and the numbers m,n reflect the complexity of the equation. We
alsostudytherelatedandmuchmorerestrictiveclassofm,n-centeredforcings.
A particular success is Theorem 13.2.7 showing that 3,2-centered forcings do
not add linear orderings of Borel quotient spaces except for a trivial reason.
Section 13.3 provides a long list of examples and corollaries with particular
emphasis on illustrating the differences between the forcing classes introduced
in this chapter.
Chapter 14 contains results that for some reason do not fit into the pre-
vious chapters; some of our favorite theorems are here. Certain structures are
impossibletoaddbybalancedforcing; MADfamilies(Theorem14.1.1)andlin-
early ordered unbounded subsets of many partial orderings (Theorem 14.2.1)
fall into this category.
In Section 14.3, we prove one of the main constraints on the (nontrivial)
balanced extensions of the Solovay model: there must be a set of reals in them
which does not have the Baire property (Theorem 14.3.1). On the other hand,
onedoesobtaincertainmodelsinwhicheverysetofrealisLebesguemeasurable
as per Theorem 14.3.4. An old result of Shelah concerning the consistency of
ZF+DCpluseverysetofrealsisLebesguemeasurableplusthereisasetofreals
withouttheBairepropertycanbepresentedusingthistheorem–Example14.3.5.
In Section 14.4 we treat the very soft class of posets which possess defin-
able balanced conditions. While at first sight it may seem that this class con-
tains no particularly interesting posets, this is not the case: for example, the
posets adding a discontinuous automorphism of P(ω) modulo finite or a count-
able complete section to a given pinned Borel equivalence relation belong to
it. We show that these posets preserve uncountable chromatic numbers of an-
alytic hypergraphs (Theorem 14.4.7) and do not introduce inequalities of the
form |E | ≤ |E| where E is a pinned orbit equivalence relation. Many other
1
preservation properties of posets in this class remain unstated.
1.7 Notation and terminology
General. Inthisbook,asinmanybooksonsettheory,itisafrequentlyplayed
gambitintheproofstotakeanelementarysubmodelofa“largestructure”. The
structure itself is rarely relevant. As a metadefinition, by a “large structure”
we always mean the structure (cid:104)H ,∈(cid:105) where H is the set of all sets whose
<κ <κ
transitive closure has cardinality < κ, and κ is the smallest regular cardinal
such that H contains all objects named in the proof to that point, and also
<κ
their powersets. Similarly, the phrase “a large fragment of ZFC” occurs in
several places in the book. It is never truly informative to analyze precisely

28 CHAPTER 1. INTRODUCTION
how large a fragment is needed. As a matter of convention, we mean the finite
fragmentofZFCincludingallaxiomsexcepttheschemasofcomprehensionand
replacement, and the schemas of comprehension of replacement for all formulas
of set theory of 10100 many symbols or fewer.
Analytic equivalence relations. A number of concepts and results in this
book are stated in terms of Borel equivalence relations on Polish spaces. As a
matter of basic terminology, if E is an equivalence relation on a set X, a E-
transversal is a set T ⊂X such that T has a singleton intersection which each
equivalence class. If x ∈ X is a point, then [x] denotes the equivalence class
E
containingx. IfA⊂X isanyset, then[A] denotestheE-saturation ofA, the
E
set{x∈X: ∃y ∈AxE y}. Thefollowingdefinitionrecordsseveralbenchmark
relations which are used throughout the book.
Definition 1.7.1.
1. E is the Vitali equivalence on 2ω, connecting x,y ∈ 2ω if they differ at
0
only finite set of entries;
2. E is the equivalence relation on (2ω)ω connecting x,y if they differ at
1
only finite number of entries;
3. E is the relation on 2ω connecting x,y if the sum Σ{ 1 : x(n) (cid:54)= y(n)}
2 n+1
is finite;
4. F is the equivalence relation on (2ω)ω connecting x,y if rng(x)=rng(y);
2
5. HC is the equivalence relation on P(ω ×ω) connecting relations x,y if
either both are illfounded or fail the axiom of extensionality or fail to
have a maximal element, or they are isomorphic;
6. E is the equivalence relation on P(ω ×ω) connecting relations x,y if
ω1
eitherbothareillfoundedorarenotlinearorders, ortheyareisomorphic;
7. if Γ is a coanalytic class of structures on ω invariant under isomorphism,
E istheequivalencerelationoncountablestructuresonωconnectingtwo
Γ
suchstructuresiftheyarebothfailtobelongtoΓortheyareisomorphic;
8. if I is an ideal on ω then = on 2ω is the equivalence relation connect-
I
ing x,y if {n ∈ ω: x(n) (cid:54)= y(n)} ∈ I. There is an identically defined
equivalence relation on (2ω)ω.
Borel equivalence relations are naturally ordered by Borel reducibility. In the
case of analytic equivalence relations, the Borel reducibility relation exhibits
certain pathologies, and it is best replaced by some of its strengthenings. This
is the content of the following definition.
Definition 1.7.2. Let E and F be analytic equivalence relations on respective
Polish spaces X and Y.
1. E is Borel reducible to F, in symbols E ≤ F, if there is a Borel function
h: X →Y such that ∀x ,x ∈X x E x iff h(x )F h(x ).
0 1 0 1 0 1

1.7. NOTATION AND TERMINOLOGY 29
2. E is almost Borel reducible to F, in symbols E ≤ F, if there exists a
a
Borel function h: X →Y and a set Z ⊂X consisting of countably many
E-classes such that ∀x ,x ∈X\Z x E x iff h(x )F h(x ).
0 1 0 1 0 1
The most permissive comparison of equivalence relations is the one which com-
pares just the cardinalities of the quotient spaces. The following abuse of nota-
tion is used throughout:
Definition 1.7.3. If E is an equivalence relation on a Polish space X then the
E-quotient space is the set of all E-equivalence classes. Moreover, |E| denotes
the cardinality of the E-quotient space.
TheSilverdichotomyshowsthatforaBorelequivalencerelationE,|E|iseither
countableor|2ω|≤|E|. Inthecontextoftheaxiomofchoice,thelatterdisjunct
impliesthat|E|=|2ω|sincethequotientspaceX/E isasurjectiveimageof2ω.
In choiceless context though, the dichotomies satisfying the latter disjunct may
representmanydifferentcardinalities, andthisisthesubjectofstudyofseveral
sections in this book. It is clear that E ≤ F implies that |E| ≤ |F|, and in
the context of the axiom of dependent choices, E ≤ F and |F| is uncountable
a
implies that |E|≤|F|.
Analytic hypergraphs. A hypergraph on a set X is an arbitrary subset Γ⊂
P(X) consisting of nonempty sets. As a matter of convention, our hypergraphs
do not contain any singleton sets. The elements of Γ will be called hyperedges
whiletheelementsofX willbecalledvertices. Ahypergraphisfinitary ifallof
its hyperedges are finite sets. It is a graph if all its hyperedges have cardinality
two. AΓ-anticlique isasetA⊂X suchthatΓ∩P(A)=0. AΓ-coloring isany
function with domain X which is not constant on any hyperedge; the elements
of the range of a coloring are referred to as colors. The chromatic number χ(Γ)
of the hypergraph Γ is the smallest cardinal number κ such that there is a Γ-
coloring with at most κ-many colors. This definition makes sense only in the
contextoftheAxiomofChoiceinwhichcardinalitiesarewell-ordered;therefore,
χ(Γ) must exist. In a choiceless context, only a limited version is available: we
discern between countable and uncountable chromatic number, and the various
values of the countable chromatic numbers.
We will be interested in analytic finitary hypergraphs. Say that Γ⊂[X]<ℵ0
is an analytic hypergraph if X is Polish and the set {y ∈ Xω: rng(y) ∈ Γ} is
analytic. TheBorelchromaticnumber ofΓiscountableifX canbedecomposed
(cid:83)
into countably many Borel sets X = X none of which contains all vertices
n n
of a Γ-edge.
Forcing. A great part of this book is devoted to forcing. The words forcing,
poset, or partially ordered set are treated as synonyms. A condition is any
element of a partially ordered set. We use the Boolean notation: q ≤ p means
that the condition q is stronger, more informative than p. Now, let P be a
partially ordered set. For a set A⊂P and a condition p∈P, we write p≤ΣA
ifforeveryconditionq ≤pthereisaconditionr ≤qwhichisstrongerthansome
element of A. The formula P (cid:13) φ denotes the statement that every condition
p ∈ P, p (cid:13) φ. Whenever P is a partial ordering, τ is a P-name, and G ⊂ P is

30 CHAPTER 1. INTRODUCTION
a generic filter, the symbol τ/G denotes the valuation of the name τ according
to the filter G. Every Polish space X and every analytic set A ⊂ X have a
canonical interpretation in every generic extension, which commutes with all
usual descriptive set theoretic operations on Polish spaces. For the detailed
theory of interpretations, see [102]; we will use it without explicit mention as is
customary in the current forcing practice. The interpretations obey two basic
absoluteness rules:
Fact 1.7.4. (Mostowski absoluteness) If M ⊂ N are transitive models of
ZF+DC and φ(p(cid:126)) is a Σ1-formula with parameters in M, then M |= φ(p(cid:126)) if
1
and only if N |=φ(ip(cid:126)) where i is the interpretation operation.
Fact1.7.5. (Shoenfieldabsoluteness)IfM ⊂N aretransitivemodelsofZF+DC
such that ω ⊂M holds, and φ(p(cid:126)) is a Π1-formula with parameters in M, then
1 2
M |=φ(p(cid:126)) if and only if N |=φ(ip(cid:126)) where i is the interpretation operation.
In particular, intepretations of analytic equivalence relations are equivalence
relationsagain,andinterpretationsofPolishgroupsandcontinuousPolishgroup
actions on Polish spaces are Polish groups and continuous Polish group actions
again. Mutual relationships between forcing extensions of ZFC are captured in
the following facts:
Fact 1.7.6. If V is a model of ZFC, V[G] is a forcing extension of V, and M
is a model of ZFC such that V ⊂ M ⊂ V[G], then M is a forcing extension of
V and V[G] is a forcing extension of M.
The book is loaded with product forcing notions. This section provides basic
information on products.
Fact 1.7.7. [45,Lemma15.9]LetP,Qbeposetsandinsomegenericextension,
let G ⊂ P,H ⊂ Q be filters separately generic over the ground model. The
following are equivalent:
1. G×H ⊂P ×Q is a filter generic over the ground model;
2. G⊂P is generic over the model V[H].
In the affirmative case, V[G]∩V[H]=V.
If G×H ⊂ P ×Q is a filter generic over the ground model, we say that the
filters G,H (or their generic extensions) are mutually generic.
Thefollowinghumbleobservationgreatlysimplifiesthemethodologyofprod-
uct forcing. It says that mutual genericity of forcing extensions can be char-
acterized without an appeal to the specific generic filters and posets that were
used to obtain the extensions, and indeed without any appeal to forcing at all.
Proposition 1.7.8. Let n ∈ ω be a number and {P : i ∈ n} be posets. Let
i
{G : i ∈ n} be filters separately generic over the ground model V over the
i
respective posets. The following are equivalent:

1.7. NOTATION AND TERMINOLOGY 31
(cid:81) (cid:81)
1. G ⊂ P is a filter generic over V;
i i i i
2. whenever {a : i ∈ n} are subsets of the ground model in the respective
i
(cid:84)
models V[G ] such that a = 0 then there are sets {b : i ∈ n} in the
i i i i
(cid:84)
ground model V such that for all i∈n a ⊂b and b =0 holds.
i i i i
Proof. Supposefirstthat(1)holds. MovetothegroundmodelV. Supposethat
(cid:81)
{a˙ : i∈n}areP -namesforsubsetsofthegroundmodeland(cid:104)p : i∈n(cid:105)∈ P
i i i i i
is a condition forcing that (cid:84) a =0. Let b ={x∈V : ∃p(cid:48) ≤p p(cid:48) (cid:13) xˇ ∈a˙ }
i i
(cid:84)
i i Pi i
for each i ∈ n. It is immediate that b = 0 holds, and for all i ∈ n and
i i
p (cid:13) a˙ ⊂ˇb holds. (2) then follows by the forcing theorem.
i Pi i i
Suppose now that (2) holds. To confirm (1), suppose towards a contradic-
(cid:81)
tion that it fails. There must be an open dense set D ⊂ P in the ground
i i
(cid:81)
model such that G ∩D = 0. For every number i ∈ n, in the model V[G ]
i i i
(cid:81)
consider the set a = {(cid:104)p : j ∈ n(cid:105) ∈ D: p ∈ G } ⊂ P . The contradictory
i j i i j j
(cid:84) (cid:81)
assumption gives that a = 0; the assumption (2) yields sets b ⊂ P in
i i i i i
(cid:84)
the ground model such that ∀i∈n a ⊂b and b =0. In each model V[G ],
i i i i j
a genericity argument shows that there must be a condition r ∈ G such that
j j
every tuple (cid:104)p : i∈n(cid:105)∈D with p ≤r must in fact belong to the set b . Use
i j j j
the density of the set D to find a tuple (cid:104)p : i ∈ n(cid:105) ∈ D such that for all i ∈ n,
i
(cid:83)
p ≤ r holds. Then (cid:104)p : i ∈ n(cid:105) ∈ b , contradicting the choice of the sets b
i i i i i i
for i∈n.
Thefollowingcorollaryiseasytoprovewithouttheproposition, butitspresent
proof is much more appealing:
Corollary 1.7.9. Let n∈ω be a natural number. Suppose that {P : i∈n} are
i
(cid:81) (cid:81)
posets, {Q : i ∈ n} are posets, G ⊂ P is a generic filter, and for each
i i i i i
(cid:81) (cid:81)
i∈nH ∈V[G ]isafiltergenericoverV ontheposetQ . Then H ⊂ Q
i i i i i i i
is a filter generic over V.
Proof. Thecriterion(2)ofProposition1.7.8ispreservedwhenpassingtosmaller
models, in particular from V[G ] to V[H ].
i i
The final remark on the product forcing provides a perfect set of generics
overanycountablemodel–astandardtrickwhichcomeshandyinseveralplaces
in the book.
Proposition 1.7.10. Let M be a countable transitive model of set theory and
P ∈ M be a poset. Then there is a continuous map h: 2ω → P(P) such that
for every finite set a ⊂ 2ω, the product (cid:81) h(x) is a filter on the poset P|a|
x∈a
generic over the model M.
Proof. Let (cid:104)D : n∈ω(cid:105) be an enumeration of all open dense subsets of various
n
finite powers of P which appear in the model M. By induction on m∈ω build
maps g : 2m →P satisfying the following demands:
m
• g : {0}→P is arbitrary;
0

32 CHAPTER 1. INTRODUCTION
• for every m ∈ ω, every s ∈ 2m and every t ∈ 2m+1 such that s ⊂ t,
g (t)≤g (s) holds;
m+1 m
• for every m ∈ ω and every n ≤ m, if D ⊂ Pk is a set for some k ≤
n
2m+1 and (cid:104)t : i ∈ k(cid:105) is a sequence of distinct elements of 2m+1, then
i
(cid:104)g (t ): i∈k(cid:105)∈D holds.
m+1 i
Thisiseasytoarrangeasthelastitemrequiresmeetingonlyfinitelymanyopen
dense sets. In the end, let h: 2ω → P(ω) be the continuous function defined
by setting h(x) to be the filter generated by the set {g (x (cid:22) m): m ∈ ω}, and
m
check that the demands of the theorem are satisfied.
There are several standard forcing notions used throughout:
Definition 1.7.11.
1. If X is a set then Coll(ω,X) is the poset of finite partial functions from
ω to X ordered by reverse extension;
2. if κ is a cardinal then Coll(ω,< κ) is the finite support product of the
posets Coll(ω,α) for all α∈κ;
3. if X is a topological space then P is the poset of all nonempty open
X
subsets of X ordered by inclusion. If X is in addition Polish, then x˙
gen
denotes the P -name for the generic point of P –the unique element of
X X
theinterpretationofthePolishspaceX intheP -extensionwhichbelongs
X
to all open sets in the generic filter.
The collapse poset obeys an important factoring rule:
Fact 1.7.12. [45, Corollary 26.11] Let λ be a cardinal and let P be a poset of
size <λ. Suppose that G⊂Coll(ω,λ) is a generic filter and in V[G], H ⊂P is
a filter generic over V. Then there is a filter K ⊂Coll(ω,λ) generic over V[H]
such that V[G]=V[H][K].
Let κ be an inaccessible cardinal. The symmetric Solovay model derived
from κ is obtained as follows. Let G ⊂ Coll(ω,< κ) be a generic filter and in
V[G], form the model HODV[G] of all sets hereditarily definable from reals
V∪P(ω)
and elements of the ground model. This is the symmetric Solovay model; we
will always denote it by W, neglecting the dependence on κ and the filter G in
thenotation. ThetheoryoftheSolovaymodelhasbeenthoroughlyinvestigated
throughout the years. We note the following:
Fact 1.7.13. [87] In W, ZF+DC holds, every set has the Baire property and
is Lebesgue measurable, and there is no uncountable well-ordered sequence of
distinct Borel sets of bounded Borel rank.
DuringtheinvestigationofthesymmetricSolovaymodel,thefollowingtechnical
fact and its corollary about the symmetric Solovay model will be used without
mention.

1.7. NOTATION AND TERMINOLOGY 33
Fact 1.7.14. [45,Section26] Let κ be an inaccessible cardinal and let W be the
symmetric Solovay extension of V associated with κ. Then
1. every set in W is definable from parameters in V ∪2ω;
2. in W, whenever M is a generic extension of V by a partial order of size
<κ then W is a symmetric Solovay extension of M.
Corollary 1.7.15. Suppose that κ is an inaccessible cardinal, X is a Polish
space, φ(x,(cid:126)y) is a formula of set theory with all free variables displayed, and p(cid:126)
is a sequence of sets of the same length as (cid:126)y. The following are equivalent:
1. Coll(ω,<κ)(cid:13)∃x∈X φ(x,p(cid:126));
2. there exist a poset R of size < κ and an R-name σ for an element of X
such that R(cid:13)Coll(ω,<κ)(cid:13)φ(σ,p(cid:126)).
Many models of set theory we investigate are extensions of the symmetric Solo-
vay model by a suitably definable, typically Suslin, forcing. Since the instru-
mentalpropertiesoftheSuslinforcinginquestionmaynotbeabsolutebetween
forcingextensions,weusethefollowingkeyconventiontoshortenthestatements
of the results we obtain.
Convention 1.7.16. Let ψ be a property of partial orders, and let φ be a
sentence in the language of set theory.
1. For a Suslin partial order P and an inaccessible cardinal κ, the statement
“P isψbelowκ”meansthatV |=ψ(P)holdsineveryforcingextension”.
κ
The statement “P is ψ cofinally below κ” means that V |=every forcing
κ
extension has a further extension in which ψ(P) holds”.
2. The phrase “In ψ extensions of the Solovay model, φ holds” denotes the
following long statement. Let P be a Suslin forcing and let κ be an
inaccessible cardinal such that P is φ below κ. Let W be a symmetric
Solovay model derived from κ. Let G ⊂ P be a filter generic over W.
Then W[G]|=φ holds.
3. The phrase “In cofinally ψ extensions of the Solovay model, φ holds”
denotes the following statement. Let P be a Suslin forcing. Let κ be an
inaccessible cardinal. Suppose that P is ψ cofinally below κ. Let W be a
symmetric Solovay model derived from κ. Let G ⊂ P be a filter generic
over W. Then W[G]|=φ holds.
In several cases, we will need the basics of the stationary tower forcing.
Definition 1.7.17. [64] Let κ be an inaccessible cardinal. The symbol Q
κ
denotes the (countably based) stationary tower up to κ. That is, Q consists of
κ
sets S such that S ⊂[dom(S)]ℵ0 is stationary and dom(S)∈V
κ
. The ordering
is defined by T ≤ S if dom(S) ⊂ dom(T) and {x∩dom(S): x ∈ T} ⊂ S. If
G ⊂ Q is a generic filter, j: V → M denotes the generic ultrapower derived
κ
from G.

34 CHAPTER 1. INTRODUCTION
Fact 1.7.18. [64] Let κ be an inaccessible cardinal, G⊂Q be a generic filter,
κ
and j: V →M be the generic embedding.
1. If κ is a Woodin cardinal in the ground model, then κ=ωV[G] and Mω ⊂
1
M in V[G]. In particular, M is well-founded.
2. If κ is a weakly compact Woodin cardinal in the ground model, then for
every z ∈2ω in V[G] there is a Woodin cardinal λ<κ such that G∩Q is
λ
genericoverV andz ∈V[G∩Q ]. Inparticular,themodelW =V(RV[G])
λ
is a symmetric Solovay extension of V derived from κ.
As a matter of notation, if the generic ultrapower model M is well-founded, it
is always identified with its transitive collapse.

Part I
Equivalence relations
35

Chapter 2
The virtual realm
There are many quotient structures in mathematics. It turns out that a typical
quotient structure allows a useful canonical extension to its virtual version.
The purpose of this chapter is to lay the foundations of the theory of virtual
structures.
2.1 Virtual equivalence classes
The basis of any quotient structure of interest in the present book is a Polish
spaceX. Aquotientstructureworthitssaltwillalsouseanequivalencerelation
ontheunderlyingPolishspaceE. Inthissectionweindicatehowtoextendthe
E-quotient space in a canonical way to a potentially much larger set or class.
Definition 2.1.1. [48, Definition 17.1.2] Let E be an analytic equivalence re-
lation on a Polish space X. Let P be a poset and τ a P-name for an element of
X.
1. The name τ is E-pinned if P ×P (cid:13)τ E τ ;
left right
2. if τ is E-pinned, then the pair (cid:104)P,τ(cid:105) will be called an E-pin.
The definition may puzzle a novice reader. Its meaning is best illustrated by
the following proposition. An E-pinned name is one which in all forcing exten-
sions points at the same E-class, even though that E-class may not have any
representative in the ground model.
Proposition 2.1.2. Let E be an analytic equivalence relation on a Polish space
X. Let P be a poset and τ a P-name for an element of X. The following are
equivalent:
1. (cid:104)P,τ(cid:105) is an E-pin;
2. ineveryforcingextension,ifG ,G ⊂P arefiltersseparatelygenericover
0 1
the ground model, then τ/G E τ/G holds.
0 1
37

38 CHAPTER 2. THE VIRTUAL REALM
Proof. (2) immediately implies (1) by considering the P × P extension. To
see how (1) implies (2), suppose that V[H] is a forcing extension and in V[H]
there are filters G ,G ⊂ P separately generic over V. Let G ⊂ P be a filter
0 1 2
generic over V[H]. By the product forcing theorem, G ,G ⊂ P are mutually
0 2
genericfilters,andsoareG ,G ⊂P. Applyingtheassumption(1),weseethat
1 2
τ/G E τ/G E τ/G , so τ/G E τ/G by the transitivity of the equivalence
0 2 1 0 1
relation E.
The following is the archetypal example of a non-trivial pinned name.
Example 2.1.3. Consider the poset P = Coll(ω,2ω) and its name τ for the
generic surjection from ω to (2ω)V. The name τ is F -pinned since no matter
2
whichgenericfilterG⊂P oneselects,therangeofτ/Gisthesame: itistheset
(2ω)V. Clearly, it is a nontrivial name since the set 2ω is uncountable, so there
is no ground model element of (2ω)ω that can enumerate it and be equivalent
to τ.
Given an analytic equivalence relation E on a Polish space X, the E-pinned
namesformaseeminglyinexhaustibleandcomplicatedclass. However,thisclass
admits a natural equivalence relation which usually greatly clarifies matters:
Definition 2.1.4. Let E be an analytic equivalence relation on a Polish space
X. Supposethat(cid:104)P,τ(cid:105)and(cid:104)Q,σ(cid:105)areE-pins. Define(cid:104)P,τ(cid:105)E¯ (cid:104)R,σ(cid:105)ifP×Q(cid:13)
τ E σ.
Proposition 2.1.5. The relation E¯ is an equivalence. If P,Q are posets with
E-pinned names τ,σ on them, the following are equivalent:
1. (cid:104)P,τ(cid:105)E¯ (cid:104)Q,σ(cid:105);
2. in every forcing extension, if G ⊂ P and H ⊂ Q are filters separately
generic over the ground model, then τ/GE σ/H holds.
Proof. E¯ is clearly symmetric and reflexive by its definition. To see the tran-
sitivity, suppose that (cid:104)P ,τ (cid:105) E¯ (cid:104)P ,τ (cid:105) E¯ (cid:104)P ,τ (cid:105). This means that P ×
0 0 1 1 2 2 0
P ×P (cid:13) τ E τ E τ , and by the transitivity of the equivalence relation E,
1 2 0 1 2
P ×P ×P (cid:13)τ E τ . BytheMostowskiabsolutenessbetweentheP ×P ×P
0 1 2 0 2 0 1 2
extension and P ×P extension, it is the case that P ×P (cid:13)τ E τ and con-
0 2 0 2 0 2
sequently (cid:104)P ,τ E¯ (cid:104)P ,τ (cid:105).
0 0 2 2
Now, (2) immediately implies (1) by considering the P ×Q extension. To
see how (1) implies (2), suppose that V[K] is a forcing extension and in V[K]
there are filters G ⊂ P,H ⊂ Q separately generic over V. Let H(cid:48) ⊂ Q be a
filter generic over V[K]. By the product forcing theorem, G,H(cid:48) are mutually
generic filters, and so are H,H(cid:48). Applying the assumption (1), we see that
τ/G E σ/H(cid:48) E σ/H, so τ/G E σ/H by the transitivity of the equivalence
relation E.
Definition 2.1.6. Let E be an analytic equivalence relation on a Polish space
X.

2.2. VIRTUAL STRUCTURES 39
1. The E¯-classes are referred to as the virtual E-classes;
2. if z is a virtual E-class and in some generic extension V[G] y is an E-
class, we say that y is a realization of z if for some (equivalently, all)
representatives (cid:104)P,τ(cid:105)∈z and x∈y, V[G]|=P (cid:13)τ E xˇ holds.
The following proposition is used throughout this book. It says that E-classes
represented in mutually generic extensions must be realizations of a virtual E-
class in the ground model.
Proposition 2.1.7. Let E be an analytic equivalence relation on a Polish space
X. Let P ,P be partial orders and G ⊂ P and G ⊂ P be mutually generic
0 1 0 0 1 1
filters. If x ∈V[G ] and x ∈V[G ] are E-equivalent points then [x ] is the
0 0 1 1 0 E
realization of some virtual E-class from the ground model.
Proof. Supposethatp ∈P ,p ∈P ,τ isaP -nameandτ isaP -namesuch
0 0 1 1 0 0 1 1
that (cid:104)p ,p (cid:105) (cid:13) τ E τ . It immediately follows that τ must be an E-pinned
0 1 0 1 0
name on the poset P (cid:22) p so p forces [τ ] to be the realization of the virtual
0 0 0 E
E-class represented by the pair (cid:104)P (cid:22)p ,τ (cid:105).
0 0
The main question surrounding the virtual E-classes is whether they can be
classified in some informative way. Is there a proper class of virtual E-classes
or just a set? If there is just a set, what is its cardinality? Do virtual E-classes
correspondtosomemoretangiblecombinatorialobjects? Thischaptercontains
many good answers to similar questions, even though many problems remain
unsolved.
2.2 Virtual structures
It is now possible to define virtual versions of quotient structures on Polish
spaces.
Definition 2.2.1. Ananalyticquotientstructure isatupleM=(cid:104)X,E,R : i∈
i
ω,f : j ∈ω(cid:105) where
j
1. X is a Polish space;
2. E is an analytic equivalence relation on X;
3. for every i∈ω, R
i
⊂Xni is an analytic relation which is invariant under
E;
4. for every j ∈ ω, f
j
⊂ Xmj+1 is an analytic relation which is invariant
under E, and in the E-quotient space it is a graph of a function.
The quotient structure M is Borel if all the relations above including E are
Borel.

40 CHAPTER 2. THE VIRTUAL REALM
There are many popular examples of analytic quotient structures. If (cid:104)G,·(cid:105)
is a Polish group and H ⊂G is an analytic normal subgroup, one can form the
quotientgroupG/H. If(cid:104)X,≤(cid:105)isananalyticpartialordering, onecanformthe
separativequotientundertheassumptionthatthequotientequivalencerelation
is analytic. Embeddability of countable structures forms an ordering on the
quotients space of all countable structures modulo the equivalence relation of
biembeddability etc.
If M = (cid:104)X,E,R : i ∈ ω,f : j ∈ ω(cid:105) is an analytic quotient structure, then
i j
we write M∗ = (cid:104)X∗,R∗: i ∈ ω,f∗: j ∈ ω(cid:105) for its associated structure on the
i j
actual quotient space X/E of all E-classes.
Definition 2.2.2. Let M = (cid:104)X,E,R : i ∈ ω,f : j ∈ ω(cid:105) be an analytic quo-
i j
tient structure. The virtual version of M is the tuple M∗∗ = (cid:104)X∗∗,R∗∗: i ∈
i
ω,f∗∗: j ∈ω(cid:105) where
j
1. X∗∗ is the set or class of all virtual E-classes;
2. foreachi∈ω,R∗∗istherelationonX∗∗ofarityn givenby(cid:104)(cid:104)Q ,τ (cid:105): k ∈
i i k k
n (cid:105)∈R∗∗ if (cid:81) Q (cid:13)(cid:104)τ : k ∈n (cid:105)∈R˙ ;
i i k k k i i
3. for each j ∈ ω, f∗∗ is the relation on X∗∗ of arity m + 1 given by
j j
(cid:104)(cid:104)Q ,τ (cid:105): k ∈m +1(cid:105)∈f∗∗ if (cid:81) Q (cid:13)(cid:104)τ : k ∈m +1(cid:105)∈f˙ .
k k j j k k k j j
The first proposition says that Definition 2.2.2 is sound and that we receive
a structure with the same signature as the original one:
Proposition 2.2.3. The definition of R∗∗ and f∗∗ does not depend on the
i j
choice of representatives of the virtual classes. Moreover, f is a graph of a
j
(total) function.
Proof. The statements “R ,f are E-invariant relations” and “f is a graph of
i j j
a total function in the quotient” are Π1; therefore, they are absolute between
2
V and all forcing extensions. The first sentence of the proposition immediately
follows. Forthesecondsentence, supposethatthefunctionf hasaritym and
j j
(cid:81)
(cid:104)(cid:104)Q ,τ (cid:105): k ∈m (cid:105) is a tuple of E-pins. Let Q= Q and let τ be a Q-name
k k j k k
for an element of X such that f (τ : k ∈ m ,τ) is forced to hold. Since in the
j k j
Q×Q-extension, f is a graph of a function on the quotient and the names τ
j k
fork ∈m areE-pinned,itfollowsthatthenameτ isE-pinnedaswell. Clearly,
j
the tuple (cid:104)(cid:104)Q ,τ (cid:105): k ∈ m ,(cid:104)Q,τ(cid:105)(cid:105) belongs to f∗∗ and the second sentence of
k k j j
the proposition follows.
In the case of an analytic quotient structure, it is possible that its virtual
version is a proper class. In particular, it is possible to express the whole
ordinalaxisasanisomorphofavirtualversionofananalyticquotientstructure–
Example 2.4.6. However, if the equivalence relation E is Borel then the virtual
version is a set of size < (cid:105) by Theorem 2.5.6. In any case, it is possible to
ω1
stratify M∗∗ into set sized pieces:

2.2. VIRTUAL STRUCTURES 41
Definition2.2.4. LetM=(cid:104)X,E,R : i∈ω,f : j ∈ω(cid:105)beananalyticquotient
i j
structure. M∗∗ is the substructure of M∗∗ consisting of the virtual E-classes
κ
represented by names on Coll(ω,κ).
AproofidenticaltothatofProposition2.2.3showsthatM∗∗ isclosedunder
κ
allfunctionsof M∗∗ soitistrulyasubstructure ofM∗∗. Anelementaryname-
counting argument shows that for each infinite κ, the structure M∗∗ has size
κ
at most 2κ. If κ ≤ λ are cardinals then Coll(ω,κ) is regularly embedded in
Coll(ω,λ) so M∗∗ ⊆M∗∗. Every poset is regularly embedded in Coll(ω,κ) for
κ λ
some κ so M∗∗ decomposes into a monotone union (cid:83) M∗∗.
κ κ
For each analytic quotient structure M, there is a canonical embedding
π: M∗ → M∗∗ which maps each class [x] to the virtual E-class of (cid:104)Q,xˇ(cid:105) for
E
a trivial poset Q. The most important fact about the virtual structures is that
there is some degree of elementarity:
Proposition2.2.5. Thecanonicalembeddingπ: M∗ →M∗∗ isΠ -elementary.
1
Proof. Let κ be a cardinal, and let G ⊂ Coll(ω,κ) be a generic filter. In the
modelV[G],letχ: (M∗∗)V →(M∗)V[G]bethemapsendingavirtualE-classin
κ
(M∗∗)V toitsrealization. Thus,wehavemaps(M∗)V → π (M∗∗)V → χ (M∗)V[G].
κ κ
The composition χ◦π sends each equivalence class in V to its interpretation in
V[G].
Let φ be a Π formula in L logic with possible parameters such that
1 ω1ω
M∗ |= φ. The statement M∗ |= φ is a Π1 sentence about the structure M,
2
and by Shoenfield absoluteness it transfers from the ground model V to the
generic extension V[G]. Thus, the map χ◦π is a Π elementary embedding
1
from (M∗)V to (M∗)V[G]. It follows that the map π: M∗ → M∗∗ in V must
κ
be a Π -elementary embedding. Since M∗∗ is an increasing union (cid:83) M∗∗, the
1 κ κ
proposition follows.
In particular, if the original quotient structure was a group, a partial order,
or an acyclic graph, its virtual version maintains these properties. However,
it is important to understand that the embedding does not have to be Σ -
2
elementary, so virtual versions of connected graphs may become disconnected,
virtual versions of divisible groups may not be divisible anymore, and virtual
versions of nonatomic partial orders may have atoms.
Example 2.2.6. Let R be the relation on X = (2ω)ω defined by x R x if
0 1
rng(x ) ⊆ rng(x ). Clearly, the tuple (cid:104)X,F ,R(cid:105) is an analytic quotient struc-
0 1 2
ture. The relation R∗ is a partial order on X∗ without largest element. At
the same time, the relation R∗∗ on X∗∗ does have the largest element, namely
the F -pin presented in Example ??: the pin corresponding to the name for a
2
generic enumeration of 2ω in ordertype ω. This follows immediately from the
classification of F -pins in Example 2.3.5 below.
2

42 CHAPTER 2. THE VIRTUAL REALM
2.3 Classification: general theorems
Inthissection,weprovideanumberofgeneralclassificationtheoremsforvirtual
equivalence classes. The theorems are all of the same type: if F is an analytic
equivalencerelationwhichisobtainedfromanotherequivalencerelationE using
a certain operation, then all virtual F-classes are obtained from virtual E-
classesusingasimilaroperation. Thiswillprovideasuitablebackgroundtothe
investigation of specific cases in Section 2.4.
To start with, a great many analytic equivalence relations yield only utterly
uninteresting virtual classes: only those already realized in the ground model.
This phenomenon is isolated in the following definition.
Definition 2.3.1. [48, Definition 17.1.2] Let E be an analytic equivalence re-
lation on a Polish space X. A virtual E-class represented by (cid:104)P,τ(cid:105) is trivial if
there is x∈X such that P (cid:13)τ E xˇ. The equivalence relation E is pinned if it
has only trivial virtual classes.
The class of pinned equivalence relations has been investigated for a number
of years. The basic pre-existing knowledge about this class is subsumed in the
following fact.
Fact 2.3.2. [48, Theorem 17.1.3] The analytic equivalence relations in the fol-
lowing classes are pinned:
1. orbit equivalence relations generated by actions of Polish cli groups;
2. Borel equivalence relations with all classes Σ0;
3
3. equivalence relations Borel reducible to pinned ones.
The operation on equivalence relations which has the most informative transla-
tion into virtual classes is that of the Friedman–Stanley jump.
Definition 2.3.3. Let E be an analytic equivalence relation on a Polish space
X. The Friedman–Stanley jump of E is the equivalence relation E+ on the
space Y =Xω defined by y E+ y if [rng(y )] =[rng(y )] .
0 1 0 E 1 E
Here, the classification of pinned names is right at hand: a pinned name for
the jump is essentially just a set of pinned names for the original equivalence
relation. For a nonempty set S = {(cid:104)P ,τ (cid:105): i ∈ I} of representatives of virtual
i i
(cid:81)
E-classes, let τ be the name on the poset Q = P × Coll(ω,I) for an
S S i i
element of Xω enumerating the set {τ : i∈I}.
i
Theorem 2.3.4. Let E be an analytic equivalence relation on a Polish space
X.
1. If S is a set of E-pinned names then (cid:104)Q ,τ (cid:105) is an E+-pinned name;
S S
2. (cid:104)Q ,τ (cid:105) E¯+ (cid:104)Q ,τ (cid:105) iff the sets S,T represent the same set of virtual
S S T T
E-classes;

2.3. CLASSIFICATION: GENERAL THEOREMS 43
3. whenever(cid:104)P,τ(cid:105)isanE+-pinnedname,thereisasetS ofE-pinnednames
such that (cid:104)P,τ(cid:105)E¯+ (cid:104)Q ,τ (cid:105).
S S
Proof. Items (1) and (2) are immediate. To prove (3), suppose that τ is an
E+-pinned name on a poset P. For every virtual E-class y, the statement
φ(y) =“rng(τ) contains a realization of the class y” must be decided in the
same way by every condition in P. Let S be any set of E-pinned names which
collects representatives from all virtual E-classes y such that ∀p∈P p(cid:13)φ(yˇ).
We claim that the set S works.
Indeed, suppose that G ,G ⊂ P are mutually generic filters. The sets
0 1
[rng(τ/G )] and[rng(τ/G )] areequal,andbyProposition2.1.7theycontain
0 E 1 E
only realizations of ground model virtual E-classes. By the choice of the set S,
thesesetscontainexactlyrealizationsofvirtualE-classesrepresentedbynames
in S. Since the generic ultrafilter G was arbitrary, (cid:104)P,τ(cid:105) E¯+ (cid:104)Q ,τ (cid:105) as
0 S S
desired.
Example 2.3.5. The relation F is the Friedman–Stanley jump of the identity
2
on X = 2ω. The identity is pinned by Fact 2.3.2 so its virtual classes can be
identified with elements of X. The F -classes then correspond to subsets of 2ω.
2
Countableproductsofequivalencerelationstranslatetothevirtualrealmwith-
out change.
Definition 2.3.6. For each n ∈ ω, let E be an analytic equivalence relation
n
on a Polish space X . The product Π E is the equivalence relation E on
n n n
(cid:81)
Y = X defined by y E y if for every n∈ω, y (n)E y (n).
n n 0 1 0 n 1
For every function g such that dom(g) = ω and for all n ∈ ω g(n) is some
(cid:81)
E -pinned name (cid:104)Q ,τ (cid:105), let τ be the name on the poset Q = Q (the
n n n g g n n
support applied in the product is irrelevant for the equivalence class of the
resulting Π E -pin) for the sequence (cid:104)τ : n ∈ ω(cid:105), which is forced to be an
n n n
element of Y. The following is nearly immediate.
Theorem 2.3.7. For each n ∈ ω, let E be analytic equivalence relations on
n
(cid:81)
respective Polish spaces X and let E = E .
n n n
(cid:81)
1. If g is a sequence of E -pinned names, then (cid:104)Q ,τ (cid:105) is an E -pin;
n g g n n
2. (cid:104)Q ,τ (cid:105)E¯ (cid:104)Q ,τ (cid:105) iff for each n∈ω, g(n)E¯ h(n);
g g h h n
3. whenever (cid:104)P,τ(cid:105) is an E-pinned name, there is a function g such that
(cid:104)P,τ(cid:105)E¯ (cid:104)Q ,τ (cid:105).
g g
Countable increasing unions of equivalence relations translate to the virtual
realm without change as well.
Theorem 2.3.8. Let {E : n∈ω} be an increasing sequence of analytic equiv-
n
(cid:83)
alence relations on a Polish space X, and let E = E .
n n

44 CHAPTER 2. THE VIRTUAL REALM
1. Whenever (cid:104)Q,σ(cid:105) is an E -pinned name for some n ∈ ω then it is also
n
E-pinned;
2. whenever (cid:104)P,τ(cid:105) is an E-pinned name, there exists a number n ∈ ω and
an E -pinned name (cid:104)Q,σ(cid:105) such that (cid:104)P,τ(cid:105)E¯ (cid:104)Q,σ(cid:105).
n
Proof. (1) is immediate as E ⊂E. For (2), by the forcing theorem there must
n
beconditionsp ,p ∈P andanumbernsuchthat(cid:104)p ,p (cid:105)(cid:13) τ E τ .
0 1 0 1 P×P left n right
The transitivity of the relation E then shows that τ on the poset P (cid:22)p is an
n 0
E -pinned name. The initial assumptions show that (cid:104)P,τ(cid:105) E¯ (cid:104)P (cid:22) p ,τ(cid:105). as
n 0
desired.
Example 2.3.9. The Louveau jump survives into the virtual realm without
change. The Louveau jump of an analytic equivalence relation E on a Polish
space X is the equivalence relation E+L on Y = Xω connecting y ,y ∈ Y
0 1
if for all but finitely many n ∈ ω, y (n) E y (n). The Louveau jump can
0 1
be written as a countable increasing union of countable products of E, which
by Theorems 2.3.7 and 2.3.8 yields a complete analysis of its virtual classes in
terms of virtual E-classes. In particular, if E is pinned then its Louveau jump
is pinned.
The virtual realm also correctly reflects the situation in which the equivalence
classes of one relation consist of countably many equivalence classes of another
one.
Definition2.3.10. LetE,F beanalyticequivalencerelationsonaPolishspace
X. We say that F is countable over E if E ⊂ F and every F-class consists of
countably many E-classes.
Theorem 2.3.11. Let E,F be analytic equivalence relations on a Polish space
X, with F countable over E.
1. If (cid:104)Q,σ(cid:105) is an E-pinned name then it is F-pinned as well;
2. if (cid:104)P,τ(cid:105) is an F-pinned name then there is an E-pinned name (cid:104)Q,σ(cid:105) such
that (cid:104)P,τ(cid:105)F¯ (cid:104)Q,σ(cid:105).
Proof. (1) is immediate. For (2), it will be enough to show that there is a
condition p ∈ P such that τ is an E-pinned name on P (cid:22) p, for then (cid:104)P,τ(cid:105) F¯
(cid:104)P (cid:22)p,τ(cid:105) as desired.
Suppose towards a contradiction that there is no condition p∈P such that
τ is E-pinned on the poset P (cid:22) p. It follows by the forcing theorem that
P ×P (cid:13)¬τ E τ holds. Let M be a countable elementary submodel of a
left right
large structure containing P,τ and the codes for E,F. Use Proposition 1.7.8 to
find an uncountable collection {g : i∈I} of filters on M∩P pairwise mutually
i
generic over the model M. By the Mostowski absoluteness between the models
M[g ,g ] and V for i (cid:54)= j ∈ I, the elements τ/g ∈ X for i ∈ I are pairwise
i j i
F-related, but pairwise E-unrelated, contradicting the initial assumptions on
the relations E,F.

2.4. CLASSIFICATION: SPECIFIC EXAMPLES 45
Example 2.3.12. The Clemens jump survives into the virtual realm without
change. HeretheClemensjumpofananalyticequivalencerelationEonaPolish
space X is the equivalence relation E+C on Y = XZ connecting y ,y ∈ Y if
0 1
thereisn∈Zsuchthatforeverym∈Zy (m)E y (m+n). TheClemensjump
0 1
is countable over the product of Z-many copies of E, which yields a complete
analysis of its virtual classes by Theorems 2.3.7 and 2.3.8. In particular, if E is
pinned, then so is its Clemens jump.
2.4 Classification: specific examples
There are many analytic equivalence relations for which the virtual space can
be classified by more tangible combinatorial objects, but which do not fit into
the context of the theorems of Section 2.3. The purpose of this section is to
investigate these more difficult, but also more informative, possibilities.
Themostinterestingissuesariseinequivalencerelationsclassifiablebycount-
ablestructures. Amongthese,theBorelequivalencerelationsareBorelreducible
to an iterated jump of the identity [48, Theorem 12.5.2], so can be handled by
Theorems 2.3.4 and 2.3.8. For example, for all equivalence relations E Borel
reducible to F , the virtual E-classes are classifiable by subsets of 2ω by Exam-
2
ple 2.3.5.
More interesting issues arise with analytic equivalence relations. Let E be
the equivalence relation of isomorphism of structures on ω. In this case, the
virtual classes correspond to potential Scott sentences in the sense of [96]. In
somecases,itispossibletoclassifyvirtualclassesofEbyuncountablestructures
as in the following definition.
Definition 2.4.1. Let M be a (possibly uncountable) structure of a countable
signature. τ is a Coll(ω,M)-name for some structure on ω isomorphic to M.
M
Itisimmediatethatthepair(cid:104)Coll(ω,M),τ (cid:105)isanE-pin,anditsE¯-equivalence
M
relationdoesnotdependonthechoiceofthenameτ . ItturnsoutthattheE¯-
M
equivalencerelationontheE-pinsobtainedinthiswaycoincideswithafamiliar
concept of model theory:
Definition 2.4.2. [67, Section 2.4] Let M,N be structures with the same sig-
nature. Say that M,N are Ehrenfeucht–Fraiss´e-equivalent if Player II has a
winning strategy in the Ehrenfeucht–Fraiss´e game. In the EF-game, the two
players take turns, at round i∈ω Player I starting with an element n ∈N or
i
m ∈ M and Player II responding with an element m ∈ M or n ∈ N respec-
i i 1
tively. After all rounds indexed by i∈ω have been completed, Player II wins if
the map n (cid:55)→m for i∈ω preserves all relations and functions of N,M in the
i i
signature.
Theorem 2.4.3. Let M,N be models with the same countable signature. The
following are equivalent:
1. M,N are Ehrenfeucht–Fraiss´e equivalent;

46 CHAPTER 2. THE VIRTUAL REALM
2. (cid:104)Coll(ω,M),τ (cid:105)E¯ (cid:104)Coll(ω,N),τ (cid:105).
M N
Proof. Forthe(1)→(2)direction,ifM isEhrenfeucht–Fraiss´eequivalenttoN as
witnessedbyawinningstrategyσforPlayerIintheEF-game,thenColl(ω,M)×
Coll(ω,N) (cid:13) τ E τ , since a generic run of the EF-game in which Player II
M N
follows the strategy σ will generate an isomorphism between M and N in the
extension. For the (2)→(1) direction, suppose that Coll(ω,M)×Coll(ω,N) (cid:13)
τ E τ and let π: Mˇ → Nˇ be a product name for the isomorphism. The
M N
winningstrategyforPlayerIIcanbedescribedasfollows: asthegamedevelops,
PlayerIIalsomaintainsonthesideconditionsq ∈Coll(ω,M)×Coll(ω,N)such
i
that q ≥ q ≥ ... and q (cid:13) π(mˇ ) = nˇ . It is immediate that this is possible
0 1 i i i
and Player II must win in the end.
In the language of [96], a sentence φ of L is grounded if every virtual equiv-
ω1ω
alence class is represented by a collapse name for a possibly uncountable model
of φ. In general, there are virtual E-classes which are not represented by a
straightforward collapse name as in Definition 2.4.1, as [50, Section 4] shows.
However, a collapse name can be found for certain classes of structures.
Definition 2.4.4. Let Γ be a coanalytic set of structures on ω, closed un-
der isomorphism. A (possibly uncountable) structure M is a Γ∗∗-structure if
Coll(ω,M)(cid:13)τ ∈Γ.
M
We proceed to show that for some interesting coanalytic classes Γ, every E¯ -
Γ
class is represented by a collapse name of a Γ∗∗-structure as in Definition 2.4.1.
Intheclassificationresults,wealwaysignorethetrivialclassofstructureswhich
do not belong to Γ. Results similar to the following theorem appear in [57] and
[65].
Theorem 2.4.5. Let Γ be a coanalytic class of countable structures on ω, in-
variant under isomorphism, consisting of rigid structures only.
1. For Γ∗∗-structures, Ehrenfeucht–Fraiss´e equivalence and isomorphism co-
incide;
2. for every E -pin (cid:104)P,σ(cid:105) there is a Γ∗∗-structure M such that (cid:104)P,σ(cid:105) E¯
Γ
(cid:104)Coll(ω,M),τ (cid:105).
M
Proof. Beforewebegintheargument,notethatthestatementthateverystruc-
ture in the set A is rigid is Π1; therefore, it holds also in all generic extensions
2
by the Shoenfield absoluteness.
For(1),itisclearthatisomorphicstructuresareEhrenfeucht–Fraiss´eequiva-
lent. For the opposite implication, suppose that M,N are Γ∗∗ structures which
are EF-equivalent. By Theorem 2.4.3, Coll(ω,M) × Coll(ω,N) (cid:13) τ E τ
M N
must hold. As Γ consists of rigid structures even in the collapse extension,
Coll(ω,M)×Coll(ω,N) forces that there is a unique isomorphism π: M →N.
Since Coll(ω,M) × Coll(ω,N) is a homogeneous notion of forcing, for each
m ∈ M the value of π(mˇ) is decided by the largest condition to be some

2.4. CLASSIFICATION: SPECIFIC EXAMPLES 47
h(m) ∈ N. The function h: M → N is an isomorphism of M to N present
already in V.
For(2),letG ×G ⊂P×P bemutuallygenericfiltersoverV. Inthemodel
0 1
V[G ,G ],letN =τ/G andN =τ/G . TodefinethemodelM ∈V,letx =
0 1 0 0 1 1 0
{s: s is the Scott sentence of the model (cid:104)N ,a(cid:105) for some a∈N }∈V[G ] and
0 0 0
x ={s: sistheScottsentenceofthemodel(cid:104)N ,a(cid:105)forsomea∈N }∈V[G ].
1 1 1 1
SinceN isisomorphictoN ,itfollowsfromKarp’stheorem[32,Lemma12.1.6]
0 1
that x =x , so x =x ∈V[G ]∩V[G ]∈V. The set x will be the universe
0 1 0 1 0 1 0
of the model M. Note that since the model N is rigid, the elements of N are
0 0
in one-to-one correspondence with x by Karp’s theorem again and the unique
0
isomorphismbetweenN andN factorsthroughtheidentityonthesetx =x .
0 1 0 1
To construct the realizations of relational and functional symbols of the model
M,foreveryrelationalsymbolR(saybinary)ofthelanguageofthemodelsand
s,t∈x , let sRM t if for the unique a,b∈N such that s is the Scott sentence
0 0
of a and t is a Scott sentence of b, N |= s R t. The same definition using the
0
model N yields the same relation, so RM ∈ V[G ]∩V[G ] = V. Define the
1 0 1
realizationsofallfunctionalandrelationalsymbolsofthemodelM inthisway.
As a result, M is a model in V and the map sending each a ∈ M to the Scott
sentence of (cid:104)M,a(cid:105) is an isomorphism of N and M in the model V[G ]. Thus,
0 0
(2) follows.
Theorem 2.4.5 makes it possible to describe some class-sized virtual spaces ex-
plicitly:
Example 2.4.6. The virtual E -classes are precisely classified by ordinals,
ω1
since E = E where Γ is the class of all well-orderings on ω. Well-orderings
ω1 Γ
are rigid, and up to isomorphism are classified by ordinals.
Example 2.4.7. The virtual HC-classes are classified by transitive sets with
the ∈-relation. Note that all extensional, well-founded relations are rigid and
uniquelyisomorphictoauniquetransitivesetwiththe∈-relationbytheMostowski
collapse theorem [45, Theorem 6.15].
Inthecaseofnon-rigidstructures, theclassificationmaybecomemorecom-
plicated. We will treat the case of acyclic graphs, which has the virtue of being
Borel-complete among the equivalence relations classifiable by countable struc-
tures. Note that the Ehrenfeucht–Fraiss´e equivalence on uncountable acyclic
graphs is distinct from isomorphism, as the case of an empty graph on ℵ or ℵ
1 2
vertices shows.
Theorem 2.4.8. LetΓbetheclassofallacyclicgraphsonω. ForeveryE -pin
Γ
(cid:104)P,σ(cid:105) there is an acyclic graph H such that (cid:104)P,σ(cid:105)E¯ (cid:104)Coll(ω,H),τ (cid:105).
H
Proof. The point of the proof is that an acyclic graph can be explicitly built
from automorphism orbits of its elements. This procedure is captured in the
following observation. Suppose x is a set, f: x2 →ω+1 is a function such that
f(s,t)>0↔f(t,s)>0, and g: x2 →ω+1 is a function such that f(s,t)>0
implies g(s)=g(t). Then there is, up to an isomorphism unique, acyclic graph

48 CHAPTER 2. THE VIRTUAL REALM
H(x,f,g) together with an onto map h: y →x, where y is the set of vertices of
H(x,f,g), such that
• for every s,t ∈ x and every vertex v ∈ y, if h(v) = s then the set of all
neighbors of v mapped to t has size f(s,t);
• for every s ∈ x there are g(s) many connected components of the graph
H containing a vertex v with h(v)=s.
TheconstructionofthegraphH(x,f,g)isstraightforward. Notethatwhen-
ever u,v ∈ y are two vertices such that h(u) = h(v) then there is an automor-
phism of the graph H(x,f,g) sending u to v.
Now, suppose that σ is an E-pinned name on a poset P and let G ×G ⊂
0 1
P×P bemutuallygenericfiltersoverV. InthemodelV[G ,G ],letH =σ/G
0 1 0 0
andH =σ/G . TodefinethegraphH ∈V,letx ={s: sistheScottsentence
1 1 0
of the model (cid:104)H ,v(cid:105) for some vertex v of H } ∈ V[G ] and x = {s: s is the
0 0 0 1
Scott sentence of the model (cid:104)H ,v(cid:105) for some vertex v in H } ∈ V[G ]. Since
1 1 1
H is isomorphic to H , it follows from Karp’s theorem [32, Lemma 12.1.6]
0 1
that x = x , so x = x = x ∈ V[G ]∩V[G ] ∈ V. Let f: x2 → ω +1
0 1 0 1 0 1
be the function defined by f(s,t) = i if every vertex of H of type s has i-
0
many neighbors of type t when i ∈ ω, and f(s,t) = ω if every vertex of H
0
of type s has infinitely many neighbors of type t. Let g: x → ω +1 be the
function defined by f(s) = i if there are i-many connected components of H
0
containing a node of type s when i ∈ ω, and g(s) = ω if there are infinitely
manyconnectedcomponentsofH containinganodeoftypes. Notethatthese
0
functions are well-defined and the graph H is isomorphic to H(x,f,g) in the
0
modelV[G ]. SimilardefinitionsusingthegrapH yieldthesamefunctions, so
0 1
f,g ∈ V[G ]∩V[G ] = V. Working in V, consider the graph H = H(x,f,g).
0 1
This graph is isomorphic to H in V[G ], so τ E¯ σ.
0 0 H
Intherecentyears,modeltheoristsprovedseveralothertheoremsregardingthe
classificationofvirtualisomorphismclassesbypossiblyuncountablestructures.
[96] provides further examples of grounded sentences beyond those obtained by
Theorems 2.4.5 and 2.4.8. The first item of the following theorem is related to
classical arguments going at least as far back as the unpublished work of Leo
Harrington in the 1980’s. Similar results also appear in [6] and [65].
Fact 2.4.9. [50, Section 4] Let E be the equivalence relation of isomorphism of
structures on ω.
1. If P is a poset forcing |ℵV| > ℵ then every E-pin (cid:104)P,σ(cid:105) is E¯-equivalent
2 0
to (cid:104)Coll(ω,M),τ (cid:105) for some structure M of size ≤ℵ ;
M 1
2. if P forces |ℵV| = ℵ , then there is an E-pin (cid:104)P,σ(cid:105) which is not E¯-
2 0
equivalent to (cid:104)Coll(ω,M),τ (cid:105) for any structure M.
M
Virtual spaces for equivalence relations which are not classifiable by countable
structures are often quite difficult to understand. To conclude this section, we
state another classification theorem and a couple of open questions.

2.5. CARDINAL INVARIANTS 49
Theorem2.4.10. LetE betheequivalencerelationonX =(P(ω))ω connecting
x ,x ifrng(x )andrng(x )generatethesamefilteronω. ThevirtualE-classes
0 1 0 1
are classified by filters on ω.
Proof. On one hand, if F is a filter on ω, one can consider the Coll(ω,F)-name
τ for a generic enumeration of the filter F. It is immediate that the name τ
F F
is E-pinned, and distinct filters yield inequivalent names.
For the more difficult part, suppose that P is a partial order and τ is an
E-pinned name on P; we must find a filter F on ω such that τ is equivalent
to τ . To do this, let F = {a ⊂ ω: ∃p p (cid:13) aˇ belongs to the filter generated
F
by rng(τ)}. By the pinned property of the name τ, the existential quantifier in
the definition of F can be replaced by universal without changing the resulting
set F. It follows immediately that the set F is a filter; we must show that τ is
equivalent to τ .
F
Supposetowardsacontradictionthatthisfails;thenitmustbethecasethat
for some condition p ∈ P and some number n ∈ ω, p forces τ(nˇ) to have no
subsetinthefilterF. Sincethenameτ isE-pinned,theremustexistconditions
p ,p ≤p and a finite set a⊂ω such that (cid:104)p ,p
(cid:105)(cid:13)(cid:84)
τ (m)⊂τ (nˇ).
0 1 0 1 m∈aˇ right left
Let b = {k ∈ ω: ∃r ≤ p r (cid:13) kˇ ∈ (cid:84) τ(m)} and let c = {k ∈ ω: p (cid:13)
1 m∈a 0
kˇ ∈ τ(nˇ)}. Observe that b ∈ F (since p (cid:13) (cid:84) τ(m) ⊂ ˇb) and c ∈/ F (since
1 m∈a
p (cid:13) cˇ⊂ τ). Thus, there has to be a number k ∈ b\c, and for this number k
0
there are conditions r ≤ p and r ≤ p such that r (cid:13) kˇ ∈ (cid:84) τ(m) and
0 0 1 1 1 m∈a
r (cid:13)kˇ ∈/ τ(nˇ). This,however,contradictsthechoiceoftheconditionsp ,p .
0 0 1
Consider the equivalence relation E of homeomorphism of compact metrizable
spaces. Thisisknowntobethelargestequivalencerelationreducibletoanorbit
equivalenceinthesenseofBorelreducibility[105]. Inanattempttodescribeits
virtualspace, consideranycompactHausdorffspaceX withatopologybasisof
size κ, and consider the Coll(ω,κ)-name τ for the interpretation of the space
X
X in the extension in the sense of [102]. The interpretation of X will have a
countable basis, so the interpretation will be a compact metrizable space. The
basictheoryofinterpretationsshowsthat(cid:104)Coll(ω,κ),τ (cid:105)isanE-pin. Themost
X
natural question is open:
Question 2.4.11. IseveryvirtualE-classrepresentedbyacompactHausdorff
space?
ThemeasureequivalenceE isoneofthehardestequivalencerelationstounder-
stand. It connects two Borel probability measures µ,ν on the Cantor space if
they share the same ideal of null sets. The relation F Borel reduces to E, so
2
E is not pinned.
Question 2.4.12. Classify the virtual space for the measure equivalence.
2.5 Cardinal invariants
There are several cardinal invariants of equivalence relations which are associ-
ated with the concept of virtual equivalence classes. They respect the Borel

50 CHAPTER 2. THE VIRTUAL REALM
reducibility order; therefore, they are useful as tools for nonreducibility results.
They also are conceptually useful in several places in this book.
2.5a Basic definitions
The following definition records the most natural cardinal invariants associated
with the virtual spaces.
Definition 2.5.1. Let E be an analytic equivalence relation on a Polish space
X.
1. κ(E), the pinned cardinal of E, is the smallest κ (if it exists) such that
every virtual E-class has a representative on a poset of size < κ. If E is
pinned, we let κ(E)=ℵ . If κ(E) does not exist, we write κ(E)=∞;
1
2. λ(E) is the cardinality of the set of all virtual E-classes. If the virtual
E-classes form a proper class, we let λ(E)=∞;
3. λ(E,P) is the cardinality of the set of all virtual E-classes represented on
the poset P.
Note that κ(E) = ∞ just in case λ(E) = ∞; at the same time, λ(E,P) < ∞
holdsforallE,P. Therathermysteriousdemandthatκ(E)=ℵ forallpinned
1
equivalence relations E is explained by a reference to Theorem 2.6.2: there are
no nontrivial pinned names on countable posets for any analytic equivalence
relation. It turns out that the cardinals κ(E) and λ(E,P) can attain all kinds
of exotic and informative values. We will start with the two archetypal and
somewhat boring computations.
Example 2.5.2. κ(F )=c+ and λ(F )=2c.
2 2
Proof. This follows immediately from the classification of pinned names for the
Friedman–Stanley jump. Every virtual F class is represented by a subset of
2
2ω, and distinct subsets of 2ω give rise to distinct virtual F classes.
2
Example 2.5.3. κ(E ) = ∞. To see this, note that by Example 2.4.6, the
ω1
virtual E -classes are classified by ordinals, so there is a proper class of them.
ω1
Similarly,κ(HC)=∞,asbyExample2.4.7thevirtualHC-classesareclassified
by transitive sets, so there is a proper class of them.
Theorem 2.8.9 shows that in fact E is a minimal example of an equivalence
ω1
relation E with κ(E)=∞.
The most appealing fact about the cardinal invariants κ(E) and λ(E,P)
is that they respect the Borel reducibility order; therefore, they can be used
to prove Borel nonreducibility results. In a good number of instances, the
comparison of the cardinal invariants is the fastest and most intuitive way of
provingnonreducibility. Oneofthemainfeaturesofthisstyleofargumentation
is that it automatically survives the transfer to nonreducibility by functions
more complicated than Borel.

2.5. CARDINAL INVARIANTS 51
Theorem 2.5.4. Let E,F be analytic equivalence relations on Polish spaces
X,Y respectively. If E ≤ F then κ(E) ≤ κ(F) and λ(E,P) ≤ λ(F,P) holds
a
for every partial order P.
Proof. Suppose that h: X →Y is a Borel function witnessing the reduction of
E to F everywhere except for a set Z ⊂ X consisting of countably many E-
classes. ByaShoenfieldabsolutenessargument,thesepropertiesofthefunction
h transfer to all generic extensions. If P is a partial ordering and τ is an E-
pinned name on P which is not a name for one of the classes in the set Z, then
h˙(τ) is an F-pinned name on P, and the map τ (cid:55)→h˙(τ) respects virtual E- and
F-classes, and it is an injection from the former to the latter. It follows that
λ(E,P)≤λ(F,P).
Now,supposethatQisanotherposetandthath(τ)hasaF¯-equivalentname
σ onQ. BytheShoenfieldabsoluteness,Q(cid:13)∃x∈X\Z h˙(x)=τ; anyQ-name
for such an x is E-pinned and the name for h(x) is F¯-equivalent to h(τ). A
brief bout of diagram chasing now shows that κ(E) ≤ κ(F) and the theorem
follows.
The following neat application has been observed by [96] for the case of Borel
equivalence relations classified by countable structures.
Example 2.5.5. Friedman and Stanley proved that the Friedman–Stanley
jumpofaBorelequivalencerelationEisnotBorelreducibletoE[31]. Themost
appealingproofofthisfactusesthecardinalinvariantλ(E). Theorem2.5.6be-
low shows that for Borel equivalence relations, the value of λ(E) is an actual
cardinalasopposedto∞. Theorem2.3.4showsthatvirtualE+-classesareclas-
sifiedbysetsofvirtualE-classes,inotherwordsλ(E+)=2λ(E). Theorem2.5.4
then completes the argument.
2.5b Estimates
The key fact about the pinned cardinal is the following theorem. It shows that
there are a priori bounds on the size of the pinned cardinal; in particular, if the
equivalence relation E is Borel, then κ(E) ≤ (cid:105) and the virtual space of E is
a set. Recall that the (cid:105) function is defined by r ω e 1 cursion: (cid:105)
0
=ℵ
0
, (cid:105)
α+1
=2(cid:105) α,
and (cid:105) =sup (cid:105) if α is a limit ordinal.
α β∈α β
Theorem 2.5.6. Let E be a Borel equivalence relation on a Polish space X of
rank Π0. Then κ(E)≤((cid:105) )+.
α α
Proof. Letτ beanE-pinnednameonaposetP;wemustproduceaColl(ω,(cid:105) )-
α
name σ which is E¯-related to τ. Note that [τ] is a P-name for a Borel set
E
of rank ≤ α. As is the case for every name for a Borel set, [87, Corollary
2.9] shows that in the Coll(ω,(cid:105) ) extension V[G] there is a Borel code for a
α
BorelsetB ⊂X suchthatineveryfurtherforcingextensionV[G][H]andevery
x ∈ X ∩V[G][H] in that extension, x ∈ B if and only if V[x] |= P (cid:13) xˇ ∈ [τ] .
E
NotethatifH ⊂P isgenericoverV[G],thenthesetB isnonemptyinV[G][H],
containing the point τ/H; this follows from the fact that τ is E-pinned. Thus,

52 CHAPTER 2. THE VIRTUAL REALM
the set B is nonempty already in V[G] by the Mostowski absoluteness between
V[G] and V[G][H]. Back in V, let σ be any Coll(ω,(cid:105) )-name for an element of
α
the set B. This clearly works.
Example2.5.7. Foranygivencountableordinalα,letΓ betheclassofbinary
α
relations on ω which are extensional and wellfounded of rank < α; let E be
α
the isomorphism relation. It is not difficult to check (Theorem 2.4.5) that for
each countable ordinal α, the relation E is Borel, and its pinned names are
α
collapse names for isomorphs of the membership relation on sets in V . Thus,
α
the cardinals κ(E ) converge to (cid:105) .
α ω1
Theorem 2.5.8. Let E be an analytic equivalence relation almost reducible to
an orbit equivalence relation of a continuous Polish group action. If κ(E)<∞
then κ(E) is not greater than the first ω -Erd˝os cardinal.
1
Proof. Let κ be the first ω -Erd˝os cardinal, and suppose that κ(E) > κ; we
1
must show that κ(E) = ∞. Since the cardinal κ is the Hanf number for the
class of wellfounded models of first order sentences, for every cardinal λ there
is a wellfounded model M such that M |= κ(E) > λ. Now, since E is almost
reducible to an orbit equivalence relation, Corollary 2.7.4 shows that the well-
founded model M is correct about κ(E) to the extent that |κ(E)M|≤κ(E). It
follows that κ(E)>λ, and since λ was arbitrary, κ(E)=∞.
Example 2.5.9. For every countable ordinal α there is a coanalytic class Γ of
structures on ω, invariant under isomorphism, such that κ(E ) is equal to the
Γ
first α-Erd˝os cardinal.
Proof. Let Γ be the class of all binary relations on ω which are extensional,
wellfounded, and do not admit a sequence of indiscernibles of ordertype α; we
claim that this class works.
Clearly,Γisacoanalyticsetofrigidstructuresinvariantunderisomorphism.
Write E for E and κ for the first α-Erd˝os cardinal. By Theorem 2.4.5, every
Γ
virtual E-class is represented by a transitive set A without indiscernibles of
ordertype α. It must be the case that |A|<κ so κ(E)≤κ. On the other hand,
wheneverλ<κisanordinal,thenthestructure(cid:104)V ,∈(cid:105)hasnoindiscerniblesof
λ
ordertypeα,anditremainssuchineveryforcingextensionbyawellfoundedness
argument. Thus,theColl(ω,V )-nameforthegenericisomorphofthisstructure
λ
is E-pinned, and it is not equivalent to any E-pinned name on a poset of size
<|V | since it entails the collapse of |V | to ℵ . Thus, κ(E)=κ as desired.
λ λ 0
Theorem 2.5.10. Let E be an analytic equivalence relation on a Polish space
X. Let κ be a measurable cardinal. If κ(E)<∞ then κ(E)<κ.
Proof. Suppose that there is a poset P and an E-pinned name τ on P which is
not E¯-related to any name on a poset of size < κ. We will produce a proper
class of pairwise non-E¯-related E-pinned names.
First note that the poset P and the name τ can be selected so that |P|=κ.
SimplytakeanelementarysubmodelM ofsizeκoflargestructurewithV ⊂M
κ

2.5. CARDINAL INVARIANTS 53
and consider Q = P ∩M and σ = τ ∩M; so |Q| = κ. As M is correct about
pinned names and the equivalence E¯ by a Shoenfield absoluteness argument, σ
is an E-pinned name on Q and it is not E¯-equivalent to any pinned names on
posets of size <κ.
Thus,assumethattheposetP hassizeκ. Letj: V →N beanyelementary
embedding into a transitive model with critical point equal to κ. Note that
H(κ)⊂N,sobothP,τ are(isomorphicto)elementsofN. Let(cid:104)N ,j : β ∈α(cid:105)
α βα
betheusualsystemofiterationoftheelementaryembeddingj alongtheordinal
axis. LetP =j (P)andτ =j (τ). Itwillbeenoughtoshowthatthepairs
α 0α α 0,α
(cid:104)P ,τ (cid:105) for α∈Ord are pairwise E¯-unrelated. To see this, pick ordinals α∈β.
α α
Astheoriginalposethadsizeκ,itisthecasethatP ,τ ,P ,τ areinthemodel
α α β β
N . Bytheelementarityoftheembeddingj ,N |=¬(cid:104)P ,τ (cid:105)E¯ (cid:104)P ,τ (cid:105). The
β 0β β α α β β
wellfoundedmodelN iscorrectaboutE¯byaShoenfieldabsolutenessargument,
β
so (cid:104)P ,τ (cid:105)E¯ (cid:104)P ,τ (cid:105) fails also in V as required.
α α β β
Unliketheprevioustheoremsinthissection,wedonothaveacomplementary
exampleshowingthatthemeasurablecardinalboundis,atleasttosomeextent,
optimal.
The last theorem in this section provides an estimate of the λ cardinal for
unpinned equivalence relations. The well-known Silver dichotomy says that
every Borel equivalence relation with uncountably many classes has in fact 2ℵ0
many classes. We would like to show that every unpinned Borel equivalence
relation has at least 2ℵ1 many virtual classes. However, in ZFC this is still
open. The best we can do is the following.
Theorem 2.5.11. Let E be an unpinned Borel equivalence relation. Let κ be
an inaccessible cardinal. Then Coll(ω,<κ)(cid:13)λ(E,Coll(ω,ω
1
))=2ℵ1.
Proof. Let A ⊂ P(κ) be a set of size 2κ such that all elements of A have
cardinalityκandanytwodistinctelementsofAhaveintersectionofcardinality
<κ. RecallthattheposetP =Coll(ω,<κ)isafinitesupportproductofposets
Coll(ω,α) for α ∈ κ. For every set a ⊂ κ write P = Π Coll(ω,α) ⊂ P. Let
a α∈a
G⊂Coll(ω,<κ) be a generic filter. Use Theorem 2.7.1 to argue that for every
a∈A, V[G∩P ]|=E is unpinned, and let (cid:104)Q ,τ (cid:105)∈V[G∩P ] be a nontrivial
a a a a
E-pinned name with its attendant poset. It will be enough to show that the
pairs (cid:104)Q ,τ (cid:105) for a∈A represent pairwise distinct virtual classes.
a a
Suppose towards a contradiction that for some a (cid:54)= b in the set A the E-
pinnednamesτ ,τ areequivalent. Letc=a∩bandworkinthemodelV[G∩P ].
a b c
The assumptions imply that the poset (P ∗Q˙ )×(P ∗Q˙ ) forces (at least
a\c a b\c b
below some condition) that τ E τ . It follows that the name τ on the poset
a b a
P ∗Q˙ is E-pinned. Since the equivalence relation E is Borel, it follows that
a\c a
that the virtual class of (cid:104)P ∗Q˙ ,τ (cid:105) is also represented by some pair (cid:104)R,σ(cid:105)
a\c a a
by some poset of size < (cid:105) < κ by Theorem 2.5.6. However, in the model
ω1
V[G∩P ], there is a filter H ⊂ R generic over the model V[G∩P ]. Thus,
a c
it would have to be the case that in the model V[G∩P ], Q (cid:13) τ E σ/H,
a a a
contradicting the nontriviality of the name τ .
a

54 CHAPTER 2. THE VIRTUAL REALM
Example2.5.12. AswiththeSilverdichotomy,theconclusionofTheorem2.5.11
fails for analytic equivalence relations. Consider the case of the equivalence re-
lation E and an inaccessible cardinal κ such that 2κ > κ+. In the Coll(ω,<
ω1
κ) extension, ℵ
2
< 2ℵ1 will hold; at the same time, E
ω1
-names realized on
Coll(ω,ω ) are classified by ordinals of cardinality ℵ , so there are only ℵ -
1 1 2
many of them.
2.5c Cardinal arithmetic examples
Thecardinalinvariantsκ(E)andλ(E)provideabasisonwhichequivalencere-
lationscanbecomparedwithuncountablecardinalsofallsorts. Inthissection,
we will introduce several jump operations which have direct translations into
cardinal arithmetic operations. Using this approach, one can formally encode
statementssuchasthefailureofthesingularcardinalhypothesisintoreducibil-
ity results between Borel or analytic equivalence relations. For brevity, given
a coanalytic class Γ of structures on ω invariant under isomorphism, we write
κ(Γ) for κ(E ) in this section.
Γ
The constructions in this section depend on certain types of jump operators
on structures and equivalence relation. They are all provisionally denoted by
the+sign,nottobeconfusedwiththeFriedman–Stanleyjump. Thefirstjump
operation on equivalence relations we will consider translates into the powerset
operation using the pinned cardinal:
Definition 2.5.13. Let Γ be a coanalytic class of structures on ω, invariant
under isomorphism. Γ+ is the class of structures on ω of the following descrip-
tion: there is a partition ω =a∪b into two infinite sets, there is a Γ-structure
on a, and there is an extra relation R on b×a such that the vertical sections
R for m∈b are pairwise distinct subsets of a.
m
Proposition 2.5.14. Let Γ be a coanalytic class of structures on ω, invariant
under isomorphism.
1. Γ+ is coanalytic, and if Γ is Borel then so is Γ+;
2. if Γ consists of rigid structures, then so does Γ+;
3. if Γ consists of rigid structures and κ(Γ)=λ+ then κ(Γ+)=(2λ)+.
Proof. The first two items are obvious. For (3), suppose that κ(Γ)=λ+. Then
there must be a Γ∗∗ structure M of size λ and no Γ∗∗ structures of larger
size. By Theorem 2.4.5 and (2), every virtual E -class is associated with a Γ∗∗
Γ
structure. Every(Γ+)∗∗-structureconsistsofaΓ∗∗-structureandsomefamilyof
its pairwise distict subsets; the largest such structure then is of size 2λ exactly.
This completes the proof.
Corollary 2.5.15. For every countable ordinal α there is a Borel class Γ of
rigid structures such that κ(E )=(cid:105)+.
Γ α

2.5. CARDINAL INVARIANTS 55
Proof. By transfinite recursion on α define Borel classes Γ consisting of rigid
α
structuresasfollows. LetΓ betheclassofstructuresisomorphicto(cid:104)ω,∈(cid:105). Let
0
Γ = (Γ )+. For a limit cardinal α let Γ be the class of structures which
α+1 α α
consist of exactly one copy of a structure in class Γ for each β ∈ α. It is not
β
difficulttoprovebyinductiononαusingtheProposition2.5.14atthesuccessor
stage and Theorem 2.4.5 at the limit stage that κ(E )=(cid:105)+ as desired.
Γ α
Definition 2.5.16. Let Γ be a coanalytic class consisting of structures on ω
invariantunderisomorphism. Γ+ istheclassofstructuresonω ofthefollowing
description. A structure M ∈Γ+ has a linear order ≤ . Moreover, writing L
M n
for the set {m ∈ M: m ≤ n}, the structure M induces a Γ-structure M on
M n
L for coboundedly many n ∈ M such that for distinct elements n ,n ∈ M,
n 0 1
the structures (cid:104)M ,≤ (cid:105) and (cid:104)M ,≤ (cid:105) are nonisomorphic.
n0 M n1 M
Proposition 2.5.17. Let Γ be a coanalytic class of structures on ω, invariant
under isomorphism.
1. Γ+ is coanalytic;
2. if Γ is Borel and consists of rigid structures, then Γ+ is Borel and consists
of rigid structures;
3. if Γ consists of rigid structures, then κ(Γ+)=κ(Γ)+.
Proof. (1)isclear. For(2),therigidityconclusionisclear. ToseetheBorelness
of the class Γ+ note that the statement “(cid:104)M,≤ (cid:105) is isomorphic to (cid:104)N,≤ (cid:105)”
M N
for structures M,N ∈ Γ is Borel by the rigidity of the structures in Γ and the
Lusin–Suslin theorem [55, Theorem 15.1]. For (3), write κ = κ(Γ). To show
that κ(Γ+) ≤ κ+, use Theorem 2.4.5 to argue that every virtual E class is
Γ+
classified by (Γ+)∗∗-structure. Such a structure contains a linear ordering, and
on cofinally many initial segments of the ordering there is a Γ∗∗-structure. It
follows that every initial segment of the ordering is of cardinality less than κ,
so the underlying set has size at most κ.
To show that κ(Γ+)≥κ+, treat first the case that κ is a limit cardinal. Let
M be the structure on κ which includes the usual ∈-ordering on κ and on each
cardinal λ < κ on which there is a Γ∗∗-structure, M contains one. This is a
(Γ+)∗∗-structure of size κ, so κ(Γ+)≥κ+.
Suppose now that κ is a successor cardinal, κ=λ+. This means that there
is a Γ∗∗-structure N of size λ. Let M be the structure on κ which includes the
usual ∈-ordering of κ and on each ordinal µ < κ of cardinality λ, it contains a
copy of N. This is a (Γ+)∗∗-structure of size κ, so κ(Γ+) ≥ κ+ in this case as
well. The proof is complete.
Corollary 2.5.18. For every countable ordinal α > 0 there is a Borel equiva-
lence relation E such that (provably) κ(E)=ℵ .
α
Proof. Now, by recursion on a countable ordinal α construct a Borel class Γ
α
of rigid structures as follows. Γ is the set of structures isomorphic to (cid:104)ω,∈(cid:105),
0

56 CHAPTER 2. THE VIRTUAL REALM
containing just one isomorphism class. Then let Γ =Γ+ and Γ = (cid:83) Γ
α+1 α α β∈α β
if α is limit. Proposition 2.5.17 can be used to show by transfinite induction
that κ(Γ )=ℵ as desired.
α 1+α
Note that an equivalence relation E as above for α≥2 cannot be reducible
to F and F cannot be reducible to it. This answers a question of Kechris
2 2
[48, Question 17.6.1] in the negative as well as some related questions of Simon
Thomas. To see that F cannot be Borel reducible to any E, suppose for con-
2
tradiction that h: dom(E) → dom(F ) is a Borel reduction. Pass to a generic
2
extension in which c > ℵ . There, h is still a reduction of E to F, while
ω1
κ(E) > κ(F). This contradicts Theorem 2.5.4. To see that E cannot be re-
ducibletoF foranyα>2,passtoagenericextensioninwhichtheContinuum
2
Hypothesis holds instead.
The following two examples deal with jump operations designed to mimic
cardinal exponentiation. They lead to nonreducibility results which, at least on
thefaceofit,usethefailureofsingularcardinalhypothesisinvarioussituations.
Thismeansthattheproofspresenteduselargecardinalassumptions,astheyare
needed to get the failure of the singular cardinal hypothesis. We make no claim
as to whether the large cardinal assumptions are necessary for the conclusion.
Definition 2.5.19. Let Γ,∆ be coanalytic classes of structures on ω, invariant
underisomorphism. ThesymbolΓ∆ standsforthecoanalyticclassofstructures
M on ω of the following form: ω is partitioned into infinite sets ω = a∪b∪c,
on M (cid:22)a is a structure in class Γ, M (cid:22)b is a structure in class ∆, and there is
an extra relation R ⊂ c×b×a such that for every m ∈ c, the vertical section
R is a function from b to a, and for m (cid:54)= m ∈ c the vertical sections R
m 0 1 m0
and R are distinct.
m1
Proposition 2.5.20. Suppose that the classes Γ, ∆ consist of rigid structures
only. Then
1. Γ∆ consists of rigid structures only;
2. κ(Γ∆)=sup{κλ: κ<κ(Γ),λ<κ(∆)}.
Proof. Thefirstitemisnearlytrivial. Fortheseconditem,useTheorem2.4.5to
notethata(Γ∆)∗∗ structureisrepresentedbyaΓ∗∗-structure, a∆∗∗-structure,
and an infinite set of functions from the latter to the former.
Example 2.5.21. Let ∆ be the class of structures isomorphic to (cid:104)ω,∈(cid:105) (con-
sisting of just one equivalence class). For every countable ordinal α, let Γ be
α
the class derived in Corollary 2.5.18. Let E be the equivalence relation of iso-
morphism on the class (Γ )∆ and F be the isomorphism equivalence relation
ω
on the class E . Then E is not Borel reducible to F ×F.
Γα 2
Proof. MovetoamodelofZFCwherec=ℵ 1 andℵℵ ω 0 >ℵ α . Proposition2.5.20
shows that κ(E) = ℵℵ ω 0 > c·ℵ α = κ(F 2 ×F). The conclusion of the example
follows from Theorem 2.5.4.

2.5. CARDINAL INVARIANTS 57
Definition 2.5.22. LetE beananalyticequivalencerelationonaPolishspace
X and F be a Borel equivalence relation on a Polish space Y. EF is the
equivalencerelation(F×E)+ onthespace(Y ×X)ω restrictedtotheBorelset
{z ∈(Y ×X)ω: rng(z)isapartialfunctionfromY toX whosedomainconsists
of pairwise F-unrelated elements}.
It seems to be impossible to formulate this concept in an analytic form without
the additional demand that F be Borel.
Proposition 2.5.23. Let E be an analytic equivalence relation on a Polish
space X and F be a Borel equivalence relation on a Polish space Y. Then
1. λ(EF)=λ(E)λ(F);
2. ifP isapartialordersuchthatP (cid:13)|λ(F)|=|κ(F)|=ℵ thenλ(EF,P)=
0
λ(E,P)λ(F).
Note that as F is assumed to be Borel, the value of λ(F) is not ∞.
Proof. Bothstatementsfollowfromtheclassificationofvirtualclassesforprod-
uct and Friedman–Stanley jump in Theorem 2.3.4. An EF-virtual class is rep-
resented by a function from F-virtual classes to E-virtual classes.
Example 2.5.24. Let F be any Borel equivalence relation with countably
0
many classes and let F be the identity on 2ω. For every Borel equivalence
1
relation E, EF1 is not Borel reducible to E×EF0.
ω1 ω1
Proof. Move to a model of set theory where c=ℵ and there is a cardinal κ>
1
(cid:105)
ω1
such that (κ+)ℵ1 > (κ+)ℵ0. The first such a cardinal must be in violation
ofthesingularcardinalhypothesisatcofinalityω . LetP =Coll(ω,κ). Clearly,
1
λ(E ,P)=κ+, sincethepinnednamesonP correspondtoordinalsbelow κ+.
ω1
SinceE isBorel,λ(E),κ(E)<(cid:105) <κbyTheorem2.5.6,soProposition2.5.23
ω1
shows that λ(E ×EF0) = λ(E)·(κ+)ℵ0 = (κ+)ℵ0 < (κ+)ℵ1 = λ(EF1). The
ω1 ω1
argument is concluded by a reference to Theorem 2.5.4.
A similar argument with a failure of the singular cardinal hypothesis at larger
cofinalities yields
Example 2.5.25. Let F be any Borel equivalence relation. For every Borel
equivalence relation E, EF+ is not Borel reducible to E×EF .
ω1 ω1
2.5d Hypergraph examples
Thepreviousexamplesweretosomeextentartificialinthesensethatthevalues
ofthepinnedcardinalweredirectlybuiltintothem. Thefollowingexamples,all
Borel reducible to F , are connected with combinatorics of small uncountable
2
cardinals via the pinned cardinal, even though the connection is not at first
sight obvious.

58 CHAPTER 2. THE VIRTUAL REALM
Definition 2.5.26. A hypergraph on a set X is a subset of X≤ω. If G is a
hypergraph on X, a G-anticlique is a set A ⊂ X such that A≤ω ∩G = 0. If
G is an analytic hypergraph on a Polish space X, write E for the equivalence
G
relation on Xω connecting y,z if the sets rng(y),rng(z) either both fail to be
G-anticliques or they are equal.
It is clear that the equivalence relations of the form E are all analytic and
G
almostBorelreducibletoF . InthecommoncasewhenG isBorelandcontains
2
only finite edges, the equivalence relation is in fact Borel. The following propo-
sition provides a simple combinatorial characterization of the pinned cardinal
of equivalence relations of this form.
Proposition 2.5.27. Let G be an analytic hypergraph on a Polish space X.
Then κ(E ) is equal to the larger of ℵ and the minimal cardinal κ such that
G 1
there is no G-anticlique of size κ.
Proof. WriteE =E andwriteκfortheminimumcardinalityinwhichthereis
G
noG-anticlique. Toexcludetrivialcases, assumethatκisuncountable. Forthe
≤-inequalityintheproposition,letQbeaposetandσ beanE-pinnedQ-name.
ByExample2.3.5,theremustbeasetA⊂X suchthatQ(cid:13)rng(σ)=Aˇ. IfAis
not an anticlique then the E-pin (cid:104)Q,σ(cid:105) is trivial as it is forced to belong to the
single E-class consisting of enumerations of sets which are not anticliques. If A
isananticlique, thentheE-pin(cid:104)Q,σ(cid:105)isequivalenttoapinontheColl(ω,|A|)-
poset which has size less than κ.
For the ≥-inequality, suppose that A ⊂ X is an anticlique. A simple well-
foundednessargumentshowsthatAremainsananticliqueinanygenericexten-
sion. Thus, the Coll(ω,A)-name τ for a generic enumeration of A is E-pinned
A
an the E-pin (cid:104)Coll(ω,A),τ (cid:105) can be equivalent only to E-pins on posets which
A
make the cardinality of A countable.
The values of cardinals defined in this way are subject to forcing manipulations
and transfinite combinatorics. The interesting examples are always connected
withauniversalityfeatureofthehypergraphinquestion. Ourfirsttwoexamples
use Borel hypergraphs of finite arity.
Definition 2.5.28. LetX beaPolishspace. ABorelrelationR⊂[X]<ℵ0×X
is combinatorially universal if it has countable vertical sections and for every
cardinal κ and every relation T ⊂ κ<ℵ0 ×κ with countable vertical sections,
there is a c.c.c. poset P adding an injective function π: κ → X which is a
homomorphism of T to R.
It is not clear whether combinatorial universality of this sort is actually a prop-
ertyabsoluteamongtransitivemodelsofZFC,butalluniversalexamplesfound
in this section are absolutely universal.
Theorem2.5.29. LetX beaPolishspace. Thereisacombinatoriallyuniversal
Borel relation on [X]<ℵ0 ×X with countable vertical sections.

2.5. CARDINAL INVARIANTS 59
Proof. Let X =P(ω). We will show that the relation R⊂[X]<ℵ0 ×X defined
by (cid:104)a,x(cid:105)∈R if x is computable from a is universal. Let κ be a cardinal and let
T ⊂ [κ]n ×κ be a relation with countable vertical sections. Let (cid:104)k : m ∈ ω(cid:105)
m
be a recursive sequence of increasing functions in ωω with disjoint ranges. For
(cid:84)
a finite set b ⊂ P(ω) let e be the increasing enumeration of the set b, for
b
every m∈ω let h (b)⊂P(ω) be the set of all l ∈ω such that e ◦k (l) is an
m b m
oddnumber. We will produce a forcingwhichadds an injection π: κ→X such
that for every finite set a⊂κ and every α∈T , there is a number m∈ω such
a
that π(α) is modulo finite equal to h (π(cid:48)(cid:48)a).
m
Let P be the poset of all tuples p=(cid:104)n ,π ,ν (cid:105) so that
p p p
• n ∈ω,π isapartialfunctionfromκtoP(n )withfinitedomaindom(p);
p p p
• ν is a finite partial function from P(dom(p))×ω to dom(p) such that
p
(a,ν (a,m))∈T whenever (cid:104)a,m(cid:105)∈dom(ν ).
p p
The ordering on P is defined by q ≤ p if n ≤ n , dom(p) ⊂ dom(q),
p q
∀α ∈ dom(p) π (α) = π (α)∩n , ν ⊂ ν , and for every (cid:104)a,m(cid:105) ∈ dom(ν ),
p q p p q p
whenever l is a number in the domain of (e \e )◦k then e ◦k (l) is
π(cid:48)(cid:48)a π(cid:48)(cid:48)a m π(cid:48)(cid:48)a m
q q q
odd if and only if l∈π (ν (a,m)). It is not difficult to see that P is indeed an
q p
ordering.
Claim 2.5.30. The poset P is c.c.c.
Proof. Let (cid:104)p : α∈ω (cid:105) be conditions in P. The usual ∆-system and counting
α 1
arguments can be used to thin down the collection if necessary so that the sets
dom(p ) for α ∈ ω form a ∆-system with root b and for all a ∈ [b]n and
α 1
all α ∈ ω , T ∩dom(p ) ⊂ b. Moreover, we can require that the increasing
1 a α
bijection between dom(p ) and dom(p ) extends to an isomorphism of p and
α β α
p for every α,β ∈ω .
β 1
Weclaimthatanytwoconditionsinsuchacollectionarecompatible. Indeed,
wheneverα,β ∈ω ,thentheconditionqdefinedbyn =n ,π =π ∪π and
1 q qα q pα pβ
ν =ν ∪ν is easily checked to be a common lower bound of the conditions
q pα pβ
p ,p .
α β
Claim2.5.31. Whenevera∈[κ]n andβ ∈T ,thesetD ={p∈P: a∪{β}⊂
a a,β
dom(p),∃m ν (a,m)=β} is dense in P.
p
Proof. Let p ∈ P; we must find a condition q ≤ p in the set D . For defi-
a,β
niteness assume that β ∈/ dom(p). Choose m ∈ ω such that (cid:104)a,m(cid:105) ∈/ dom(ν ).
p
Consider the condition q ≤ p defined by n = n , π = π ∪ {(cid:104)α,0(cid:105): α ∈
q p q p
a\dom(p),(cid:104)β,0(cid:105)}, ν =ν ∪{(cid:104)a,m,β(cid:105)}. The condition q ≤p is in the set D
q p a,β
as required.
Claim 2.5.32. For every finite set a⊂κ and every k ∈ω, the set D ={p∈
a,k
P: a⊂dom(p) and the set (cid:84) π(cid:48)(cid:48)a has at least k elements} is dense in P.
p

60 CHAPTER 2. THE VIRTUAL REALM
Proof. Fix a,k and let p∈P be an arbitrary condition. We must find a condi-
tion q ≤ p in the set D . First of all, the previous claim shows that one can
a,k
strengthenptoincludeallordinalsina. Increasingn ifnecessary,wemayalso
p
assume that k <n .
p
Consider the set b=π(cid:48)(cid:48)a and the function e ; write k(cid:48) =dom(e ). If k ≤k(cid:48)
p b b
then q = p will work. Otherwise, it is easy to find an increasing sequence
d = (cid:104)m : k(cid:48) ≤ i < k(cid:105) of numbers larger than n such that, writing e = e ∪d,
i p b
for every natural number m such that (cid:104)a,m(cid:105) ∈ dom(ν ) and every l such that
p
k(cid:48) ≤ k (l) < k, m is odd if and only if l ∈ p(ν (a,m)). The condition
m km(l) r
q ≤ p defined by n = m +1, dom(π ) = dom(π ), ∀β ∈ a π (β) = π (a)∪
q k−1 q p q p
{m : k(cid:48) ≤ i < k}, ∀β ∈ dom(π )\a π (β) = π (β), and ν = ν , is in the set
i p q p q p
D as desired.
a,k
The last two claims show that the function π: κ → X defined as π(α) =
(cid:83)
{π : pisinthegenericfilter}isforcedbyP tobethedesiredhomomorphism.
p
RecallthatifR⊂[X]ℵ0×X isarelationthena⊂X isR-free ifforeveryx∈a
(cid:104)a\{x},x(cid:105)∈/ R.
Example 2.5.33. Let X be a Polish space and let R ⊂ [X]<ℵ0 × X be a
combinatorially universal Borel relation with countable vertical sections. Let
n ≥ 1 be a number. Let G be the hypergraph of all sets a ∈ [X]n which are
n
R-free. Then
1. κ(E )≤ℵ ;
Gn n+1
2. if Martin’s Axiom for ℵ holds then equality is attained.
n
Proof. Fix the number n ∈ ω. The argument depends on an old theorem of
Sierpin´ski [35]: ℵ is the smallest cardinal κ such that every relation T ⊂
n+1
[κ]n ×κ with countable vertical sections has a T-free n+1-tuple. To prove
(1), apply the Sierpin´ski theorem to show that there is no G -anticlique of size
n
≥ ℵ . To prove (2), let κ = ℵ and use the Sierpin´ski theorem again to
n+1 n
find a relation T ⊂ κ<ℵ0 ×κ with countable vertical sections and no T-free n-
tuple. Thenusetheuniversalityassumptiontofindaninjectivehomomorphism
π: κ → X which is a homomorphism of T to R. Observe that rng(π) is a
G -anticlique of size κ. Proposition 2.5.27 then implies that κ(E ) ≥ κ+ =
n Gn
ℵ .
n+1
Definition 2.5.34. Let X be a Polish space. A Borel equivalence relation R
on [X]<ℵ0 with countably many classes is combinatorially universal if for every
cardinal κ and every equivalence relation T on [κ]<ℵ0 with countably many
classes, there is a c.c.c. poset P adding an injection π: κ → X which is a
homomorphism of ¬T to ¬R.
Theorem2.5.35. LetX beaPolishspace. Thereisacombinatoriallyuniversal
Borel equivalence relation on [X]<ℵ0 with countably many classes.

2.5. CARDINAL INVARIANTS 61
Proof. Without loss of generality assume X = [ω]ℵ0. Consider the following
relation R on [X]<ℵ0. Define a Borel function g: [X]<ℵ0 → [ω]<ℵ0 by g(a) =
{min(x\m+1): x∈a} if a is a set of size at least two and consists of pairwise
almost disjoint sets and m is the largest number which appears in at least two
of them; g(a) = min(x) if a = {x} is a singleton; and otherwise g(a) = 0. Let
R be the equivalence relation induced by the function g. We will show that R
is universal.
Letκbeacardinal,T anequivalencerelationon[κ]<ℵ0 withcountablymany
classes, and let f: [κ]<ℵ0 → ω be a map inducing the equivalence relation T.
Let ν: [ω]<ℵ0 → ω be a sufficiently generic map such that ν(g(0)) = f(0). Let
P be the poset of all maps p such that
• dom(p)⊂κ is a finite set;
• for every α∈dom(p) the value p(α) is a nonempty subset of ω;
• for every α∈dom(p), ν(min(p(α)))=f(α);
• foreveryseta⊂dom(p)ofsizeatleast2thereisanumberwhichbelongs
toatleasttwosetsp(α),p(β)forα(cid:54)=β ∈a, andwritingmforthelargest
such number, p(α)\m+1 (cid:54)= 0 holds for every α ∈ a, and ν({min(p(α)\
m+1): α∈a})=f(a).
Theorderingisdefinedbyq ≤pifforeveryα∈dom(p),q(α)end-extendsp(α),
and the sets q(α)\p(α) are pairwise disjoint for α∈dom(p).
Claim 2.5.36. P is c.c.c.
Proof. In fact, P is semi-Cohen in the sense of [4], but we will not need that
fact here. By the usual ∆-system arguments, it is enough to show that any
two conditions p,q ∈P such that p(cid:22)dom(p)∩dom(q)=q (cid:22)dom(p)∩dom(q),
are compatible. To find the lower bound, enumerate dom(p)∪dom(q) as β for
i
i ∈ k, enumerate (dom(p)\dom(q))×(dom(q)\dom(p)) as u for j ∈ l. Use
j
the genericity of the function ν to build numbers m < m < ··· < m and
0 1 l−1
pairwise distinct numbers nj for i∈k and j ∈l so that
i
(cid:83) (cid:83)
• m >max( rng(p)∪ rng(q));
0
• m <nj <m for every j ∈l;
j i j−1
• for every set a⊂dom(p)∪dom(q), ν({nj: β ∈a})=f(a).
i i
Thelowerboundisthenafunctionr definedbydom(r)=dom(p)∪dom(q),for
α∈dom(p), α=β set r(α)=p(α)∪{nj: j ∈l}∪{m : α appears in the pair
i i j
u }. Similarly, for α ∈ dom(q), α = β set r(α) = q(α)∪{nj: j ∈ l}∪{m : α
j i i j
appearsinthepairu }. Itisnotdifficulttocheckthat r ≤p,q asrequired.
j
Claim 2.5.37. The set D = {p ∈ P: α ∈ dom(p)} is dense in P for every
α
α∈κ.

62 CHAPTER 2. THE VIRTUAL REALM
Proof. Let α ∈ κ and p ∈ P; we must produce q ≤ p such that α ∈ dom(q).
Enumerate dom(p) as β for i ∈ k and write α = β . Use the genericity of the
i k
function ν to find numbers m < m < m < ...m and pairwise distinct
0 1 k−1
numbers nj for i∈k,j ∈k+1 so that
i
(cid:83)
• ν(m)=f(α) and m >max rng(p);
0
• m <nj for every j ∈k+1;
i i
• for every nonempty set a ⊂ dom(p)∪{α} and every i ∈ k, ν({nj: β ∈
i j
a})=f(a).
Oncethisisdone,justconsiderthefunctionqdefinedbydom(q)=dom(p)∪
{α}, s(α) = {m,m : i ∈ k,nk: i ∈ k}, and for every i ∈ k, q(β ) = p(β )∪
i i i i
{m ,ni: j ∈k}. Itisnotdifficulttoobservethatq ∈P andq ≤pasdesired.
i j
Now, if G ⊂ P is a generic filter, then in V[G] let π: κ → P(ω) be defined
(cid:83)
by π(α) = p(α). The claims show that f = ν◦g◦π, in particular π is a
p∈G
homomorphism of ¬T to ¬R.
Example 2.5.38. Let X be a Polish space and R a combinatorially universal
equivalence relation on [X]<ℵ0 with countably many classes. Let n > 0 be
a number. Let G be the Borel hypergraph on X consisting of all finite sets
n
a⊂X whichcanbewritteninmorethan2n−1waysasaunionoftwodistinct
R-equivalent sets. Then
1. κ(E )≤ℵ ;
Gn n+1
2. if Martin’s Axiom for ℵ holds, then the equality is attained.
n
Proof. Fix the number n. The computations depend on and are motivated
by the following results of Komj´ath and Shelah [60]. Let κ = ℵ . For every
n
equivalence relation T on [κ]<ℵ0 with countably many classes, there is a finite
seta⊂κwhichcanbewritteninatleast2n−1waysasaunionoftwodistinct
T-related sets. In addition, if Martin’s Axiom for κ holds then there is an
equivalence relation T on [κ]<ℵ0 with countably many classes such that every
finite set a⊂κ can be written in at most 2n−1 ways as a union of two distinct
T-related sets.
For (1), the first part of this result shows that there is no G -anticlique of
n
size κ+. For (2), use Martin’s Axiom and the second part of the Komj´ath–
Shelah result to find the equivalence relation T on [κ]<ℵ0 with countably many
classes as above, and use the universality of the relation R to find an injective
homomorphism π: κ → X of ¬T to ¬R. It is immediate that rng(π) ⊂ X is
a G -anticlique of size κ. Proposition 2.5.27 then implies that κ(E ) ≥ κ+ =
n Gn
ℵ .
n+1
Much more complicated effects can be realized if the hypergraph G is allowed
to have infinite edges. We conclude this section with an example of this type.

2.5. CARDINAL INVARIANTS 63
Definition 2.5.39. LetX beaPolishspace. ABorelequivalencerelationRon
X2 withcountablymanyclassesiscombinatorially universal ifforeveryordinal
κandeveryequivalencerelationT onκ2 withcountablymanyclasses,thereisa
c.c.c.posetP addinganinjectivefunctionπ: κ→X whichisahomomorphism
of ¬T to ¬R.
Theorem 2.5.40. There is a combinatorially universal Borel equivalence rela-
tion with countably many classes on X2 for every Polish space X.
(cid:83)
Proof. Without loss of generality, assume X = P(ω). Let ω = a
n,m∈ω n,m
be a partition of ω into infinite sets. For almost disjoint sets b,c ⊂ ω such
that b is lexicographically less than c define f(b,c) = n and f(c,b) = m if
max(b∩c) ∈ a , in other cases define f(b,c) = 0. Let R be the equivalence
n,m
relation induced by the function f. We will show that R is combinatorially
universal.
Fix a cardinal κ and a function g: κ2 → ω which induces an equivalence
relation T with countably many classes. Define the poset P as the collection of
all functions p such that
• dom(p)⊂κ is a finite set;
• rng(p)consistsoffinitesubsetsofω suchthatneitherofthemisaninitial
segment of another;
• for every α(cid:54)=β such that p(α) is lexicographically smaller than p(β), the
set p(α)∩p(β) is nonempty, and its maximum belongs to the set a
m,n
where g(α,β)=m and g(β,α)=n.
TheorderingonP isdefinedbyq ≤pifdom(p)⊂dom(q),foreveryα∈dom(p)
thesetp(α)isaninitialsegmentofq(α),andthesets{q(α)\p(α): α∈dom(p)}
are pairwise disjoint. The following routine claims complete the proof of the
theorem.
Claim 2.5.41. The poset P is c.c.c.
Proof. By the usual ∆-system arguments it is only necessary to show that any
twoconditionsp,q ∈P suchthatp(cid:22)dom(p)∩dom(q)=q (cid:22)dom(p)∩dom(q)are
compatibleintheposetP. Strengtheningtheconditionsp,qondom(p)\dom(q)
and dom(p)\dom(q) respectively if necessary, we may assume that no set in
rng(p)∪rng(q)isaninitialsegmentofanother. Enumerate(dom(p)\dom(q))×
(dom(q)\dom(p))asu fori∈j andfindpairwisedistinctnumbersm fori∈j
i i
such that
• if u = (cid:104)α,β(cid:105) and p(α) is lexicographically smaller than q(β) then m ∈
i i
a where g(α,β)=m and g(β,α)=n;
m,n
• if u = (cid:104)α,β(cid:105) and p(α) is lexicographically greater than q(β) then m ∈
i i
a where g(α,β)=n and g(β,α)=m;
m,n
(cid:83) (cid:83)
• all numbers m are greater than max( rng(p)∪ rng(q)).
i

64 CHAPTER 2. THE VIRTUAL REALM
In the end, let r be the function defined by dom(r)=dom(p)∪dom(q), for all
α ∈ dom(p) let r(α) = p(α)∪{m : α appears in u }, and for all β ∈ dom(q)
i i
let r(β) = q(β)∪{m : β appears in u }. It is not difficult to check that r is a
i i
common lower bound of the conditions p,q as desired.
Claim 2.5.42. For every α∈κ the set D ={p∈P: α∈dom(r)} is dense in
α
P.
Proof. Let α ∈ κ be an ordinal and p ∈ P be a condition; we must produce
a condition q ≤ p such that α ∈ dom(q). It will be the case that q(α) ∩
(cid:83)
max( rng(p))+1=0; this way, q(α) will be lexicographically smaller than all
q(β) for β ∈ dom(p). List dom(p) as β for i ∈ j, and find pairwise distinct
i
numbers m for i∈j so that
i
• m ∈a where g(α,β)=m and g(α,β)=n;
i m,n
(cid:83)
• each m is greater than max( rng(p)).
i
Then, let q be the function defined by dom(q)=dom(p)∪{α} and q(β )=
i
p(β )∪{m } and q(α) = {m : i ∈ j}. It is immediate that the condition q
i i i
works.
Now it is easy to see that if G ⊂ P is a generic filter, the function π: κ →
(cid:83)
P(ω) defined by π(α) = {p(α): p ∈ G} induces a homomorphism of ¬T to
¬R as desired.
Example 2.5.43. Let X be a Polish space and let R be a combinatorially
universal Borel equivalence relation on X2 with countably many classes. Let G
be the hypergraph on X consisting of all unions b ∪b where b ,b are infinite
0 1 0 1
sets such that b ×b is a subset of a single R-class.
0 1
1. if Chang’s conjecture holds, then κ(E )≤ℵ ;
G 2
2. if Martin’s Axiom for ℵ holds then Chang’s conjecture is equivalent to
2
κ(E )≤ℵ .
G 2
Proof. The argument is based on and motivated by two results of Todorcevic
[92]. Namely, if Chang’s conjecture holds, then for every partition of ω2 into
2
countably many pieces, one piece of the partition contains a product of infinite
sets. In addition, if Martin’s Axiom for ℵ holds and Chang’s conjecture fails,
2
then there is a partition of ω2 into countably many pieces such that no piece of
2
the partition contains a product of infinite sets.
Now, for (1) use the first result of Todorcevic to argue that under Chang’s
conjecturethereisnoG-anticliqueofsizeℵ , sobyProposition2.5.27, κ(E )≤
2 G
ℵ . For (2), suppose that Martin’s Axiom holds and Chang’s conjecture fails.
2
By the second result of Todorcevic, find an equivalence relation T on ω2 with
2
countablymanyclasseswithoutanymonochromaticinfiniterectangles. Usethe
universality of the equivalence relation R to find an injection π: ω →X which
2
is a homomorphism of ¬T to ¬R. Observe that rng(π) is a G-anticlique of size
ℵ . By Proposition 2.5.27, κ(E )>ℵ .
2 G 2

2.6. RESTRICTIONS ON PARTIAL ORDERS 65
2.6 Restrictions on partial orders
GivenananalyticequivalencerelationEonaPolishspaceX,itmaybeinforma-
tive toinvestigatewhich posetscan carrynontrivial E-pinnednames. After all,
essentially all pinned names discussed in this chapter naturally live on collapse
posets, so one may easily (and wrongly) assume that no forcing sophistication
is needed when it comes to the investigation of the virtual realm. This section
contains several theorems on this topic.
First of all, there are some partial orders which can never carry a nontrivial
pinned name.
Definition 2.6.1. [29] A poset P is reasonable if for every ordinal λ and for
every function f: λ<ω → λ in the P-extension there is a set a ⊂ λ which is
closed under f, belongs to the ground model, and is countable in the ground
model.
Inparticular,allc.c.c. andallproperforcingsarereasonable. Goodexamplesof
unreasonable forcings are posets which collapse ℵ , Namba forcing and Prikry
1
forcing.
Theorem 2.6.2. Let E be an analytic equivalence relation on a Polish space
X. If P is a reasonable forcing and τ is an E-pinned name on P, then τ is
trivial.
Proof. Suppose that P is a reasonable poset and τ is an E-pinned name on P.
We will produce a condition p ∈ P and a point x ∈ X such that p (cid:13) τ E xˇ.
Towardsthisend,choosealargestructureandusethereasonabilityofP tofind
acountableelementarysubmodelM ofitcontainingP,E andτ andacondition
p∈P suchthatp(cid:13)G˙ ∩Mˇ isgenericoverMˇ, whereG˙ isthecanonicalP-name
foritsgenericultrafilter. AsM iscountable,thereisafilterH ⊂P∩M generic
overM inthegroundmodelV. Letx=τ/H ∈X. Proposition2.1.5appliedto
themodelM andthefiltersH andG˙ ∩M nowsaysthatp(cid:13)xˇE τ, completing
the proof.
Thekeyfeatureofpartialordersfromthepointofviewofexistenceofpinned
names is collapsing ℵ , as the following theorem shows:
1
Theorem 2.6.3. Let E be an analytic equivalence relation on a Polish space
X. Exactly one of the following occurs:
1. E is pinned;
2. for every poset P collapsing ℵ , P carries a nontrivial E-pinned name.
1
Proof. Clearly(1)impliesthenegationof(2). Forthedifficultdirection,suppose
that (1) fails and work to confirm (2). Let τ be a nontrivial E-pinned name
on some poset P. Let (cid:104)M : α ∈ ω (cid:105) be a continuous ∈-tower of countable
α 1
elementary submodels of a large structure containing X,E,τ, and P. Let M =
(cid:83)
M , let Q=P ∩M and let σ =τ ∩M.
α α

66 CHAPTER 2. THE VIRTUAL REALM
First,observethatthepair(cid:104)Q,σ(cid:105)isanE-pin: byelementarity,M |=Q×Q(cid:13)
σ E σ ,andbytheMostowskiabsolutenessbetweenthegenericextensions
left right
of M and V, V |= Q×Q (cid:13) σ E σ as well. We will now prove that the
left right
pair (cid:104)Q,τ(cid:105) is a non-trivial E-pin.
Assume towards a contradiction that there exists a point x ∈ X such that
Q(cid:13)σ E xˇ. Wewillshowthattherethenmustbey ∈M∩X whichisE-related
tox. ThenQ(cid:13)σ E yˇ,bytheMostowskiabsolutenessbetweentheQ-extensions
of M and V M |= P (cid:13) τ E yˇ, and this will contradict the elementarity of the
model M and the nontriviality of the name τ.
To find the point y ∈ M ∩X, let N be a countable elementary submodel
of a large structure containing (cid:104)M : α ∈ ω (cid:105),Q,x. Since the tower of models
α 1
(cid:104)M : α ∈ ω (cid:105) is continuous, there is a limit ordinal α ∈ ω such that M =
α 1 1 α
N∩M. LetQ =Q∩M =P∩M andσ =σ∩M =τ∩M . Byelementarity
α α α α α α
of the model N and analytic absoluteness between the Q -extension of N and
α
V, Q (cid:13) σ E xˇ. Since Q = P ∩M and σ = τ ∩M , both Q ,τ belong
α α α α α α α α
to the model M . By the elementarity of the model M , there must be a
α+1 α+1
point y ∈X∩M such that Q (cid:13)σ E yˇ(since the point x is such). By the
α+1 α α
transitivity of E, it follows that xE y. The point y ∈M ⊂M works.
α+1
Now, suppose that R is a poset collapsing ℵ . Since |M| = ℵ , in the R-
1 1
extension there is a filter Q-generic over M. Let H˙ be an R-name for such a
filterandletν betheR-nameforσ/H˙. BytheMostowskiabsolutenessbetween
the generic extensions of M and V again, it follows that Q×R (cid:13) σ E ν. We
have just proved that ν is a nontrivial E-pinned name on R.
Theorem 2.6.3 does not rule out the possibility that some ℵ preserving
1
posets carry nontrivial E-pinned names. This does not occur for orbit equiv-
alence relations. In them, every pinned name is inescapably connected with a
collapse of a certain cardinal to ℵ . To state this in the most informative way,
0
we introduce a piece of notation. Let E be an analytic equivalence relation on
a Polish space X, and let c be a virtual E-class. We write κ(c) for the smallest
cardinalityofaposetP suchthatthereisanE-pinnedP-nameσ suchthatthe
E-pin (cid:104)P,σ(cid:105) belongs to c.
Theorem 2.6.4. Let E be an equivalence relation on a Polish space X, Borel
reducible to an orbit equivalence relation of a Polish group action. Let c be a
virtual E-class and write κ=κ(c). The following are equivalent for every poset
P:
1. there is an E-pinned P-name σ such that the E-pin (cid:104)P,σ(cid:105) belongs to c;
2. P (cid:13)|κ|=ℵ .
0
Proof. (2)implies(1)istheeasierdirection,anditdoesnotusetheassumption
on the equivalence relation E. Suppose that P (cid:13) |κ| = ℵ |. Let (cid:104)R,τ(cid:105) be
0
an E-pin in c such that |R| = κ. Let M be an elementary submodel of a
large structure such that |M| = κ, R ⊂ κ, and R,τ ∈ M. By the collapsing
assumption,thereisaP-nameηforafilteronRwhichisgenericoverthemodel

2.6. RESTRICTIONS ON PARTIAL ORDERS 67
M. Let σ be a P-name for τ/η. We claim that σ is E-pinned and moreover
(cid:104)P,σ(cid:105)∈c.
Tothisend,letG⊂P andH ⊂Rbemutuallygenericfilters;wemustshow
that τ/G E σ/H. To see this, observe that the filters η/G ⊂ R and H ⊂ R
are mutually generic over the model M, so M[η/G,H]|=σ/η/GE σ/H as the
name σ is E-pinned and M is an elementary submodel. σ/η/G = τ/G E σ/H
thenfollowsbytheMostowskiabsolutenessbetweenthemodelsM[η/G,H]and
V[G,H].
For the harder direction (1) implies (2), first fix a Polish group Γ, an action
ofΓonaPolishspaceY,andaBorelfunctionh: X →Y whichisareductionof
E to the orbit equivalence relation F induced by the action of Γ. Suppose that
σ is an E-pinned name on P such that the E-pin (cid:104)P,σ(cid:105) belongs to c. Consider
the Cohen poset P of nonempty open subsets of Γ, with its associated name
Γ
γ˙ for a generic element of Γ. Consider the product P ×P and the poset
gen Γ
Q, the subset of the complete Boolean algebra of P ×P which is generated by
Γ
the name τ for γ˙ ·h˙(σ), an element of the space Y. Since the poset P is
gen Γ
countable, it preserves all cardinals. Therefore, to show that P collapses κ, it
will be enough to show that Q collapses κ.
Claim 2.6.5. Let H ⊂ Q be a generic filter. In V[H], P forces the point
Γ
γ˙ ·τ/H ∈Y to be Q-generic over V[H].
gen
The difficulty resides in the assertion that the point is forced to be Q-generic
over V[H] and not just over V.
Proof. Let γ ,γ ,γ ∈ Γ and K ,K ⊂ P be P -generic points and generic
0 1 2 0 1 Γ
filters on P respectively, which are in addition mutually generic. Since σ is
an E-pinned name, σ/K E σ/K holds. Since h is a reduction of E to F,
0 1
h(σ/K ) F h(σ/K ) holds. Writing y = h(σ/K ) and y = h(σ/K ), there
0 1 0 0 1 1
must be a group element δ ∈ Γ such that δγ · y = γ · y in the model
0 0 1 1
V[γ ,K ][γ ,K ]. Observe that both points γ δ and γ γ are P -generic over
0 0 1 1 2 2 1 Γ
themodelV[γ ,K ][γ ,K ]sinceγ is,andmultiplicationbyδ (orγ )fromthe
0 0 1 1 2 1
right induces an automorphism of the poset P .
Γ
It follows that γ δ is P -generic, and the pair γ γ ,K is P ×P-generic,
2 Γ 2 1 1 Γ
both over the model V[γ ,K ]. Observe that γ δγ ·y =γ γ ·y by the initial
0 0 2 0 0 2 1 1
choiceofδ. TheclaimnowfollowsbyconsideringthefilterH ⊂Q(genericover
V) obtained from the point γ ·y ∈Y, and the point γ δ ∈Γ (P -generic over
0 0 2 Γ
V[H]), and the forcing theorem.
Now, let H ⊂ Q be a generic filter, and work in V[H]. Since the poset
P has a countable dense subset and it introduces a generic for Q, it must be
Γ
the case that Q has a countable dense subset as well. Back in V, the forcing
theorem says that Q forces Qˇ to have a countable dense subset. Fix a Q-
name η for a function from ω to Q whose range is forced to be dense, and let
D ={q ∈Q: ∃r ∃m∈ω r (cid:13)η(m)=qˇ}. Itwillbeenoughtoshowthat|D|≥κ
and Q(cid:13)|Dˇ|=ℵ .
0

68 CHAPTER 2. THE VIRTUAL REALM
The latter statement is easier: Q forces D to be the range of the partial
function f on ω×ω defined by f(n,m)=q if η(n)(cid:13)η(m)=qˇ. For the former
statement, first note that D ⊂Q is dense since D is forced to contain the range
ofη. ItfollowsthatD andQviewedasposetsgivethesameextensionsandτ is
reallyaD-name. BytheMostowskiabsolutenessbetweentheP ×P-extension
Γ
and the D-extension, there must be a D-name χ for an element of X such
that D (cid:13) h˙(χ) F τ. Since h is a reduction, it follows that (cid:104)Q,χ(cid:105) is an E-pin
equivalent to (cid:104)P,σ(cid:105). By the initial choice of the cardinal κ, |Q|≥κ follows.
Corollary 2.6.6. Let E be an analytic equivalence relation on a Polish space
X, Borel reducible to an orbit equivalence relation. If E is not pinned then the
following are equivalent for any partial order P:
1. P carries a nontrivial E-pinned name;
2. P collapses ℵ to ℵ .
1 0
Proof. (2) implies (1) by Theorem 2.6.3. For the opposite implication, let τ
be a nontrivial E-pinned name on P. Let κ be the cardinal of Theorem 2.6.4
associated with the virtual E-class containing (cid:104)P,τ(cid:105). Note that κ cannot be
ℵ since then the Cohen poset would carry an E-pinned name equivalent to τ;
0
however, all E-pinned names on the Cohen poset are trivial by Theorem 2.6.2.
NotealsothatP collapsesκtoℵ sinceitrealizesthevirtualE-classassociated
0
with (cid:104)P,τ(cid:105). In conclusion, P collapses some uncountable cardinal to ℵ , in
0
particular it must collapse ℵ .
1
Example 2.6.7. ConsidertheequivalencerelationF on(2ω)ω. Thisisclearly
2
an orbit equivalence relation. Every E-pinned name is represented by a set
A⊂2ω by Example 2.3.5. The cardinal κ of Theorem 2.6.4 is equal to |A|.
Example 2.6.8. Let E be the equivalence relation on X = (P(ω))ω defined
by x E x if rng(x ) and rng(x ) generate the same filter on ω. Suppose that
0 1 0 1
in V, there is a modulo finite strictly decreasing sequence a = (cid:104)a : α ∈ ω (cid:105) of
α 2
subsetsofω. LetP betheNambaforcing. Itiswell-knownthatP preservesℵ
1
andaddsacofinalsequenceσ: ω →ωV toω . Letτ betheP-namefora◦σ. It
2 2
is immediate that τ is a nontrivial E-pinned name on P. Thus, the assumption
thatE bereducibletoanorbitequivalenceinCorollary2.6.6cannotbeomitted.
2.7 Absoluteness
This section compiles the available information regarding the absoluteness of
various notions regarding the virtual equivalence classes. The most substantial
andusefulstatementisCorollary2.7.3: ifE isaBorelequivalencerelationthen
its pinned status is absolute among all generic extensions.
Theorem 2.7.1. Suppose that E is a Borel equivalence relation on a Polish
space X. The following are equivalent:

2.7. ABSOLUTENESS 69
1. E is pinned;
2. Foreveryω-modelM ofZFCcontainingthecodeforE,M |=E ispinned.
Proof. For simplicity assume X = ωω. The implication (2)→(1) is trivial. If
(1) fails, then E is not pinned, and the failure of (2) is witnessed by M =V.
The implication (1)→(2) is more difficult. We start with an abstract claim
which can be used in several other absoluteness results, and which appears in
several less efficient versions in existing literature. Say that an ω-model N
of ZFC is correct about stationary sets if for all sets a,b ∈ N, if N |= a is
uncountable then in fact a is uncountable, and if N |=b⊂[a]ℵ0 is a stationary
system of countable sets, then in fact b is a stationary system of countable sets.
Note that as N is an ω-model, for any set c, if N |=c is countable then in fact
c is countable.
Claim 2.7.2. [5, Theorem 1.12], [51, Section 4] Let M be a countable ω-model
of a large fragment of ZFC. Then there is an elementary embedding j: M →N
such that N is an ω-model correct about stationary sets.
Proof. We start with setting up a bookkeeping tool. By a classical result of
Solovay, ω can be decomposed into ℵ many stationary sets. Thus, there is
1 1
a surjective function f: ω → ω × ω such that preimages of singletons are
1 1
stationary.
Now, by recursion on α ∈ ω build countable ω-models M of ZFC and
1 α
maps j : M → M for all β ∈ α. With each model M we also pick a
βα β α α
surjection π : ω →M arbitrarily. The following are the recursive demands on
α α
the construction:
• M = M and (cid:104)j : M → M : γ ∈ β ∈ α(cid:105) is a commuting system of
0 γβ γ β
elementary embeddings;
• if α ∈ ω is limit then M is the direct limit of the previous models and
1 α
embeddings;
• whenever α ∈ ω is an ordinal such that f(α) = (cid:104)β,n(cid:105) and β ∈ α and
1
(cid:83)
M |=b=π (n) is astationary system of countable sets on a= b, then
β β
writing c = j(cid:48)(cid:48) j (a) we get that M contains c and M |= c ∈
αα+1 βα α+1 α+1
j (b).
βα+1
It is only necessary to show how the last item is arranged. Thus, suppose that
its assumptions are satisfied at α ∈ ω . Work in the model M and consider
1 α
theposetP ofallstationarysubsetsofb, orderedbyinclusion. Sincethemodel
M is countable, there is a filter G ⊂ P generic over the model M . Let
α α
j : M → M be its associated generic ultrapower as in [45, Lemmas
αα+1 α α+1
22.13 and 14]. Then M will be again an ω-model. Note that the set c
α+1
belongs to the model M as it is represented by the identity function; it also
α+1
has the requested properties by the L(cid:32) o´s theorem.
In the end, let j: M → N be the direct limit of the system of elementary
embeddingsproducedduringtherecursion;weclaimthatthisembeddingworks

70 CHAPTER 2. THE VIRTUAL REALM
as required. Suppose then that M |=b is a stationary system of countable sets
on a = (cid:83) b. To show that ¯b is indeed stationary, let d be a closed unbounded
set of countable subsets of a, and work to show that d∩¯b (cid:54)= 0 holds. Fix an
ordinal β ∈ ω and a number n ∈ ω such that b = j (π (n)). Let K be a
1 βω1 β
countableelementarysubmodelofalargesubstructure,containinginparticular
the set d, the ordinal β, and the system of elementary embeddings constructed
above, and such that f(α)=(cid:104)β,n(cid:105) where α=K∩ω . Such a model exists by
1
the initial choice of the function f. Clearly K∩a∈d; we will be done once we
show that K∩a∈b.
To see this, let c = j(cid:48)(cid:48) j ( (cid:83) π (n)). By the elementarity of the em-
αα+1 βα β
bedding j and the last item above, it is the case that j (c) ∈ b.
Also, j α+1 ( ω c 1 ) = j(cid:48)(cid:48) c = j(cid:48)(cid:48) j ( (cid:83) π (n)), By the elemen α+ ta 1 r ω i 1 ty of the
α+1ω1 α+1ω1 αω1 βα β
model K and the second item above, the latter expression is exactly equal to
(cid:83)
K∩j ( π (n))=K∩a. This completes the proof.
βω1 β
Now, back to the theorem. Suppose that (2) fails. Fix a ω-model M of ZFC
containing the code for E such that M |=E is unpinned; taking an elementary
submodelifnecessarywemayassumethatM iscountable. Letj: M →N bean
elementary embedding from the claim. By elementarity, N |= E is unpinned,
so there is a poset P and a P-name τ such that N |= τ is a nice nontrivial
E-pinned name. We will show that in fact τ really is a nontrivial E-pinned
name.
First of all, τ indeed is E-pinned. If G ,G ⊂P are mutually generic filters
0 1
then N[G ,G ] |= τ/G E τ/G holds, and by the Borel absoluteness between
0 1 0 1
N[G ,G ] and V[G ,G ], τ/G E τ/G holds in V[G ,G ] as required. To
0 1 0 1 0 1 0 1
show that τ is a nontrivial E-pinned name, assume towards a contradiction
that there is a point x ∈ X such that P (cid:13) τ E xˇ; the difficulty resides in the
possibility that x∈/ N.
Let κ be some large cardinal in the model N. Let K be a countable elemen-
tary submodel of a large structure containing in particular N,P,τ, and κ, such
that c = K ∩N ∩V belongs to the model N and is countable there. Such a
κ
model K exists since the model N is correct about the stationarity of the set
it views as [V
κ
]ℵ0. Work in the model N. Since c is an elementary submodel
of V , it follows that σ = τ ∩c is an E-pinned name on the poset Q = P ∩c.
κ
Since the poset Q is countable, by Theorem 2.6.2 below applied in the model
N, there must be a point y ∈N such that Q(cid:13)σ E yˇ. Now, work in the model
K and observe that Q(cid:13)σ E xˇ. It follows that xE y. Now, back in the model
N it must be the case that P (cid:13) τ E yˇ, contradicting the assumption that τ is
a nontrivial E-pinned name.
Corollary 2.7.3. Let E be a Borel equivalence relation on a Polish space X.
The statement “E is pinned” is absolute between all generic extensions.
Proof. Thevalidityofitem(2)ofTheorem2.7.1doesnotchangeifoneonlycon-
siderscountablemodels. ThisfollowsfromanimmediatedownwardL¨owenheim-
Skolemargument. Thecountablemodelversionof(2)isacoanalyticstatement,

2.7. ABSOLUTENESS 71
and as such it is absolute among all forcing extensions by the Mostowski abso-
luteness.
The absoluteness of the pinned status of analytic equivalence relations does
not allow a similar sweeping statement. Consider a Π1 set A ⊂ 2ω which con-
1
tains no perfect subset, but is uncountable in the constructible universe L [45,
Corollary 25.37]. Let E be the analytic equivalence relation on X = (2ω)ω de-
finedbyx E x ifeitherbothrng(x ),rng(x )havenonemptyintersectionwith
0 1 0 1
the complement of A, or rng(x ) = rng(x ). In L, the equivalence relation E
0 1
is not pinned, as witnessed by the Coll(ω,A)-name for the generic enumeration
of A. At the same time, in the Coll(ω,2ω)-extension of L, the (reinterpreta-
tion of the) set A is countable, containing only constructible elements, and in
consequence the equivalence relation E is smooth, so pinned. On the other
hand, in the presence of sufficiently large cardinals the pinned status of every
analytic equivalence relation is absolute by a proof similar to the proof of The-
orem 2.7.1 where we adjust Claim 2.7.2 to input a well-founded model M of
ZFC plus the statement that there is a propoer class of Woodin cardinals, and
output a well-founded model N correct about stationary sets. The adjustment
needs the classical well-foundedness results regarding the well-foundedness of
the stationary tower ultrapower in [99, 64]. We refrain from providing further
detail.
Another natural question concerns the computation of the various cardinal
invariants of equivalence relations in inner models. In particular, we would like
to see that if M ⊂ N are transitive models of ZFC containing the code for
an analytic equivalence relation E, then (κ(E))M ≤ (κ(E))N. Interestingly
enough,thisisnotclear,andweonlyhaveapositiveanswerinthecaseoforbit
equivalence relations and their relatives.
Theorem 2.7.4. Let E be an analytic equivalence relation on a Polish space X
almost reducible to an orbit equivalence relation. Let M be a transitive model of
large fragment of set theory containing the codes for E, the group action, and
the almost reduction. Then κ(E)M ≤κ(E) holds.
Proof. To begin, let Γ be a Polish group continuously acting on a Polish space
Y,inducinganorbitequivalencerelationF. Leth: X →Y beaBorelreduction
of E to F. Choose Γ,Y,h so that they belong to the model M.
Supposethattheconclusionofthetheoremfails. Then,writingκ=(κ(E))V,
inthemodelM thereexistsanE-pin(cid:104)Q,τ(cid:105)suchthatM |=(cid:104)Q,τ(cid:105)isnotequiv-
alent to any E-pin on a poset of cardinality less than κ. By Theorem 2.6.3
applied in the model M, this means that if N is a generic extension of M, then
N |=(∃x∈X Q(cid:13)τ E xˇ)→|κ|=ℵ ).
0
Let (cid:104)R,σ(cid:105) be an E-pin in V such that |R| < κ and Q × R (cid:13) τ E σ.
Let G ⊂ Q, H ⊂ R and K ⊂ P be filters mutually generic over V. Write
Γ
y = h(τ/G), y = h(σ/H), write γ ∈ Γ for the generic point associated with
0 1
the filter K, and let y = γ ·y . By the assumptions, y ,y , and y ∈ Y are
2 1 0 1 2
mutually orbit-equivalent points.

72 CHAPTER 2. THE VIRTUAL REALM
Claim 2.7.5. The point y ∈Y is generic over the model M, and in the model
2
M[y ] there exists a point x∈X such that M[y ]|=Q(cid:13)τ E xˇ.
2 2
Proof. There is a point δ ∈Γ in the model V[G][H] such that y =δ·y . The
1 0
point γ ∈ Γ is P -generic over V[G][H] by the product forcing theorem. Now,
Γ
multiplication by δ from the right is an automorphism of the poset P , so the
Γ
point γδ ∈ Γ is P -generic over V[G][H]. Therefore, the point γδ is also P -
Γ Γ
generic over the smaller model M[G], and by the product forcing theorem, G
and γδ are mutually generic objects over M. The point y =γδ·y ∈M[G,γδ]
2 0
belongs to a generic extension of M, so is generic over M itself.
Now, the model M[y ] is transitive, so by Mostowski absoluteness it must
2
contain a point x∈X such that h(x)F y , since one such point σ/H exists in
2
the model V[H][K]. We claim that M[y ] |= Q (cid:13) τ E xˇ. To see this, observe
2
thatthefilterG⊂QisgenericoverthemodelV[H][K],soalsogenericoverthe
smaller model M[y ]. Since M[G][y ]|=y =h(τ/G)F y , the forcing theorem
2 2 0 2
implies that M[y ]|=Q(cid:13)h(τ)F yˇ , so τ E xˇ.
2 2
Bythesecondparagraphoftheproof,itmustbethecasethatM[y ]|=|κ|=
2
ℵ ; therefore, V[H][K] |= |κ| = ℵ . This, however, contradicts the assumption
0 0
that in V, |R|<κ, which is equivalent to |R×P |<κ.
Γ
2.8 Dichotomies
This section presents three theorems which characterize various complex fea-
tures of the virtual realm in terms of dichotomies. It turns out that each of
the dichotomies uses a preparatory proposition or two on the descriptive the-
ory of forcing and model theory. These preparatory propositions are perhaps
more difficult to state properly than to prove. Nevertheless, they are unavoid-
ably needed and they do not seem to be present in published literature. We
gather them in the first subsection, while the second subsection contains the
dichotomies themselves.
2.8a Preliminaries
The first two auxiliary propositions concern pure model theory; they show that
the satisfaction relation and the construction of models from indiscernibles are
in a suitable sense Borel affairs. The proofs are straightforward and left to the
reader. For both of them, fix a countable language and let X be the Polish
space of models of that language whose universe is ω.
Proposition2.8.1. Supposethatf: 2ω →X isaBorelfunction,φisaformula
of the language with n free variables, and g : 2ω → ω are Borel functions for
i
every i∈n. The set {x∈X: f(x)|=φ(g (x),g (x)...g (x))} is Borel.
0 1 n−1
Let T be a Skolemized complete consistent theory containing a linear ordering.
LetS bethetheoryofaninfiniteorderedsetofindiscerniblesinthelinearorder
of T. Let Y be the space of all linear orderings on ω.

2.8. DICHOTOMIES 73
Proposition 2.8.2. There are Borel functions f: Y → X and g: Y ×ω → ω
such that for each y ∈Y,
1. f(y) is a model of T;
2. the function g : ω →ω is an order-preserving map from the ordering y to
y
the ordering of f(y) and its range consists of indiscernibles with theory S;
3. the model f(y) is a Skolem hull of rng(g ).
y
The rest of the subsection deals with models of set theory, showing that
the construction of their generic extensions is a Borel affair. Thus, let X be
the Polish space of all models for the language with one binary relation whose
universeisω. LetY beanyuncountablePolishspace,servingasanindexspace.
Let M: Y → X and P: Y → ω be Borel functions such that for each y ∈ Y,
M(y) is a model of (a large fragment of) ZF and M(y) |= P(y) is a partially
ordered set.
Proposition 2.8.3. There is a Borel function G: Y → P(ω) such that for
every y ∈Y, G(y) is a filter on P(y) which is generic over M(y).
Proof. By induction on n∈ω define Borel functions f : Y →ω so that
n
• for every y ∈Y, M(y)|=f (y) is the largest element of the poset P(y);
0
• for every y ∈ Y and n ∈ ω, if M(y) |= n is an open dense subset of the
poset P(y), then f (y) is the smallest number m such that M(y)|=m
n+1
isanelementofnanditissmallerthatf (y)intheposetP(y);otherwise,
n
f (y)=f (y).
n+1 n
The functions defined in this way are Borel by Proposition 2.8.1. Define the
function G: Y → P(ω) as follows: for every y ∈ ω, G(y) is the set of all m
such that M(y) |= m is an element of the poset P(y) and for some n ∈ ω,
M(y)|=f (y) is smaller than m in the poset P(y). It is clear that the function
n
G works.
Now, suppose that a Borel function G: Y → P(ω) as in Proposition 2.8.3 is
given; we want to produce the generic extensions. To wit, we have to produce
the generic extensions as Borel functions on Y and also the valuation functions
for names in the ground models as Borel functions.
Proposition 2.8.4. There are Borel functions M[G]: Y →X and v: Y ×ω →
ω such that for every y ∈ Y, M[G](y) is a generic extension of M(y) by G(y)
and for every n∈ω, v(y)(n)=n/G(y) whenever M(y)|=n is a P(y)-name.
Proof. LetE betheBorelequivalencerelationonY×ωconnectingpairs(cid:104)y ,n (cid:105)
0 0
and (cid:104)y ,n (cid:105) if y =y and (denoting their common value by y) either M(y)|=
1 1 0 1
neither n ,n is a P(y)-name or M[y]|= both n ,n are P(y)-names and there
0 1 0 1
is some condition p∈G(y) such that M(y)|=p(cid:13)n =n . Let v: Y ×ω →ω
0 1

74 CHAPTER 2. THE VIRTUAL REALM
be the Borel function defined in the following way: f(y)(n)=0 if M(y)|=n is
not a P(y)-name, and f(y)(n) = m if M(y) |= n is a P(y)-name and, writing
n(cid:48) for the smallest name E-related to n, there are exactly m-many E-classes of
P(y)-names represented by numbers smaller than n(cid:48). Let M[G] be the Borel
function defined in the following way: M[G](y) connects the pair (cid:104)m ,m (cid:105) just
0 1
in case there are numbers n ,n ∈ω such that M(y)|=n ,n are P(y)-names,
0 1 0 1
f(y)(n )=m +1, f(y)(n )=m +1, and there is a condition p∈G(y) such
0 0 1 1
that M(y) |= p (cid:13) n ∈ n . The Borelness of the functions M[G] and v follows
0 1
from Proposition 2.8.1.
Theconstructionofthegenericfiltersmaybesubjecttoanadditionalconstraint.
Suppose that E is an equivalence relation on a Polish space Z, coded in each
model M(y). Suppose that τ: Y → ω is a Borel function such that for each
y ∈Y,M(y)|=τ(y)isaP(y)-nameofanelementofZ. Supposethatz: Y →Z
is a Borel function. Can we find a Borel function G: Y → P(ω) such that for
eachy ∈Y,G(y)isafilteronP(y)genericoverM(y),suchthatthevaluationof
τ(y)overG(y)isE-relatedtoz(y)? Tocometoausefulaffirmativeconclusion,
we assume that the models in the range of the function M are all well-founded,
and the equivalence relation E is induced as an orbit equivalence relation of a
continuous action of a Polish group Γ on the space Z. In such circumstances,
we have the following:
Proposition 2.8.5. Given E,M,P,τ as above:
1. the set B = {y ∈ Y: there is a filter G ⊂ P(y) generic over the model
M(y) such that τ(y)/G is E-related to z(y)} is Borel;
2. there is a Borel function G: B →P(ω) such that for every y ∈B, G(y)⊂
P(y) is a filter generic over M(y) such that τ(y)/G(y) is E-related to
z(y).
Proof. Let P be the poset of all nonempty open subsets of Γ ordered by in-
Γ
clusion, with its name γ˙ for a generic element of Γ. Use Proposition 2.8.1 to
find Borel functions Q,σ: Y →ω so that for every y ∈Y, M(y)|=Q(y) is the
complete subalgebra of the complete Boolean algebra of P(y)×P generated
Γ
by the name σ(y)=γ˙ ·τ(y).
LetD ={(cid:104)y,δ,G(cid:105)∈Y×Γ×P(ω): G⊂Q(y)isafiltergenericoverthemodel
M(y) such that ν(y)/G = δ ·z(y)}. This is a Borel set by Proposition 2.8.1.
The projection of D into the Y coordinate is the set B.
Claim 2.8.6. For each pair (cid:104)y,δ(cid:105) ∈ Y ×Γ, the vertical section D is either
yδ
empty or a singleton.
Proof. ThisusesthewellfoundednessofthemodelM(y). Supposethatthesec-
tionD isnonempty, containingsomefilterG. AsM(y)|=“Q(y)iscompletely
yδ
generatedbythenameσ(y)”,thefilterGcanberecoveredbytransfiniteinduc-
tion using infinitary Boolean expressions in M applied to δ·z(y); therefore, it
is unique.

2.8. DICHOTOMIES 75
Write C ⊂ Y ×Γ for the projection of D into the first two coordinates. Since
one-to-one projections of Borel sets are Borel [55, Theorem 15.1], the set C is
Borel.
Claim 2.8.7. For each point y ∈Y, the section C either empty or else comea-
y
ger in Γ.
Proof. To simplify the notation, fix y ∈ Y and omit the argument y from the
expressions like M(y),σ(y).... Suppose that the Γ-section C is nonempty.
y
Thus, there is a filter G ⊂ P be a filter generic over M such that τ/G is
E-related to z. Let A ⊂ Γ be the set of all elements of the group Γ which
are P -generic over the model M[G]; this is a co-meager set. Let δ ∈ Γ be
Γ
an element of the group such that τ/G = δ ·z. Then the vertical section C
y
contains the set A·δ which is co-meager as the right multiplication by δ is a
self-homeomorphism of the group Γ.
AsthecategoryquantifieryieldsBorelsets[55, Theorem16.1], thesetB asthe
projection of C into the first coordinate is Borel. Borel sets with nonmeager
vertical sections allow Borel uniformizations [55, Theorem 18.6], so there is
a Borel uniformization f: B → Γ of C. As the set D has singleton vertical
sections, it is itself its uniformization g: C → P(ω). Let H: B → P(ω) be the
function defined by H(y) = g(y,f(y)). Thus, for every y ∈ B, H(y) ⊂ Q(y) is
a filter generic over M(y) such that σ(y)/H(y) is E-related to z(y).
Now, let R: Y →ω be a Borel function such that for every y ∈2ω, M(y)|=
R(y) is a name for the quotient poset P(y)×P /Q(y). Use Propositions 2.8.3
Γ
and 2.8.4 to find a Borel function K: B → P(ω) such that K(y) ⊂ R(y) is a
filtergenericoverthemodelM(y)[H(y)]. LetG: B →P(ω)beaBorelfunction
indicating a filter on P(y) which is the P(y)-coordinate the composition of
H(y)∗K(y). The function G has the required properties.
Corollary 2.8.8. Suppose that Γ is a Polish group continuously acting on a
Polish space X, inducing an orbit equivalence relation E. Let M be a countable
transitive model of set theory containing a code for the action, let P ∈ M be a
poset and τ ∈M be a P-name for an element of the space X. Then
1. the set B = {x ∈ X: ∃G ⊂ P generic over M such that τ/G = x} is
Borel;
2. the equivalence relation E (cid:22)B is Borel.
Proof. (1) is immediate from the proposition. To see (2), consider the set C =
{(cid:104)x,y(cid:105) ∈ X2: ∃G × H ⊂ P × P generic over M such that x = τ/G and
Γ
y = (γ˙ /H) · x}. The set C is Borel by the proposition again. Now, for
gen
x,z ∈B, xE z just in case the set A ={γ ∈Γ: (cid:104)x,γ·z(cid:105)∈C} is comeager in
xz
Γ. To see this, note that if x E z fails then the set A ⊂ Γ is actually empty,
xz
and if xE z holds with δ·x=z, then the A ⊃{γ ∈Γ: γ·δ−1 is P -generic
xz Γ
over M[x]} and the latter set is comeager since it is a shift of the comeager set
of all points in Γ which are P -generic over the model M[x].
Γ

76 CHAPTER 2. THE VIRTUAL REALM
Finally, observe that the equivalence relation E (cid:22) B is obtained by an ap-
plication of the category quantifier to the Borel set {(cid:104)x,z,γ(cid:105)∈B×B×Γ: γ ∈
A (cid:105)}, so is Borel by [55, Theorem 16.1].
xz
2.8b Results
Thefirstdichotomycharacterizestheexistenceofthepinnedcardinalinanalytic
equivalence relations.
Theorem 2.8.9. Assume that there is a measurable cardinal. Let E be an
analytic equivalence relation on a Polish space X. The following are equivalent:
1. κ(E)=∞;
2. E ≤ E.
ω1 a
Proof. (2) implies (1) by Example 2.4.6 and Theorem 2.5.4. The large cardi-
nal assumption is not needed for this direction. For the (1)→(2) implication,
suppose that κ(E)=∞. Let κ be a measurable cardinal.
Claim 2.8.10. There exist a poset P of size κ and an E-pinned P-name τ such
that τ is not E¯-related to any name on a poset of size less than κ.
Proof. Since κ(E) = ∞, there exist a poset Q and an E-pinned Q-name σ
which is not E¯-equivalent to any name on a poset of size less than κ. Choose
an elementary submodel M of a large structure such that |M| = κ, V ⊂ M
κ
and Q,σ ∈ M. Let P = Q∩M and let τ = σ∩M. We claim that P,τ works
as required.
Indeed, if G×H ⊂ P ×P is a filter generic over V, then it is also generic
over M, by the elementarity of M and the forcing theorem in M M[G,H] |=
τ/GE τ/H,andbytheMostowskiabsolutenessbetweenM[G,H]andV[G,H],
V[G,H] |= τ/G E τ/H. This proves that the name τ is E-pinned. If R is a
poset in V of size < κ and ν is an E-pinned R-name and G×H ⊂ P ×R is a
generic filter over V, then R,ν ∈ M, the filter G×H also generic over M, by
the elementarity of M and the forcing theorem in M M[G,H]|=¬τ/GE ν/H,
and by the Mostowski absoluteness between M[G,H] and V[G,H], V[G,H]|=
¬τ/G E σ/H. This proves that ν E¯ τ fails and completes the proof of the
claim.
Choose a poset P on κ and an E-pinned name τ as in the claim. Choose a
large enough cardinal θ and skolemize the structure (cid:104)H ,∈,P,τ(cid:105) of sets whose
θ
transitive closures have cardinality less than θ. Let T be the theory of the
skolemized structure. Let j: V = M → M be an ultrapower embedding
0 1
associated with some normal measure on the measurable cardinal κ, and let
j : V →M beitsiterationsoflengthnforn≤ω. Theordinals{j (κ): n∈ω}
n n n
form a sequence of indiscernibles in the model j (H ). Let S be the theory of
ω θ
the indiscernibles in this structure. Let Y be the space of all linear orderings
on ω, and let Z be the space of all binary relations on ω. By Propositions 2.8.2

2.8. DICHOTOMIES 77
and 2.8.3, there are Borel functions M: Y →Z, G: Y ×M →P(ω), P: Y →ω
and τ: Y → ω such that whenever y ∈ Y is a linear ordering then M(y) is a
modelofT whichisaSkolemhullofindiscerniblesofordertypey satisfyingthe
theoryS,P(y)isitsversionoftheposetP,andτ(y)isitsversionofthenameτ,
and G(y)⊂P(y) is a filter generic over the model M(y). Note that all models
M(y)areω-models,socomputethePolishspaceX correctly. Letk: Y →X be
the function defined by k(y)=τ(y)/G(y), which is Borel by Proposition 2.8.4.
It will be enough to show that k is a Borel reduction of E to E on the set of
ω1
y ∈Y which are well-orders.
Suppose first that y ,y ∈ Y are well-orders of the same length. Then
0 1
the models M(y ),M(y ) are wellfounded and isomorphic. Write N for their
0 1
common transitive isomorph and Q,σ for its version of the poset P and the
name τ. Thus, N |= σ is an E-pinned Q-name. The filters G(y ),G(y ) ⊂ Q
0 1
areseparatelygenericoverN. LetG⊂Qbeafiltergenericoverbothcountable
models N[G(y )] and N[G(y )]. By the product forcing theorem, the filters
0 1
G(y )×G and G(y )×G are both Q×Q-generic over N. As N |=σ is an E-
0 1
pinnedname,itfollowsthatN[G(y ),G]|=σ/G(y )E σ/GandN[G(y ),G]|=
0 0 1
σ/G(y )E σ/G. BytheMostowskiabsolutenessbetweenthesetwomodelsand
1
V, and the transitivity of the relation E, σ/G(y )=k(y )E k((y )=σ/G(y )
0 0 1 1
follows.
Suppose now that y ,y ∈Y are well-orders of different lengths; say that y
0 1 0
is shorter than y . Let N be the transitive isomorph of M(y ), let κ ,P ,σ
1 0 0 0 0 0
be the versions of κ, P, and τ in the model N , and let G ⊂ P be the filter
0 0 0
genericoverN indicatedbyG(y ). Similarnotationprevailsforsubscript1. Let
0 0
i: N →N betheelementaryembeddingobtainedbysendingtheindiscernibles
0 1
of N to an initial segment of the indiscernibles of N . Note that the critical
0 1
pointofiisexactlyκ ,soP ∈N asP =P (cid:22)κ . Also,N |=|P |<κ . Find
0 0 1 0 1 0 1 0 1
afilterG⊂P genericoverboththecountablemodelsN [G ]andN [G ]. Since
0 0 0 1 1
N |= σ is E-pinned, the Mostowski absoluteness between V and N [G,G ]
0 0 0 0
implies that σ /G E σ /G holds. Since N |= σ is not E¯-equivalent to any
0 0 0 1 1
name on a poset of size <κ , in particular to σ , it follows from the Mostowski
1 0
absoluteness between V and N [G,G ] that σ /GE σ /G fails. In conclusion,
1 1 0 1 1
k(y )=σ /G E σ /G =k(y ) fails as required.
0 0 0 1 1 1
The status of a Borel equivalence relation as pinned/unpinned may be absolute
between models of ZFC by Corollary 2.7.3. However, if one dares to look at
choiceless models, a much more colorful picture comes to sight. The simplest
description of the pinned status occurs in the Solovay model, where it actually
obeys a former conjecture of Kechris [48, Question 17.6.1].
Theorem 2.8.11. The following holds in the Solovay model derived from a
measurable cardinal. Let E be an analytic equivalence relation on a Polish space
X. The following are equivalent:
1. E is unpinned;
2. F ≤E or E ≤ E.
2 ω1 a

78 CHAPTER 2. THE VIRTUAL REALM
Proof. LetκbeameasurablecardinalandletW bethederivedSolovaymodel.
In W, (2) certainly implies (1) as the proofs that F ,E are unpinned work in
2 ω1
ZF, and the proof that pinned equivalence relations persist downwards in the
reducibility orderings works in ZF+DC.
Fortheimplication(1)→(2), assumethatW |=E isunpinned. Theremust
be a poset P and a nontrivial E-pinned name τ on the poset P, both in W.
Both P and τ must be definable in W from a ground model parameter z ∈2ω.
For simplicity of the notation assume that z ∈ V. Return to V. Let Q be the
two-step iteration Coll(ω,<κ)∗P˙, and write σ for the Q-name obtained from
the P˙-name τ. There are two cases.
Case 1. Thereisaconditionq ∈QsuchthattheQ(cid:22)q-nameσ isE-pinned. In
thiscase,wewillconcludethatE ≤ E andusetheShoenfieldabsolutenessto
ω1 a
transfer the almost reducibility to the Solovay model. To simplify the notation
assume that q is the largest element of the poset Q.
Observe that the name σ cannot be E¯-equivalent to any name on a poset
of size < κ. Suppose for contradiction that R is a poset of size < κ and χ
an E-pinned R-name such that (cid:104)R,χ(cid:105) E¯ (cid:104)Q,σ(cid:105). In W, let H ⊂ R be a filter
generic over V. By Proposition 2.1.5 applied over V, W |=P (cid:13)τ E χ/H. This
contradicts the assumption that V[G]|=P (cid:13)∀x∈X∩V[G] ¬τ E x.
Now,itfollowsthatκ(E)≥κ. ByTheorem2.5.6(2),sinceκisameasurable
cardinal, κ(E)=∞. By Theorem 2.8.9, E ≤ E as desired.
ω1 a
Case 2. For every condition q ∈Q, the Q(cid:22)q-name σ is not E-pinned. In this
case,wewillconcludethatF isreducibletoE. Then,aShoenfieldabsoluteness
2
argument shows that the Borel reduction of F to E remains a Borel reduction
2
also in the Solovay model.
Fix a countable elementary submodel M of a large structure containing the
code for E, the posets P,Q and the name τ. Write R=Coll(ω,<κ)∩M. Let
Z =2ω, and use Proposition 1.7.8 to find a Borel function G from Z to P(M)
such that for every finite set a⊂Z the filters G(z)⊂R for z ∈a are mutually
generic over M. For every set a ⊂ Z write 2ω = (cid:83) {2ω ∩M[ (cid:81) G(z)]: b ⊂ a
a z∈b
finite}, M = M(2ω), P and τ for the poset and name in M defined in the
a a a a a
modelM(2ω)bytheformulasφ andφ . Similarusagewillprevailforfunctions
a P τ
y: ω →I, writing P =P etc.
y rng(y)
Lemma 2.8.12.
1. whenever a⊂Z is a nonempty set then there exists a filter h⊂R generic
over M such that 2ω∩M[h]=2ω;
a
2. whenever a,b,c ⊂ I are pairwise disjoint countable nonempty sets then
thereisafilterh ×h ×h ⊂R3 genericoverM suchthat2ω =2ω∩V[h ]
a b c a a
and similarly for 2ω and 2ω;
b c
3. whenever a,b are distinct countable subsets of I then P ×P (cid:13)¬τ E τ .
a b a b
Proof. For (1), let S = {k: ∃α ∈ κ∩M ∃b ⊂ a b is finite and k ⊂ Coll(ω,<
α)∩M is a filter generic over M and k ∈ M[G(z): z ∈ b]} and order S by
(cid:83)
inclusion. Let K ⊂ S be a sufficiently generic filter; we claim that h = K

2.8. DICHOTOMIES 79
works as desired. Indeed, a simple density argument shows that h ⊂ R is an
ultrafilterallofwhoseproperinitialsegmentsaregenericoverM. Bytheκ-c.c.
of Coll(ω,< κ), the filter h is in fact generic over M itself. A straightforward
genericityargumentusingFact1.7.12thenshowsthat2ω =2ω∩M[h]asdesired.
a
(2) follows easily from (1). Let h ,h ,h ⊂ R be any filters obtained from
a b c
(1); we will show that these filters are in fact mutually generic over the model
V. Since Coll(ω,< κ)3 has κ-c.c.c., it is enough to show that for every ordinal
α ∈ κ, the filters hα = h ∩Coll(ω,< α), hα = h ∩Coll(ω,< α), and hα =
a a b b c
h ∩Coll(ω,< α) are mutually generic over V. Since the filters hα, hα and
c a b
hα are coded by reals in the models M[h ], M[h ], and M[h ],there are finite
c a b c
subsetsa(cid:48),b(cid:48),c(cid:48)ofa,b,crespectivelysuchthathα ∈M[ (cid:81) g ]etc. Themutual
a i∈a(cid:48) i
genericity now follows from the general Corollary 1.7.9 about product forcing.
(3) is proved in several parallel cases depending on the mutual position of
the sets a,b vis-a-vis inclusion. We will treat the case in which all three sets
a ∩ b, a \ b, b \ a are nonempty. Suppose for contradiction that P × P (cid:13)
a b
τ E τ . From (2), it follows that in V, the triple product Coll(ω,< κ)3 forces
a b
P˙ ×P˙ (cid:13) τ E τ . Then, the quadruple product Coll(ω,< κ)4
{0,1} {1,2} {0,1} {1,2}
forces in V that P˙ ×P˙ ×P˙ (cid:13)τ E τ E τ , in particular
{0,1} {1,2} {2,3} {0,1} {1,2} {2,3}
P˙ ×P˙ (cid:13)τ ×τ . Inviewof(2)again,thismeansthattheproduct
{0,1} {2,3} {0,1} {2,3}
Coll(ω,< κ)×Coll(ω,< κ) forces P˙ ×P˙ (cid:13) τ E τ . In other words,
left right left right
(Coll(ω,< κ)∗P˙)×(Coll(ω,< κ)∗P˙) forces σ E σ , contradicting the
left right
case assumption.
Write Y = (2ω)ω = dom(F ). Use the Lusin–Novikov theorem to find a Borel
2
map g: Y →(2ω)ω such that for every y ∈Y, g(y) enumerates the set 2ω. Use
y
Lemmas2.8.12(1)and2.8.5tofindaBorelmaph: Y →P(Q∩M)suchthatfor
every y ∈Y, h(y)⊂Q is a filter generic over M and rng(g(y))=2ω∩V[h (y)],
0
whereh (y)⊂RisthefiltergenericoverM obtainedfromh(y). Letk: Y →X
0
be given by k(y)=τ/h(y); this is a Borel map by Lemma 2.8.4. We will show
that k is a reduction of F to E.
2
First, assume that y ,y ∈ Y are F -related. Then rng(y ) = rng(y ),
0 1 2 0 1
rng(g(y ))=rng(g(y )), and so M =M , P =P and τ =τ . Let H ⊂
0 1 y0 y1 y0 y1 y0 y1
P be a filter generic over both countable models M [k(y )] and M [k(y )]
y0 y0 0 y1 1
andletx=τ /H. BytheforcingtheoremappliedinthemodelM =M and
y0 y0 y1
the fact that τ is an E-pinned name, conclude that xE k(y ) and xE k(y ),
y0 0 1
so k(x )E k(x ) as desired.
0 1
Second, assume that y ,y ∈ Y are not F -related. Choose a sufficiently
0 1 2
genericfilterH ×H ⊂P ×P sothatH isgenericoverM [k(y )]andH
0 1 y0 y1 0 y0 0 1
is generic over M [k(y )]. As the names τ and τ are E-pinned, the forcing
y1 1 y0 y1
theorem in the models M and M implies that k(y ) E τ /H and k(y ) E
y0 y1 0 y0 0 1
τ /H . Now, τ /H E τ /H fails by Lemma 2.8.12(3), so k(y ) E k(y )
y1 1 y0 0 y1 1 0 1
must fail as well. This completes the proof.
Corollary 2.8.13. ThefollowingholdsinthesymmetricSolovaymodelderived
from a measurable cardinal. Let E be a Borel equivalence relation on a Polish
space X. E is unpinned if and only if F ≤E.
2

80 CHAPTER 2. THE VIRTUAL REALM
Proof. ThisfollowsfromTheorem2.8.11onceweshowthattheoptionE ≤ E
ω1 a
is not available for any Borel equivalence relation E. This in turn follows easily
from results on the pinned cardinal κ(E) obtained in Section 2.5: κ(E) < ∞
by Theorem 2.5.6(1), κ(E ) = ∞ by Example 2.4.6, and the pinned cardinal
ω1
is monotone with respect to the reducibility ordering ≤ –Theorem 2.5.4.
a

Chapter 3
Turbulence
Inthischapter,weinvestigatepairsofgenericextensionsV[H ]andV[H ]such
0 1
that V[H ]∩V[H ]=V. In a particularly successful application, this allows us
0 1
to restate Hjorth’s concept of turbulence in geometric terms and produce many
generalizations of the associated ergodicity theorem [52, Theorem 12.5].
3.1 Independent functions
The purpose of this section is to find a practical way of producing many exten-
sions which satisfy the condition V[H ]∩V[H ] = V without being mutually
0 1
generic. We need a folkloric observation. Recall that for a Polish space X, the
poset P consists of nonempty open subsets of X ordered by inclusion; x˙ is
X gen
its name for the unique element of X belonging to all open sets in the generic
filter.
Proposition 3.1.1. Let X,Y be Polish spaces and f: X →Y be a continuous
open function. Then P forces f(x˙ ) to be a P -generic element of Y.
X gen Y
Proof. It is just necessary to show that for every open dense set D ⊂Y, P (cid:13)
X
f(x˙ )∈D holds. Tothisend,letO ∈P beacondition. Thesetf(cid:48)(cid:48)O ⊂Y is
gen X
open; therefore, it has nonempty intersection with D. Consider the nonempty
open set O(cid:48) = (f−1(f(cid:48)(cid:48)O∩D))∩O ⊂ O. For every point x ∈ O(cid:48), f(x) ∈ D
holds, so O(cid:48) (cid:13)f(x˙ )∈D as required.
gen
Now suppose that X,Y ,Y are Polish spaces and f : X →Y and f : X →Y
0 1 0 0 1 1
are continuous open maps. We want to find a criterion implying that P (cid:13)
X
V[f (x˙ )]∩V[f (x˙ )]=V. The following turbulence–like definition is cen-
0 gen 1 gen
tral.
Definition 3.1.2. LetX,Y ,Y bePolishspacesandf : X →Y andf : X →
0 1 0 0 1
Y be continuous open maps. Let k ∈ ω be a number. A walk (of points) of
1
length k is a sequence (cid:104)x : i≤k(cid:105) of points in X such that for each i∈k, either
i
f (x )=f (x ) or f (x )=f (x ) holds.
0 i 0 i+1 1 i 1 i+1
81

82 CHAPTER 3. TURBULENCE
Definition 3.1.3. LetX,Y ,Y bePolishspacesandf : X →Y andf : X →
0 1 0 0 1
Y be continuous open maps. The functions f ,f are independent if for every
1 0 1
nonempty open set O ⊂ X there is a nonempty open set A ⊂ Y such that for
0
all nonempty open subsets B ,B ⊂A there is a walk consisting of points in O
0 1
starting in f−1B and ending in f−1B .
0 0 0 1
It may appear that the definition is not symmetric with respect to the maps
f ,f . In fact, the definition is symmetric, and this follows as a small corollary
0 1
from the following central theorem.
Theorem 3.1.4. Suppose that X,Y ,Y are Polish spaces and f : X →Y and
0 1 0 0
f : X →Y are continuous open maps. The following are equivalent:
1 1
1. f ,f are independent;
0 1
2. P (cid:13) V[f (x˙ )]∩V[f (x˙ )] = V where x˙ is the P -name for the
X 0 gen 1 gen gen X
generic element of X.
Proof. For the (1)→(2) implication, we need a preliminary definition and a
claim. Let k ∈ ω be a number. A walk of open sets of length k is a sequence
(cid:104)O : i ≤ k(cid:105) of nonempty open subsets of X such that for each i ∈ k, either
i
f(cid:48)(cid:48)O =f(cid:48)(cid:48)O or f(cid:48)(cid:48)O =f(cid:48)(cid:48)O .
0 i 0 i+1 1 i 1 i+1
Claim 3.1.5. Let k ∈ ω be a number. Suppose that (cid:104)x : i ≤ k(cid:105) is a walk of
i
points, O ⊂ X are open sets such that x ∈ O , and D is a finite collection
i i i
of open subsets of X. Then there is a walk (cid:104)P : i ≤ k(cid:105) of open sets such that
i
P ⊂ O holds for each i ≤ k and for each U ∈ D and each i ≤ k, P is either
i i i
disjoint from U or a subset of U.
Proof. By induction on k. The case k = 0 is trivial. Suppose that the claim
has been proved for k and (cid:104)x : i≤k+1(cid:105) is a walk of points, O are open sets,
i i
and D is a finite collection of open subsets of X. Suppose for definiteness that
f (x ) = f (x ). Shrinking O and O if necessary, we may assume that
0 k 0 k+1 k k+1
f(cid:48)(cid:48)O =f(cid:48)(cid:48)O . For each open set U ∈D let U(cid:48) = (cid:83) {V ⊂X: V is open and
0 k 0 k+1
f−1f(cid:48)(cid:48)V ⊂U} and let E ={U(cid:48): U ∈D}. By the induction hypothesis, there is
0 0
a walk (cid:104)P : i≤k(cid:105) of open sets such that P ⊂O and P is either disjoint from
i i i i
or a subset of each element of D∪E. Let P =f−1f(cid:48)(cid:48)P ∩O and observe
k+1 0 0 k k+1
that the walk (cid:104)P : i≤k+1(cid:105) of open sets works as required.
i
Assume now that the functions f ,f are independent. Since the models in (2)
0 1
satisfyZFC,itisenoughtoshowthateverysetofordinalsintheintersectionis
actuallyinV. Tothisend,supposethatτ ,τ areP andP -namesforsetsof
0 1 Y0 Y1
ordinals. We will abuse notation somewhat and write τ also for the P -name
0 X
for τ /f˙ (x˙ ) and τ for the P -name for τ /f (x˙ ). Suppose that O ⊂ X
0 0 gen 1 X 1 1 gen
is a nonempty open set forcing τ = τ . We must find a nonempty open set
0 1
O(cid:48) ⊂O deciding the statement αˇ ∈τ for every ordinal α.
0
Let A ⊂ Y be a nonempty open set standing witness to the independence
0
of the functions f ,f . We claim that for every ordinal α, in the poset P ,
0 1 Y0

3.1. INDEPENDENT FUNCTIONS 83
A (cid:13) αˇ ∈ τ or A (cid:13) αˇ ∈/ τ . Once this is proved, let O(cid:48) = O∩f−1A and note
0 0 0
that O(cid:48) decides the membership of every ordinal in τ as desired.
0
Supposetowardsacontradictionthatthereexistanordinalαandnonempty
open sets B ,B ⊂ A such that B (cid:13) αˇ ∈ τ and B (cid:13) αˇ ∈/ τ . Let (cid:104)x : i ≤ k(cid:105)
0 1 0 0 1 0 i
be a walk of points in O such that f (x ) ∈ B and f (x ) ∈ B . Let U =
0 0 0 0 k 1 0
(cid:83) {U: U ⊂ X and U (cid:13) αˇ ∈ τ } and U = (cid:83) {U: U ⊂ X and U (cid:13) αˇ ∈ τ }. By
0 1 1
the claim, there must be a walk of open sets (cid:104)O : i ≤ k(cid:105) such that each set O
i i
is a subset of O, O ⊂f−1B , O ⊂f−1B , and each O is either disjoint from
0 0 0 k 0 1 i
or a subset of U , and either disjoint from or a subset of U . This means in
0 1
particular that each O decides both statements αˇ ∈τ and αˇ ∈τ .
i 0 1
Now, since O (cid:13) αˇ ∈ τ and O (cid:13) αˇ ∈/ τ , there must be a number i ∈ k
0 0 k 0
such that O (cid:13) αˇ ∈ τ and O (cid:13) αˇ ∈/ τ . It then must be the case that
i 0 i+1 0
f(cid:48)(cid:48)O ,f(cid:48)(cid:48)O ⊂Y aredisjoint;therefore,thesetsf(cid:48)(cid:48)O ,f(cid:48)(cid:48)O ⊂Y areequal.
0 i 0 i+1 0 1 i 1 i+1 1
This means that the sets O ,O must either both force αˇ ∈ τ or both force
i i+1 1
αˇ ∈/ τ . In conclusion, one of the sets O ,O forces τ (cid:54)=τ , a contradiction.
1 i i+1 0 1
To see why the negation of (1) implies the negation of (2), let O ⊂ X be a
nonemptyopensetwitnessingthefailureof(1). Foreachy ∈Y ,definetheorbit
0
of y to be the set of all elements z ∈Y such that there is a walk (cid:104)x : i≤2k(cid:105) in
0 i
O such that f (x )=y and f (x )=z. Let x∈O be a P -generic and work
0 0 0 2k X
in the model V[x].
Claim 3.1.6. The orbit of f (x) is nowhere dense in Y .
0 0
Proof. If the orbit were dense in some nonempty open set B ⊂Y , then in the
0
groundmodel,thesetB wouldshowthatOisnotawitnesstothefailureof(1).
Toseethis,supposethatB ,B ⊂B arenonemptyopensubsetsofB. Working
0 1
in V[x], find walks w ,w in O which lead from f (x) to B and B , invert w
0 1 0 0 1 0
and concatenate with w and get a walk from B to B . By the Mostowski
1 0 1
absoluteness between V[x] and V, there must be such a walk in V as well.
NowlookatthesetA={B ⊂Y : B isabasicopensubsetofY andB contains
0 0
no element of the orbit of f (x)}.
0
Claim 3.1.7. A∈V[f (x)]∩V[f (x)].
0 1
Proof. In V[x], the set A is defined as the set of all basic open sets B ⊂ Y
0
such that there is no walk (cid:104)x : i ≤ 2k(cid:105) in O such that f (x ) = f (x) and
i 0 0 0
f (x ) ∈ B. This is a Π1 definition with parameter f (x) which therefore
0 2k 1 0
yields the same set in the model V[f (x)].
0
In V[x], the same set A also has an alternative definition: it is the set of
all basic open sets B ⊂ Y such that there is no walk (cid:104)x : i ≤ 2k(cid:105) in O such
0 i
that f (x ) = f (x) and f (x ) ∈ B. To see this, note that a walk with
1 0 1 0 2k
f (x ) = f (x) can be transformed into a walk with f (x ) = f (x) (and also
0 0 0 1 0 1
vice versa) by simply adding the point x twice to the beginning of the walk.
This alternative definition of the set A is again Π1 with parameter f (x), so
1 1
Mostowski absoluteness yields the same set in the model V[f (x)].
1

84 CHAPTER 3. TURBULENCE
Toshowthat(2)fails,itisenoughtoarguethatA∈/ V. However,ifA∈V then
(cid:83) (cid:83)
A ∈ V is an open dense subset of Y by Claim 3.1.6, and f (x) ∈/ A. This
0 0
contradicts Proposition 3.1.1: the point f (x) ∈ Y is forced to be P -generic
0 Y
over the ground model, so to belong to every open dense set in the ground
model.
3.2 Examples
Several groups of results in this book depend on an identification of a suitable
pair of independent maps. The most important example comes from Hjorth’s
notion of turbulence of group actions. Recall the standard definition:
Definition3.2.1. [48,Section13.1]LetΓbeaPolishgroupcontinuouslyacting
on a Polish space Y.
1. IfU ⊂Γ,O ⊂Y aresetsthenaU,O-walk isasequence(cid:104)y : i≤k,γ : i<
i i
k(cid:105) such that for each i ≤ k y ∈ O holds, and for each i < k γ ∈ U and
i i
y =γ ·y both hold;
i+1 i i
2. if y ∈ O then U,O-orbit of y is the set of all z ∈ O such that there is a
U,O-walk starting at y and ending at z;
3. the action is turbulent at y ∈ Y if for all open sets U ⊂ Γ and O ⊂ X
with 1∈U and y ∈O the U,O-orbit of y is somewhere dense;
4. the action is generically turbulent if its orbits are meager and dense and
the set of points of turbulence is comeager.
Now, suppose that Γ is a Polish group acting continuously on a Polish space Y.
LetX ={(cid:104)γ,y ,y (cid:105)∈Γ×Y×Y : γ·y =y };thisisaclosedsubsetofΓ×Y×Y
0 1 0 1
and Polish in the inherited topology. Let f : X →Y be the projection into the
0
second coordinate, f : X →Y be the projection into the third coordinate, and
1
letf : X →Γ×Y betheprojectionintothefirsttwocoordinates. Sincetheset
2
X can be viewed as a graph of a continuous function of any pair of coordinates
into the remaining one, these mappings are continuous and open. With this
notation in hand, we prove:
Theorem 3.2.2. Let Γ be a Polish group continuously acting on a Polish space
Y such that all orbits are meager and dense. The following are equivalent:
1. the action is generically turbulent;
2. f ,f : X →Y is an independent pair of functions;
0 1
3. P ×P forces V[x˙ ]∩V[γ˙ ·x˙ ]=V.
Γ Y gen gen gen
Proof. For the implication (1)→(2), suppose that the action is generically tur-
bulent. Let O ⊂X be a nonempty open set. Find a point δ ∈Γ and open sets

3.2. EXAMPLES 85
U ⊂ΓandO ,O ⊂Y suchthat1∈U,U =U−1,and(δ·U×O ×O )∩X ⊂O.
0 1 0 1
Findapointy ∈O suchthattheU,O -orbitofyissomewheredense;letA⊂Y
0 0
be a nonempty open set such that the U,O -orbit of y is dense in A. We claim
0
that A⊂Y is an open set witnessing the independence of functions f and f .
0 1
To see this, let B ,B ⊂ A be nonempty open sets. Concatenating U,O -
0 1 0
walksfromy toB andB ,wecanfindaU,O -walk(cid:104)y : i≤k,γ : i<k(cid:105)which
0 1 0 i i
starts in B and ends in B . Consider the sequence (cid:104)x : i ≤ 2k(cid:105) of points in
0 1 i
the open set O ⊂ X given by x = (cid:104)δ,y ,δ·y (cid:105) and x = (cid:104)δγ ,y ,δy (cid:105) if
2i i i 2i+1 i i i+1
i<k. It is immediate that this is an walk of points in the set O in the sense of
Definition 3.1.2, confirming the independence of functions f ,f .
0 1
For the implication (2)→(1), suppose that the functions f ,f are indepen-
0 1
dent. LetU ⊂Γbeanopenneighborhoodof1andO ⊂Y beanonemptyopen
0
set. Choose an open neighborhood U ⊂ Γ of the unit such that U−1·U ⊂ U
0 0 0
andletO ={(cid:104)γ,y ,y (cid:105)∈X: γ ∈U andy ,y ∈O }. Supposethat(cid:104)x : i≤k(cid:105)
0 1 0 0 1 0 i
isawalkofpointsinthesetOinthesenseofDefinition3.1.2andx =(cid:104)δ ,z ,z(cid:48)(cid:105);
i i i i
then the sequence (cid:104)z : i ≤ k,γ : i < k(cid:105) is an U,O -walk in the sense of Defini-
i i 0
tion 3.2.1, where γ =1 if z =z and γ =δ−1δ if z (cid:54)=z (in which case
i i i+1 i i+1 i i i+1
z(cid:48) =z(cid:48) ).
i i+1
Now, if A ⊂ O is an open set witnessing the independence of f ,f for O
0 0 1
and B ⊂ A is a nonempty open set, then the set {y ∈ A: there is a walk of
pointsinO fromy toB}isopendenseinA,andbythepreviousparagraphitis
a subset of the set {y ∈A: there is an U,O -walk from y to B}. Thus, the set
0
C ={y ∈Y : eithery ∈/ AortheU,O -orbitofyisdenseinA}iscomeager.
U,O0 0
(cid:84)
The set of turbulent points then contains the intersection {C : U ⊂Γ is a
U,O0
basic open neighborhood of 1 and O ⊂Y is a basic open set} and is comeager.
0
The equivalence (2)↔(3) follows from Theorem 3.1.4 and the fact that the
functionf iscontinuousandopen,sothefirsttwocoordinatesoftheP -generic
2 X
point are generic for P ×P by Proposition 3.1.1.
Γ Y
A somewhat similar characterization theorem can be proved for analytic
ideals on ω.
Definition 3.2.3. [13]AsetI ⊂P(ω)isω-hitting ifforeverycountablecollec-
tionofinfinitesubsetsofω thereisasetb∈I whichhasnonemptyintersection
with each set in the collection.
Atypicalanalyticω-hittingidealisI ,wherepisapartitionofω intofinitesets
p
and I is the collection of all sets a ⊂ ω such that for some number n ∈ ω, for
p
every set b∈p, |a∩b|≤n. In fact, [43] shows that every Borel ω-hitting ideal
containsoneoftheidealsI asasubsetinasuitablesense. ω-hittingidealsgive
p
rise to pairs of independent functions in the proof of the following theorem:
Theorem 3.2.4. Let I be an analytic ideal on ω. The following are equivalent:
1. I is ω-hitting;
2. in some forcing extension, there are points y ,y ∈ 2ω separately Cohen-
0 1
generic over V such that y = y and V[y ]∩V[y ]=V.
0 I 1 0 1

86 CHAPTER 3. TURBULENCE
Proof. For the direction (1)→(2), assume that the ideal I is ω-hitting. Let
h: ωω → P(ω) be a continuous map such that I = rng(h). Let T = {t ∈
ω<ω: h(cid:48)(cid:48)[t]isω-hitting}. ThesetT ⊂ω<ωisclearlyclosedunderinitialsegment.
Claim 3.2.5. For all t ∈ T there is n ∈ ω such that for all m > n there is
z ∈[T (cid:22)t] such that m∈h(z).
Proof. Suppose towards a contradiction that the conclusion fails for some node
t ∈ T. Let a = ω\ (cid:83) h(cid:48)(cid:48)[T (cid:22) t]; the set a ⊂ ω is infinite. For each s ∈ ω<ω \T
let c be a countable collection of infinite subsets of ω such that for all z ∈[s],
s
(cid:83)
h(z) has finite intersection with one element of c . Let c = c ∪{a}; it
s s∈/T s
is not difficult to see that for every z ∈ [t], h(z) has finite intersection with an
element of c, contradicting the assumption that t∈T.
Now, let X be the closed set of all triples (cid:104)y ,y ,z(cid:105) ⊂ 2ω ×2ω ×[T] such
0 1
that {n ∈ ω: y (n) (cid:54)= y (n)} ⊂ h(z). Let f ,f : X → 2ω be the projections
0 1 0 1
into the first and second coordinate. It is not difficult to see that both of these
maps are continuous and open. In view of Theorem 3.1.4, the following claim
concludes the proof of (2).
Claim 3.2.6. The maps f ,f are independent.
0 1
Proof. Let O ⊂ X be an open set. Find u ,u ∈ 2<ω and t ∈ T such that
0 1
([u ]×[u ]×[t])∩X is a nonempty subset of O. Thinning out further, we may
0 1
assumethatthebinarystringsu ,u havethesamelengthandforallz ∈[T (cid:22)t]
0 1
and every l such that u (l)(cid:54)=u (l), n∈h(z) holds. Let n∈ω be such that for
0 1
all m > n there is z ∈ [T (cid:22) t] such that m ∈ h(z). Let v ∈ 2<ω be any binary
string extending u of length > n and A = [v]. We claim that the open set A
0
witnesses the definition of independence for f ,f and O.
0 1
Indeed, suppose that w ,w are two binary strings of the same length ex-
0 1
tending v. To produce a walk from [w ] to [w ], list all entries on which the
0 1
strings w ,w differ by {m : j ∈i}. Let y ∈[w ] be any point, and let y ∈2ω
0 1 j 0 j
be the point obtained from y by flipping the outputs at all m for k ∈j. Thus,
k
y differs from y only at entry m and y ∈ [w ]. Let y(cid:48) ∈ 2ω be the point
j j+1 j i 1 j
obtained by replacing the initial segment u ⊂y with u . Also, let z ∈[T (cid:22)t]
0 j 1 j
be any point such that m ∈ h(z ). Now, define points x ,x ∈ X for
j j 2j+1 2j+2
j ∈i as follows:
• x =(cid:104)y ,y(cid:48),z(cid:105) for any z ∈[T (cid:22)t];
0 0 0
• x =(cid:104)y ,y(cid:48) ,z (cid:105);
2j+1 j j+1 j
• x =(cid:104)y ,y(cid:48) ,z(cid:105) for any z ∈[T (cid:22)t].
2j+2 j+1 j+1
Clearly, the sequence (cid:104)x : k ≤2i(cid:105) is a walk from [w ] to [w ] as required.
k 0 1
Toprovethat(2)implies(1),assumethat(1)fails,aswitnessedbyacount-
ablecollection{a : n∈ω}ofinfinitesubsetsofω. Supposethatinsomegeneric
n
extension, y ,y ∈2ω are = -related points which are separately Cohen-generic
0 1 I

3.2. EXAMPLES 87
over V. The set b = {n ∈ ω: y (n) (cid:54)= y (n)} belongs to the ideal I; therefore,
0 1
there is a number n ∈ ω such that b∩a is finite. It follows that the func-
n
tions y (cid:22) a and y (cid:22) a are modulo finite equal; therefore, they belong to
0 n 1 n
V[y ]∩V[y ]. By a genericity argument, y (cid:22)a ∈/ V holds, so (2) fails.
0 1 0 n
Another example of an independent pair of functions deals with Polish fields.
Theorem 3.2.7. Let Φ be an uncountable Polish field. Let X = {(cid:104)u ,u (cid:105) ∈
0 1
(Φ2)2: u ·u =1}withthetopologyinheritedfromΦ4. Theprojectionfunctions
0 1
from X to the first and the second coordinate are independent.
Proof. Write f : X →Φ2 and f : X →Φ2 for the two projection functions. It
0 1
is not difficult to see that the maps f ,f are continuous and open. Towards
0 1
the independence, let O ⊂ (Φ2)2 be an open set with nonempty intersection
with X. Let (cid:104)u ,u (cid:105) be a point in X ∩O. Let v ∈ Φ2 be any nonzero vector
0 1 0
such that u ·v = 0. By the continuity of multiplication, there must be a
0 0
nonzero field element y ∈ Φ such that the pair (cid:104)u ,u +yv (cid:105) belongs to O; it
0 1 0
alsobelongstoX. Thedeterminantofthe2×2matrixconsistingofthevectors
u and v = u +yv is nonzero. It follows that there are open neighborhoods
1 1 1 0
O ,O ⊂ Φ2 of u ,v respectively such that for each choice of w ∈ O and
0 1 1 1 0 0
w ∈ O , the system of equations x · w = 1 and x · w = 1 has a unique
1 1 0 1
solution,andthesolutionx∈Φ2 ismoreoversuchthat(cid:104)x,w (cid:105),(cid:104)x,w (cid:105)areboth
0 1
elements of O.
We claim that the set O ⊂ Φ2 stands witness to the independence of the
0
functions f ,f . Indeed, if w ,w(cid:48) ∈ O are arbitrary points, then choose any
0 1 0 0 0
point w ∈ O , find vectors x and x such that x · w = 1, x · w = 1,
1 1 0 1 0 0 0 1
x · w(cid:48) = 1 and x · w = 0, and observe that (cid:104)x ,w (cid:105), (cid:104)x ,w (cid:105), (cid:104)x ,w (cid:105),,
1 0 1 1 0 0 0 1 1 1
(cid:104)x ,w(cid:48)(cid:105) is a walk of points in O starting at w and ending at w(cid:48).
1 0 0 0
The following theorem is closely related to the previous one in view of the
fact that its statement is intended to be applied with algebraic curves.
Theorem3.2.8. LetC ⊂Rbeasmoothcurvecontainingnostraightsegments,
which is closed as a subset of R2. Let X = (cid:104)u ,u (cid:105) ∈ R2: u −u ∈ C}. The
0 1 0 1
projection functions from X to the first and second coordinate are independent.
Proof. Since the set C is closed, X ⊂ (R2)2 is closed and equipped with the
topology inherited from (R2)2. Let f : X → R2 and f : X → R2 be the
0 1
projection functions. Clearly, f and f are continuous. They are also open: if
0 1
O ⊂(R2)2 isanopenset,(cid:104)u ,u (cid:105)∈X∩O isapoint,andε>0isarealnumber
0 1
suchthatforeachvectorv ∈R2 ofnormsmallerthanεthepoint(cid:104)u +v,u +v(cid:105)
0 1
belongs to O, then the open neighborhood {u +v: |v|<ε} of u is a subset of
0 0
the f -image of X∩O, as the points (cid:104)u +v,u +v(cid:105) belong not only to O but
0 0 1
also to X as u −u =(u +v)−(u +v).
0 1 0 1
To see the independence, fix an open set O ⊂ (R2)2 and a point (cid:104)u ,u (cid:105) ∈
0 1
X∩O. Translatingifnecessary, wemayassumethatu =0. Findanopenball
1
B ⊂ R2 close to u such that B ×(B −B) ⊂ O and C ∩B is a simple curve
0
connecting two distinct points at the boundary of B. As the curve C contains

88 CHAPTER 3. TURBULENCE
nostraightsegments,theremustbepointsp ,p ∈B∩C suchthatthetangent
0 1
vectors at p and p are nonzero and distinct. An inspection reveals that there
0 1
must be an open set P ⊂ R2 close to 0 such that p −P ⊂ B and for every
0
vector v ∈P, the points p +v and p +v end up on the opposite sides of the
0 1
curve C and in the ball B, and the v-shift of the part of the curve C between
the points p ,p is a subset of B. By the Jordan curve theorem, the curves C
0 1
and C+v must intersect in the ball B.
We claim that the set p −P ⊂R2 witnesses the independence of the maps
0
f ,f . Let v ,v ∈P be two vectors and q ,q ∈B be respective points in the
0 1 0 1 0 1
intersectionsC∩(C+v )andC∩(C+v ). Then(cid:104)p −v ,p −q (cid:105),(cid:104)p ,p −q (cid:105),
0 1 0 0 0 0 0 0 0
(cid:104)p ,p −q (cid:105), and (cid:104)p −v ,p −q (cid:105) constitutes a walk from p −v to p −v
0 0 1 0 1 0 1 0 0 0 1
using points in O.
The assumption that C contains no straight segments is necessary in Theo-
rem 3.2.8. Suppose that C is a line passing through the origin and argue that
the projection functions are not independent. To see this, consider the P -
X
generic pair (cid:104)u ,u (cid:105). The line in the direction of C through u passes through
0 1 0
u and vice versa. Let B be the collection of all basic open subsets of R2 which
1
(cid:83)
have empty intersection with this line; thus, B ∈ V[u ]∩V[u ]. The set B
0 1
is open dense in R2 and contains neither u nor u . Since u ,u are Cohen-
0 1 0 1
generic points, they meet all open dense subsets of R2 coded in the ground
model; it follows that B ∈/ V. By Theorem 3.1.4, the projection functions are
not independent.
3.3 Placid equivalence relations
ThecharacterizationofturbulenceinTheorem3.2.2leadstomanyBorelnonre-
ducibility results and cardinal preservation results in the generic extensions of
the Solovay model. To state these results succinctly, the following definitions
are helpful.
Definition 3.3.1. Let E be an analytic equivalence relation on a Polish space
X. WesaythatE isplacid if,wheneverV[H ]andV[H ]areseparatelygeneric
0 1
extensions of V (inside some ambient generic extension) such that V[H ] ∩
0
V[H ] = V and x ∈ V[H ] and x ∈ V[H ] are E-related points in the space
1 0 0 1 1
X, then they are E-related to some point in V.
Definition 3.3.2. Let E be an analytic equivalence relation on a Polish space
X. We say that E is virtually placid if, whenever V[H ] and V[H ] are sepa-
0 1
ratelygenericextensionsofV (insidesomeambientgenericextension)suchthat
V[H ]∩V[H ] = V and (cid:104)Q ,τ (cid:105) ∈ V[H ] and (cid:104)Q ,τ (cid:105) ∈ V[H ] are E¯-related
0 1 0 0 0 1 1 1
E-pins, then they are E¯-related to some E-pin in V.
In other words, an equivalence relation E is placid if disjoint generic extensions
do not share any E-classes which are not represented in V. An equivalence
relation E is virtually placid if disjoint generic extensions do not share any

3.3. PLACID EQUIVALENCE RELATIONS 89
virtual E-classes which are not represented in V. The following propositions
encapsulate the basic properties of the two classes of equivalence relations.
Proposition 3.3.3. Let E be an analytic equivalence relation on a Polish space
X. E is virtually placid if and only if for any separately generic extensions
V[H ],V[H ] such that V[H ]∩V[H ] = V and E-related points x ∈ V[H ]
0 1 0 1 0 0
and x ∈V[H ], x and x are realizations of some virtual E-class in V.
1 1 0 1
Proof. The left-to-right implication is immediate from the definitions. For the
right-to-left implication, suppose that V[H ] and V[H ] are separately generic
0 1
extensions such that V[H ]∩V[H ] = V and (cid:104)Q,τ (cid:105) ∈ V[H ] and (cid:104)Q ,τ (cid:105) ∈
0 1 0 0 1 1
V[H ]areE¯-relatedpins. LetK ⊂Q andK ⊂Q befiltersmutuallygeneric
1 0 0 1 1
over the model V[H ,H ] and let x =τ /K and x =τ /K . By the mutual
0 1 0 0 0 1 1 1
genericity, V[H ][K ]∩V[H ][K ] = V, and the assumption on E gives that
0 0 1 1
x ,x arerealizationsofsomevirtualE-classfromthegroundmodel. Itfollows
0 1
that both E-pins are E¯-related to some E-pin from V.
Proposition 3.3.4. An analytic equivalence relation E on a Polish space X is
placid if and only if it is pinned and virtually placid.
Proof. Theright-to-leftimplicationisimmediate. IfE isapinnedandvirtually
placid equivalence relation and V[H ],V[H ] are separately generic extensions
0 1
suchthatV[H ]∩V[H ]=V,thenanyE-classrepresentedinbothmustberep-
0 1
resentedasavirtualclassinV bythevirtualplacidassumption,andthisvirtual
class must be trivial by the pinned assumption. This means that E is placid.
For the left-to-right implication, if E is placid then it must be pinned because
if V[H ],V[H ] are mutually generic extensions then V[H ]∩V[H ] = V by
0 1 0 1
theproductforcingtheorem. Toshow thatE must be virtually placid, suppose
that V[H ], V[H ] are separately generic extensions. By Proposition 3.3.3, it is
0 1
enough to verify that every E-class represented in both extensions is a realiza-
tion of some virtual E-class in V. However, the placid assumption even implies
that it is a realization of a trivial virtual E-class in V.
A good example of an equivalence relation which is virtually placid but not
placid is F . It is not placid since it is not pinned.
2
The following ergodicity theorem is a great generalization of the ergodicity
theorems of Hjorth and Kechris [52, Theorem 12.5], and it is the main motiva-
tion behind the definition of placid and virtually placid classes of equivalence
relations.
Theorem 3.3.5. Suppose that a Polish group Γ acts continuously and in a
genericallyturbulentwayonaPolishspaceX suchthattheresultingorbitequiv-
alence relation E is analytic, with all orbits dense. Suppose that F is a virtually
placid equivalence relation on a Polish space Y. Suppose that h: X → Y is
a homomorphism of E to F. Then there is a comeager set B ⊂ X which is
mapped into a single F-class.
Proof. Let γ ∈Γ,x∈X be a mutually generic pair of points for the posets P
Γ
and P . Theorem 3.2.2 implies the instrumental equality: V[x]∩V[γ·x]=V.
X

90 CHAPTER 3. TURBULENCE
Since x E γ ·x holds, it must be the case that h(x) F h(γ ·x) must hold. By
thevirtualplacidityoftheequivalencerelationF,itmustbethecasethath(x)
is a realization of a ground model virtual F-class. However, the poset P is
X
countable, so all virtual classes realized in its extension are already represented
in the ground model by Theorem 2.6.2. Thus, there must be a point y ∈Y ∩V
suchthath(x)F y. Sincethegenericpointx∈X avoidsallgroundmodelcoded
meager sets, it must be the case that the set B =h−1([y] )⊂X is nonmeager.
E
Sincethisisananalyticsetwhichisinvariantunderthecontinuousgroupaction
all of whose orbits are dense, it follows that the set B is comeager.
3.4 Examples and operations
The extent of the classes of placid and virtually placid equivalence relations is
best explored using the following closure theorems.
Theorem 3.4.1. The class of placid equivalence relations is closed under the
following operations:
1. Borel almost reduction;
2. countable product;
3. countable increasing union;
4. countable factor;
The class of virtually placid equivalence relations is closed under the same op-
erations and the Friedman–Stanley jump.
Proof. In view of Proposition 3.3.4, it is enough to show the closure of virtual
placidity under these operations, since the class of pinned equivalence relations
is closed under (1–4) by the work of Chapter 2. For virtual placidity, we will
prove (1) and the closure under the Friedman–Stanley jump.
For(1),supposethatE,F areanalyticequivalencerelationsonPolishspaces
X,Y and h: X → Y is a Borel function which is a reduction of E to Y every-
where except for a set Z ⊂X consisting of countably many E-classes. Suppose
that F is virtually placid and work towards the conclusion that E is virtually
placid. Let V[H ], V[H ] be generic extensions such that V[H ]∩V[H ] = V
0 1 0 1
and let x ∈V[H ] and x ∈V[H ] be E-related points in X; we need to show
0 0 1 1
that they are realizations of some virtual E-class in V. If x ∈ Z then this
0
certainly occurs as V contains a countable set of points whose E-classes cover
Z, and this feature of the countable set persists to V[H ] by a Shoenfield abso-
0
lutenessargument. Ifx ∈/ Z thenx ∈/ Z;lookatthepointsh(x )∈V[H ]and
0 1 0 0
h(x )∈V[H ]. These are F-related points; since F is placid they realize some
1 1
virtual F-class represented by some F-pin (cid:104)Q,σ(cid:105). By a Shoenfield absoluteness
argument, Q(cid:13)∃x∈X\Z h(x)E σ; letτ beaQ-nameforsuchapointx∈X.
It is not difficult to see that (cid:104)Q,τ(cid:105) is an E-pin and x ,x realize the virtual
0 1
class of (cid:104)Q,σ(cid:105).

3.4. EXAMPLES AND OPERATIONS 91
For the Friedman–Stanley jump, suppose that E is a virtually placid equiv-
alence relation on a Polish space X, V[H ] and V[H ] are separately generic
0 1
extensions of V such that V[H ]∩V[H ] = V and y ,y ∈ Xω are elements
0 1 0 1
in the respective models such that [rng(y )] = [rng(y )] . Since E is virtu-
0 E 1 E
ally placid, every element of rng(y ) is a realization of a virtual E-class from
0
V. Let B be the set of all virtual E-classes in V which have realizations in
rng(y ). Since B is also the set of all virtual E-classes in V which have real-
0
izations in rng(y ), it is clear that B ∈ V[H ]∩V[H ] = V. Thus, the points
1 0 1
y ,y ∈ Xω are realizations of the virtual E+-class represented by the set B.
0 1
By Proposition 3.3.3, we conclude that E+ is virtually placid.
Theorem 3.4.2. Suppose that Γ is a Polish group continuously acting on a
Polish space X and E is the resulting orbit equivalence relation. The following
are equivalent:
1. E is virtually placid;
2. for every Borel set B ⊂ X such that E (cid:22) B is Borel, E (cid:22) B is virtually
placid.
Proof. (1)immediatelyimplies(2)sinceE (cid:22)B isreducibletoE bytheidentity
map on B. Now suppose that (1) fails, and let P be a poset and τ be a name
for an element of X such that P × P (cid:13) τ E τ fails, and let Q be a
left right
poset with names H˙ , H˙ for filters generic over the ground model such that
0 1
Q(cid:13)V[H˙ ]∩V[H˙ ]=V and τ/H˙ =τ/H˙ .
0 1 0 1
Let M be a countable elementary submodel of a large structure containing
all objects mentioned so far. Let M¯ be the transitive collapse of M, and P¯,Q¯
etc. be the images of P,Q etc. under the transitive collapse map. By Proposi-
tion 3.5.5, Q¯ (cid:13) V[H¯ ]∩V[H¯ ] = V holds even in V (as opposed to M¯). Let
0 1
B = {x ∈ X: ∃H ⊂ P¯ generic over M¯ such that x = τ¯/H}. We have just
provedthatE (cid:22)B isnotvirtuallyplacid. Theproofiscompletedbyareference
to Corollary 2.8.8–the set B ⊂X is Borel and the equivalence relation E (cid:22)B is
Borel as well.
The theorem allows the transfer of the virtual placid property from Borel
fragmentsofagivenorbitequivalencerelationtothewholeequivalencerelation.
Consider the following attractive corollary:
Corollary 3.4.3. Every equivalence relation classifiable by countable structures
is virtually placid.
Proof. InviewofTheorem3.4.1(1),itisonlynecessarytoshowthateveryorbit
equivalence relation E obtained from an action of S is virtually placid. By
∞
Theorem 3.4.2, it is only necessary to show that all Borel fragments of E are
virtually placid. To this end, consider the transfinite sequence (cid:104)F : α ∈ ω (cid:105)
α 1
obtained from F =identity on 2ω by repeated application of Friedman–Stanley
1
jump, at limit stages taking disjoint unions. It is well-known [48, Theorem
12.5.2]thateveryBorelequivalencerelationclassifiablebycountablestructures

92 CHAPTER 3. TURBULENCE
is Borel reducible to F for some countable ordinal α. Theorem 3.4.1 iterated
α
transfinitely shows that each F is virtually placid. Thus, every Borel fragment
α
of E is virtually placid, and so is E.
TherearemanyBorelplacidequivalencerelationswhichcannotbeobtained
from the identity by repeated application of the operations indicated in The-
orem 3.4.1. The following examples deal with equivalence relations associated
with ideals on countable sets. If a is a countable set and J is an ideal on a,
write = for the equivalence relation on the space X =(2ω)a connecting points
J
x ,x if the set {n∈a: x (n)(cid:54)=x (n)} belongs to J.
0 1 0 1
Example3.4.4. Leta=2<ω andletJ bethebranchideal: theidealgenerated
by the subsets of a linearly ordered by inclusion. The equivalence relation =
J
is placid.
Proof. Write X = (2ω)2<ω. For every node t ∈ ω<ω write [t] for the set of all
nodesin2<ω extendingt. LetV[G ],V[G ]betwogenericextensionscontaining
0 1
respective = -related points x ,x ∈ X. Assume that V[G ]∩V[G ] = V and
J 0 1 0 1
work to find a ground model point x∈X which is = -related to both x ,x .
J 0 1
Let T = {t ∈ 2<ω: x (cid:22) [t] is not = -equivalent to any point in the ground
0 J
model}. This is a subtree of ω<ω. If 0∈/ T then the proof is complete; thus, it
is only necessary to derive a contradiction from the assumption 0 ∈ T. First,
observe that the tree T cannot have any terminal nodes: if t were a terminal
node of T then one could combine the ground model witnesses for t(cid:97)0∈/ T and
t(cid:97)1 ∈/ T to find a witness for t ∈/ T. Second, observe that the definition of the
tree T depends only on the = -class of x , so T ∈ V[G ]∩V[G ] = V. Since
J 0 0 1
T is a nonempty ground model tree without endnodes, it must have an infinite
branch y ∈ 2ω in the ground model. Since x = x , there is a number n ∈ ω
0 J 1
such that for every t ∈ 2<ω such that x (t) (cid:54)= x (t), either t is incompatible
0 1
with y (cid:22)n or else t is an initial segment of y. Let e=[y (cid:22)n]\{y (cid:22)m: m≥n}
and observe that e ∈ V and x and x coincide on e, therefore x (cid:22) e ∈ V. If
0 1 0
z ∈V isanyfunctionin2[y(cid:22)n] extendingx (cid:22)e,thenz = x (cid:22)[t],contradicting
0 J 0
the assumption that y (cid:22)n∈T.
A whole class of ideals with placid equivalence relations is isolated in the fol-
lowing definition.
Definition 3.4.5. AnidealI onω iscountably separated ifthereisacountable
collection A of subsets of ω such that for every b ∈ I and c ∈/ I there is a ∈ A
such that b∩a=0 and c∩a∈/ I.
Countably separated ideals include for example the ideal of nowhere dense sub-
sets of the rationals; a characterization theorem is proved in [62]. Note that if
I is analytic then the instrumental property of the set A is coanalytic, and by
Mostowski absoluteness it will hold in all forcing extensions.
Theorem 3.4.6. The equivalence relation = is placid for every countably sep-
I
arated Borel ideal I on ω.

3.4. EXAMPLES AND OPERATIONS 93
Proof. Let {a : n∈ω} be a countable collection of subsets of ω witnessing the
n
countable separation of the ideal I. Write X = (2ω)ω. Let V[G ],V[G ] be
0 1
generic extensions containing respective = -related points x ,x ∈X. Assume
I 0 1
V[G ]∩V[G ] = V and work to find a ground model point x ∈ X which is
0 1
= -related to both x ,x .
I 0 1
Consider the set b={n∈ω: x (cid:22)a is I-equivalent to some element of the
0 n
ground model}. The definition of the set b depends only on the = -equivalence
I
class of x , therefore the set b belongs to both V[G ] and V[G ], and by the
0 0 1
initial assumptions, to V. Let f be the map with domain b which to each n∈b
identifies the = -class in V which contains x (cid:22) a . Again, the definition of
I 0 n
f depends only on the = -class of x , so f ∈ V[G ] and f ∈ V[G ], therefore
I 0 0 1
f ∈ V. By the Mostowski absoluteness between V and V[G ], there is a point
0
x∈X such that for all n∈b, x(cid:22)a ∈f(n). We will show that x= x holds.
n I 0
Suppose towards a contradiction that this fails. Consider the set c = {i ∈
ω: x(i) (cid:54)= x (i)} ∈/ I and the set d = {i ∈ ω: x (i) (cid:54)= x (i)} ∈ I. By the
0 0 1
countable separation of the ideal I, there must be a number n ∈ ω such that
c∩a ∈/ I and d∩a = 0. However, the latter equality shows that x (cid:22) a =
n n 0 n
x (cid:22) a , so x (cid:22) a ∈ V and n ∈ b. But then {i ∈ a : x(i) (cid:54)= x (i)} ∈ I by the
1 n 0 n n 0
choice of the point x. This contradicts the fact that c∩a ∈/ I. The proof of
n
the theorem is complete.
Thereisanaturaloperationonanalyticidealswhichseeksacountablyseparated
closure. Forthediscussionbelow,let{a : n∈ω}beafixedcountablecollection
n
of subsets of ω.
Definition 3.4.7. Let I be an ideal on ω. I+ is the ideal on ω consisting of all
sets b⊂ω such that there is c∈I such that ∀n∈ω b∩a ∈/ I →c∩a (cid:54)=0.
n n
We will start with some simple observations. It is clear that I+ is an ideal
containingI asasubset. IfI isanalytic,thensoisI+. Moreover,I isseparated
by the sequence {a : n ∈ ω} just in case I = I+. We will show that under
n
suitable additional assumption, the jump preserves placidity of the equivalence
relation = .
I
Definition 3.4.8. LetI beanidealonω. I is skew ifforeveryset c⊂ω there
is a subset c(cid:48) ⊂ c such that for every finite set d ⊂ ω, if c∩ (cid:84) a ∈/ I then
n∈d n
c(cid:48)∩ (cid:84) a ∈/ I and if c∩ (cid:84) a ∈I then c(cid:48)∩ (cid:84) a is finite.
n∈d n n∈d n n∈d n
It is not dificult to see that every F ideal is skew and every analytic P-ideal is
σ
skew.
Theorem 3.4.9. If I is a skew analytic ideal on ω then I+ is a skew ana-
lytic ideal as well. If in addition the equivalence relation = is placid then the
I
equivalence relation = is placid as well.
I+
Proof. Forthefirstsentence,ifc⊂ωisasetandc(cid:48) ⊂cwitnessestheskewprop-
ertyforI andc,thenc(cid:48) alsowitnessestheskewpropertyforI+ andc. Theproof
of the second sentence is more involved. Write X = (2ω)ω. Let V[G ],V[G ]
0 1

94 CHAPTER 3. TURBULENCE
be generic extensions containing respective = -related points x ,x ∈X. As-
I+ 0 1
sume V[G ]∩V[G ]=V and work to find a ground model point x∈X which
0 1
is = -related to both x ,x .
I+ 0 1
Considerthesetb={n∈ω: x (cid:22)a isI+-equivalenttosomeelementofthe
0 n
groundmodel}. Thedefinitionofthesetbdependsonlyonthe= -equivalence
I+
class of x , therefore the set b belongs to both V[G ] and V[G ], and by the
0 0 1
initial assumptions, to V. Let f be the map with domain b which to each n∈b
identifies the = -class in V which contains x (cid:22) a . Again, the definition of
I+ 0 n
f depends only on the = -class of x , so f ∈ V[G ] and f ∈ V[G ], therefore
I+ 0 0 1
f ∈ V. By the Mostowski absoluteness between V and V[G ], there is a point
0
x∈X suchthatforalln∈b, x(cid:22)a ∈f(n). Wewillshowthatx= x holds.
n I+ 0
Suppose towards a contradiction that this fails. Consider the set c = {i ∈
ω: x(i) (cid:54)= x (i)} ∈/ I+ and the set d = {i ∈ ω: x (i) (cid:54)= x (i)} ∈ I+. It is now
0 0 1
time to use the skew assumption on the ideal I. Find a set c(cid:48) ⊂ c witnessing
the skew property of I+. Use the definition of the jump to find a set e∈I such
that for all n ∈ ω, d∩a ∈/ I implies e∩a (cid:54)= 0. Since the set c(cid:48) is positive in
n n
the jump, there must be a number n∈ω such that c(cid:48)∩a ∈/ I and e∩a =0.
n n
The choice of the set c(cid:48) shows that c(cid:48)∩a is in fact I+-positive. The choice of
n
the set e shows that d∩a ∈ I. This means that x (cid:22) a = x (cid:22) a , and by
n 0 n I 1 n
the placid assumption on the equivalence relation = , n ∈ b must hold. This
I
stands in contradiction with the fact that c(cid:48)∩a , so c∩a is I+-positive. The
n n
proof of the theorem is complete.
Example 3.4.10. Let I be the branch ideal on 2ω, and let {a : n∈ω} be an
n
enumeration of the basic open subsets of 2<ω. The ideal I is skew. One can
start iterating the jump for countable ordinals α, at limit stages taking unions.
The resulting ideals consist of subsets of ω<ω whose closure in 2ω is countable
with Cantor–Bendixson rank ≤ α. All the resulting equivalence relations are
placid.
3.5 Absoluteness
The placid and virtually placid classes of equivalence relations are defined in
suchawaythatitisnotclearwhetherthemembershipinthemisabsolute,and
what the actual complexity is. This section provides a satisfactory resolution
to these questions.
Toreachtheabsolutenessresult, onehastoperformacomputationofinter-
sections of forcing extensions of independent interest. The computation starts
with several definitions:
Definition 3.5.1. Let B be a Boolean algebra. A subalgebra A⊂B is projec-
tive if the projection function π: B → A, assigning to each b ∈ B the smallest
element of A which is ≥b, is defined for every b.
A good example of a projection is any complete subalgebra of a complete
Boolean algebra. The point of the current definition is that the property of

3.5. ABSOLUTENESS 95
being projective is first order in A,B, so (unlike completeness) transfers from
modeltomodelwithoutdamage. NotethatifA⊂B isaprojectivesubalgebra,
then every maximal antichain of A is also a maximal antichain of B; therefore,
the intersection of a generic filter on B with A will be a generic filter on A. To
see this, let D ⊂A be a maximal antichain of A and b∈B be a condition. Let
d ∈ D be an element of A compatible with π(b). Then π(b)−d ∈ A is strictly
smaller element of A than π(b), so π(b)−d(cid:54)≥b holds. This means that d and b
must be compatible.
Definition 3.5.2. Let B be a Boolean algebra and A ,A ⊂ B be projective
0 1
subalgebras with projection functions π , π .
0 1
1. The projection sequence starting at b ∈ B is the sequence (cid:104)b : n ∈ ω(cid:105)
n
defined by b =b, b =π (b ) and b =π (b );
0 2n+1 0 2n 2n+2 1 2n+1
2. the pair {A ,A } is projective if for each b ∈ B, the supremum of the
0 1
projection sequence starting at b exists in B and belongs to A ∩A .
0 1
Again, a good example of a projective pair is a pair of complete subalgebras of
a complete Boolean algebra. The notion of a projective pair is no longer a first
orderstatementaboutA ,A ,B,butitstilltransfersbetweenω-modelsofZFC
0 1
without damage.
Proposition 3.5.3. Let B be a Boolean algebra and {A ,A } be a projective
0 1
pair of subalgebras. Then
1. A ∩A ⊂B is a projective subalgebra of B;
0 1
2. if τ ,τ are A - and A -names for sets of ordinals and B (cid:13)τ =τ , then
0 1 0 1 0 1
there is a A ∩A -name τ such that B (cid:13)τ =τ =τ .
0 1 2 0 1 2
Proof. Letπ ,π betheprojectionsofB toA ,A . Letπ: B →A ∩A bethe
0 1 0 1 0 1
function which assigns to each b∈B the supremum of the projection sequence
starting from b. It is clear from the definitions that π(b) is the smallest element
of A ∩A above b and (1) follows.
0 1
For(2),firstnotethatforeveryb∈B andeveryordinalα,b(cid:13)αˇ ∈τ justin
0
caseπ(b)(cid:13)αˇ ∈τ. Toseethis,byinductiononn∈ω arguethatb (cid:13)αˇ ∈τ . If
n 0
thisholdsforn=2k, thenusethefactthatτ isanA -name, sob =π (b )
0 0 n+1 0 n
must force αˇ ∈ τ; if this holds for n = 2k +1, then use the fact that τ is
1
an A -name forced to be equal to τ , so b = π (b ) must force αˇ ∈ τ. It
1 0 n+1 1 n
follows that b(cid:13)αˇ ∈τ just in case π(b)(cid:13)αˇ ∈τ, so one can let (cid:104)π(b),αˇ(cid:105)∈τ if
2
b(cid:13)αˇ ∈τ .
0
The above notions have the slightly unpleasant feature that they do not
necessarily survive localization well, so an additional local definition is needed.
Definition 3.5.4. LetB beaBooleanalgebraand{A ,A }beapairofsubal-
0 1
gebras. Thepairislocallyprojective ifforeverynonzeroelementb∈B,intheal-
gebraB (cid:22)bthesubalgebrasA (cid:22)b={b∧a: a∈A }andA (cid:22)b={b∧a: a∈A }
0 0 1 1
form a projective pair.

96 CHAPTER 3. TURBULENCE
The following is the central motivation of the notion of a projective pair of
subalgebras:
Proposition 3.5.5. Let B be a Boolean algebra and A ,A be a locally projec-
0 1
tive pair of subalgebras. The following are equivalent:
1. B (cid:13)V[G˙ ∩A ]∩V[G˙ ∩A ]=V;
0 1
2. for every b∈B, the intersection algebra A (cid:22)b∩A (cid:22)b has an atom.
0 1
Proof. Suppose that (2) fails for some b ∈ B. Write C = A (cid:22) b∩A (cid:22) b and
0 1
use Proposition 3.5.3 to argue that C is a projective subalgebra of B (cid:22) b, so
b (cid:13) G˙ ∩Cˇ is a C-generic filter, and since C is nonatomic, G˙ ∩Cˇ ∈/ V. At the
same time, G˙ ∩Cˇ belongs to V[G˙ ∩A ]∩V[G˙ ∩A ], so (1) fails.
0 1
Suppose now that (2) holds. Suppose that τ ,τ are A - and A -names for
0 1 0 1
sets of ordinals and some condition b ∈ B forces τ = τ . Write C = A (cid:22)
0 1 0
b ∩A (cid:22) b and let c be an atom of C. To verify (1), it is enough to argue
1
that c decides the membership of any given ordinal in τ . However, this follows
0
immediately from Proposition 3.5.3 (2) applied below b.
Finally, we are in a position to give a succinct and principled proof of the main
absoluteness result of this section.
Theorem 3.5.6. Let E be a Borel equivalence relation on a Polish space X.
The statement “E is virtually placid” is absolute among transitive models of set
theory containing the code for E.
Proof. We will show that the statement “E is not virtually placid” is in ZFC
equivalenttothestatement“thereisacountableω-modelM ofalargefragment
of ZFC containing the code for E such that M |= E is not virtually placid”.
This is an analytic statement; therefore, it is absolute among transitive models
of set theory.
Now, the left-to-right implication is immediate: one just needs to take a
countable elementary submodel of a large enough structure to get the requi-
site M. The right-to-left direction is more interesting. Suppose that M is a
countable ω-model containing the code for E which satisfies that E is not vir-
tually placid. Working in the model M, there must be complete algebra B,
complete subalgebras A ,A ⊂ B, and respective A ,A -names τ ,τ for ele-
0 1 0 1 0 1
ments of the underlying space X such that first, B×B (cid:13) ¬(τ ) E (τ ) ,
0 left 0 right
and second, B (cid:13) V[G˙ ∩A ]∩V[G˙ ∩A ] = V and τ E τ . The subalgebras
0 1 0 1
A ,A ⊂ B form a locally projective pair in M since they are complete. By
0 1
Proposition 3.5.5 applied in M in the (1)→(2) direction, for every b ∈ B, the
algebra A (cid:22) b∩A (cid:22) b has an atom. Stepping out of the model M, we see
0 1
that the pair A ,A ⊂ B is a projective pair and for every b ∈ B, the algebra
0 1
A (cid:22) b ∩ A (cid:22) b has an atom. By Proposition 3.5.5 applied in the (2)→(1)
0 1
direction, B (cid:13) V[G˙ ∩A ]∩V[G˙ ∩A ] = V holds. Moreover, B (cid:13) τ E τ , and
0 1 0 1
B×B (cid:13)¬(τ ) E (τ ) , since E is absolute between generic extensions of
0 left 0 right
V and generic extensions of M by Borel absoluteness. In conclusion, E is not
virtually placid in V.

3.6. A VARIATION FOR MEASURE 97
Corollary 3.5.7. Let E be a Borel equivalence relation on a Polish space X.
The statement “E is placid” is absolute among transitive models of set theory
containing the code for E.
Proof. The placidity of E is a conjunction of virtual placidity and the pinned
propertyofEbyProposition3.3.4. TheconjunctsareabsolutebyTheorem3.5.6
and 2.7.1, and so is the conjunction.
3.6 A variation for measure
Thepurposeofthissectionistointroduceaparallelforturbulenceformeasure,
with attendant ergodicity results for measure. Curiously enough, the measure
theoretic parallel for turbulence is intimately connected to the concentration of
measure phenomenon. The following definition is close to the whirly actions of
[33]:
Definition 3.6.1. Let X be a Polish space with a Borel probability measure µ
and a metric d. Let Γ be a Polish group acting on X in a measure preserving
and distance preserving fashion. We say that the action has concentration of
measure if for every open neighborhood U ⊂ Γ containing the unit and every
ε > 0 there is δ > 0 such that for every d-ball B ⊂ X of radius < δ and every
Borel set C ⊂B of relative µ-mass >ε, the set (U ·C)∩B has relative µ-mass
>1/2.
Toformulatethemainresultsofthissection,letP betheCohenforcingon
Γ
Γ and P be the random forcing with µ, i.e. the forcing with µ-positive Borel
µ
subset of X, ordered by inclusion. The poset P adds a generic point γ˙ ∈Γ
Γ gen
while the poset P adds a random point x˙ ∈X.
µ gen
Theorem 3.6.2. Suppose that Γ is a Polish group acting on a Polish space X
with a Borel probability measure µ and an ultrametric d in a measure preserving
and distance preserving fashion. Suppose that the action has concentration of
measure. Then P ×P (cid:13)V[x˙ ]∩V[γ˙ ·x˙ ]=V.
Γ µ gen gen gen
The proof of Theorem 3.6.2 hinges on a new walk concept and a proposition.
Definition 3.6.3. Let U ⊂Γ be an open neighborhood of the unit and δ >0.
A U,δ-walk is a sequence (cid:104)x : i ≤ j(cid:105) of points in X such that for every i ∈ j,
i
either d(x ,x )<δ or there is γ ∈U such that γ·x =x .
i i+1 i i+1
Definition 3.6.4. Let U ⊂Γbeanopenneighborhoodoftheunitand D ⊂X
be a closed set. We say that the set D is U-connected if for any two points
x ,x ∈ D and any δ > 0 there is a U,δ-walk from x to x using only points
0 1 0 1
from D.
The main import of the concentration of measure assumption is that for any
open neighborhood U of the unit, closed U-connected µ-positive sets can be
found under every stone.

98 CHAPTER 3. TURBULENCE
Proposition 3.6.5. Suppose that the action of Γ has concentration of measure
and d is an ultrametric. Then for every open neighborhood U ⊂ Γ of the unit
and every µ-positive Borel set C ⊂X there is a µ-positive U-connected compact
set D ⊂C.
Proof. Wewillfirstfixusefulterminology. ForasymmetricneighborhoodV ⊂Γ
containing the unit and d-balls B ,B ⊂ X of the same radius we say that B
0 1 0
is V-related to B if there is an element γ ∈V such that γ·B =B . Since d is
1 0 1
anultrametric, thisisequivalenttothestatementthatthereisγ ∈V suchthat
γ·B ∩B (cid:54)= 0. A set B consisting of d-balls of the same radius will be called
0 1
V-connected if for any two balls B ,B ∈ B one can find a sequence of balls
0 1
in B which starts with B , ends in B , and successive balls in it are V-related.
0 1
Lastly, for Borel sets B,D ⊂ X write µ (D) for the relative measure of D in
B
B, i.e. the ratio µ(B∩D).
µ(B)
Let U ⊂Γ be an open neighborhood of the unit, and let C ⊂X be a Borel
µ-positive set. Find a symmetric open neighborhood V ⊂ Γ of the unit such
that V4 ⊂ U, and thin down C if necessary to a compact µ-positive set. Let
ε = 1/8 and for each n ∈ ω let ε = 2−n−2ε . Let δ > 0 be the numbers
0 n+1 n n
witnessing the concentration of measure of the action for V and ε . Thinning
n
down C if necessary, use the Lebesgue density theorem to find a d-ball B of
ini
radius <δ such that C ⊂B and µ (C)>1/2.
0 ini Bini
By recursion on n ∈ ω find finite families B of pairwise disjoint d-balls of
n
radius < δ such that for every number n ∈ ω B refines B , and writing
n n+1 n
Y(B)={A∈B : A⊂B for every ball B ∈B , the following hold:
n+1 n
• for every A∈Y(B), µ (C)>2n+2ε ;
A n+1
• µ (C∩ (cid:83) Y(B))>(1−2−n)µ (C).
B B
• the set Y(B) consists of balls of the same radius < δ and it is V2-
n+1
connected.
To begin, set B = {B }. Now, suppose that B has been constructed and
0 ini n
B ∈ B is a ball; we shall show how to construct the set Y(B) and therefore
n
B . First, use the compactness of the set C to find a finite set Y of d-
n+1 0
(cid:83)
balls (subsets of B) of the same radius < δ such that C ∩B ⊂ Y . Let
n+1 0
Y ={A∈Y : µ (C)>2n+2ε }. Thus,µ (C∩ (cid:83) (Y \Y ))≤2n+2ε =ε .
1 0 A n+1 B 0 1 n+1 n
Claim 3.6.6. There is a V2-connected component Y ⊂ Y such that µ (C ∩
2 1 B
(cid:83)
(Y \Y ))<ε .
1 2 n
Proof. WefirstshowthatthereisaV2-connectedcomponentY ⊂Y suchthat
2 1
(cid:83)
µ (C ∩ Y ) > ε . If this were not the case, it would be possible to divide
B 2 n
Y into sets Y(cid:48) and Y(cid:48)(cid:48) which are both invariant under V2-connections, and
1
µ (C∩ (cid:83) Y(cid:48))andµ (C∩ (cid:83) Y(cid:48)(cid:48))arebothgreaterthanε . Bytheconcentration
B B n
of measure assumption, the sets V ·(C ∩ (cid:83) Y(cid:48)) and V ·(C ∩ (cid:83) Y(cid:48)(cid:48)) are both
of µ -mass greater than 1/2 and therefore intersect. It follows that V2·(C ∩
B

3.6. A VARIATION FOR MEASURE 99
(cid:83) Y(cid:48))∩(C ∩ (cid:83) Y(cid:48)(cid:48)) (cid:54)= 0, contradicting the invariance of the sets Y(cid:48) and Y(cid:48)(cid:48)
under V2-connections.
Now, the V2-connected component Y found in the first paragraph must in
2
(cid:83)
fact be such that µ (C∩ (Y \Y ))<ε , by an argument identical to the one
B 1 2 n
in the previous paragraph with Y(cid:48) =Y and Y(cid:48)(cid:48) =Y \Y . This completes the
2 1 2
proof of the claim.
Letting Y(B) = Y completes the construction. The V2-connectedness is clear
2
from the choice of Y , the first item is clear from the choice of Y (B), and
2 1
(cid:83)
the second item follows from some arithmetic: µ (C ∩ (Y \Y )) < 2ε =
B 2 n
2−n2n+1ε ≤2−nµ (C).
n B
(cid:84) (cid:83)
Now, let D = B . The set D is closed as the d-balls in the sets B are
n n n
clopen. It is also a subset of C, because each of the balls in B has nonempty
n
intersection with C, and C is closed. The set D also has positive µ-mass; the
mass distribution of D is governed by the following claim:
Claim 3.6.7. For every n≥2 and every ball B ∈B , µ (D)>ε .
n B n
Proof. To get the set D∩B, we subtracted from C ∩B a set of size at most
Σ 2−mµ (C) by the second item above, so µ (D)>1/2µ (C)>ε by the
m>n B B B n
first item above.
Towards the connectedness of the set D, consider the following claim:
Claim3.6.8. Letm≤nbenaturalnumbers,B ∈B aball,andx ,x ∈B∩D
m 0 1
be any points. Then there is a U,δ -walk from x to x using only points in
n 0 1
B∩D.
Proof. This is proved by induction on n−m, which is the reason for the con-
voluted statement of the claim. The case n − m = 0 is trivial since then
d(x ,x ) < δ . Now suppose that the statement is known for m + 1 ≤ n
0 1 n
and proceed to show that it is also true for m ≤ n. Let B ,B ∈ B be
0 1 m+1
balls such that x ∈ B and x ∈ B . If B = B then the induction hypoth-
0 0 1 1 0 1
esis immediately applies. Otherwise, by the third item above, the set Y(B) is
V2-connected, so there must be a sequence of balls in Y(B) starting at B and
0
ending at B such that successive balls are V2-connected. Suppose for simplic-
1
ity that this sequence has length 2–i.e. B and B are V2-connected. Fix an
0 1
element γ ∈V2 such that γ·B =B .
0 1
Since µ (D) and µ (D) are both greater than ε , the concentration
B0 B1 m+1
assumption yields that the numbers µ (V ·(D∩B ))=µ (V ·(D∩B )) are
B0 0 B1 1
both greater than 1/2. It follows that there is a point x∈(V ·(D∩B ))∩B
0 0
such that γ·x∈(V ·(D∩B )). Find points x(cid:48) ∈D∩B and x(cid:48) ∈D∩B and
1 0 0 1 1
group elements β ,β ∈ V such that β ·x(cid:48) = x and β ·(γ·x) = x(cid:48). Use the
0 1 0 0 1 1
induction hypothesis to find a U,δ -walk from x to x(cid:48). Follow it by acting by
n 0 0
β γβ ∈U to get to the point x(cid:48), and then use the induction hypothesis again
0 1 1
to extend the walk from x(cid:48) to x . The claim follows.
1 1

100 CHAPTER 3. TURBULENCE
Since the numbers δ tend to 0 as n tends to infinity and D ⊂ B , the
n ini
claim shows that the set D is U-connected and completes the proof of the
proposition.
Proof of Theorem 3.6.2. Suppose towards a contradiction that (cid:104)U,C(cid:105) is a con-
dition in the product P ×P which forces V[x˙ ]∩V[γ˙ ·x˙ ] (cid:54)= V. The
Γ µ gen gen gen
following claim follows from abstract forcing considerations.
Claim 3.6.9. (cid:104)U,C(cid:105)(cid:13)2ω∩V[x˙ ]∩V[γ˙ ·x˙ ](cid:54)=2ω∩V.
gen gen gen
Proof. It will be enough to show that P forces that for every ordinal α and
µ
everyfunctionf: α→2intheextension,iff ∈/ V thenthereisagroundmodel
countablesetb⊂αsuchthatf (cid:22)b∈/ V. ItwillfollowimmediatelythatP ×P
Γ µ
forcesthatiff ∈V[x˙ ]∩V[γ˙ ·x˙ ]\V thenf (cid:22)b∈V[x˙ ]∩V[γ˙ ·x˙ ]\V
gen gen gen gen gen gen
for some ground model countable set b. This will prove the claim.
The forcing property of P in question is well-known; we include a complete
µ
proof. Suppose towards a contradiction that B ∈ P and B (cid:13) τ: αˇ → 2
µ
is a function which is not in the ground model, and for every countable set
b ∈ V, τ (cid:22) b ∈ V. Let (cid:104)M : β ∈ ω (cid:105) be an ∈-tower of countable elementary
β 1
submodelsofalargestructurecontainingB,τ aselements. Foreachβ ∈ω use
1
the contradictory assumption to find a function g : M ∩α → 2 in the model
β β
M such that some condition below B forces τ (cid:22) M = gˇ . Let B ⊂ B be
β+1 β β β
the Borel set representing the nonzero Boolean value of the latter statement;
B ∈M holds by elementarity of the model M , but also B ∈/ M since
β β+1 β+1 β β
τ is forced not to belong to the ground model. Use a counting argument and
the Lebesgue density theorem to find a basic open set O ⊂ X such that the
set C = {β ∈ ω : µ(B ∩O) > 1µ(O)} is uncountable. Since the conditions
1 β 2
{B : β ∈C} are pairwise compatible, the functions {g : β ∈C} must form an
β β
increasingchain,soinfacttheconditions{B : β ∈C}formastrictlydecreasing
β
chain in P . This contradicts the countable chain condition of P .
µ µ
Strengthening the condition (cid:104)U,C(cid:105) if necessary, we may find a continuous func-
tionf: C →2ω andanameτ inthecompleteBooleanalgebrageneratedbythe
name for γ˙ ·x˙ such that the fibers of f are µ-null and (cid:104)U,C(cid:105)(cid:13)f˙(x˙ )=
gen gen gen
τ/γ˙ ·x˙ . Let M be a countable elementary submodel of a large structure
gen gen
containing f,τ in particular, and let C(cid:48) ⊂C be a set of points P -generic over
µ
the model M. The set C(cid:48) is Borel and µ-positive. Find open subsets V,U(cid:48) of
Γ such that 1 ∈ V, U(cid:48) ⊂ U, and U(cid:48) ·V ⊂ U. Use Proposition 3.6.5 to find a
V-connected compact µ-positive subset D ⊂C(cid:48).
Since the fibers of f are µ-null, there must be points x ,x ∈ D such that
0 1
f(x ) (cid:54)= f(x ). Find a number n ∈ ω such that f(x )(n) (cid:54)= f(x )(n). Let
0 1 0 1
O = {x ∈ D: f(x)(n) = f(x )(n)} and O = {x ∈ D: f(x)(n) = f(x )(n)}.
0 0 1 1
These are complementary relatively open subsets of the compact set D, so they
are separated by some distance δ > 0. Use the connectedness of the set D to
produce a V,δ-walk from x to x . There must be successive points x(cid:48), x(cid:48) on
0 1 0 1
the walk such that f(x(cid:48))(n) (cid:54)= f(x(cid:48))(n). The two points are at a distance > δ
0 1
bythechoiceofδ,sotheremustbeagroupelementβ ∈V suchthatβ·x(cid:48) =x(cid:48).
0 1

3.6. A VARIATION FOR MEASURE 101
By the Baire category theorem, there must be an element γ ∈ U(cid:48) which
belongs to no meager subset of Γ coded in the model V[x(cid:48)] and also to no right
1
β−1-shift of any meager subset of Γ coded in the model V[x(cid:48)]. As a result, the
0
pointγ isP -genericoverV[x(cid:48)]andthepointγ·β isP -genericoverthemodel
Γ 1 Γ
V[x(cid:48)]. BothofthesepointsbelongtothesetU. Bytheproductforcingtheorem,
0
the pairs (cid:104)γβ,x(cid:48)(cid:105) and (cid:104)γ,x(cid:48)(cid:105) are both P × P -generic over the model M,
0 1 Γ µ
meeting the condition (cid:104)U,C(cid:105). However, f(x(cid:48)) (cid:54)= f(x(cid:48)) while τ/γβx(cid:48) = τ/γx(cid:48),
0 1 0 1
violating the forcing theorem in view of the initial contradictory assumption.
Theorem 3.6.2 follows!
The main corollaries are encapsulated in the following ergodicity result.
Corollary 3.6.10. Suppose that Γ is a Polish group acting on a Polish space X
with a Borel probability measure µ and an ultrametric d in a measure preserving
and distance preserving fashion. Suppose that the action has concentration of
measure. Suppose that E is the orbit equivalence relation, Y is a Polish space,
F on Y is an analytic virtually placid equivalence relation, and h: X →Y is a
Borel homomorphism from X to Y. Then there is an F-equivalence class with
µ-positive h-preimage.
Proof. Let γ ∈ Γ and x ∈ X be mutually P -generic and P -generic points,
Γ µ
and look at the models V[x] and V[γ·x]. Since h is a homomorphism of E to
F and x E γ ·x, h(x) F h(γ ·x) must hold. Since F is virtually placid and
V[x]∩V[γ·x]=V holds per Theorem 3.6.2, there must be a virtual F-class in
thegroundmodelsuchthath(x)andh(γ·x)realizeit. SincetheposetP ×P
Γ µ
isc.c.c.,Theorem2.6.2showsthatallvirtualclassesrealizedinitsextensionare
in fact repreented in the ground model. Thus, there is a ground model element
y ∈Y such that h(x)F y holds. Since x is a P -generic point, it belongs to no
µ
analyticgroundmodelcodedµ-smallsets. Thus,µ(h−1[y] )>0asdesired.
F
Examplesofactionswithconcentrationofmeasurearenoteasytoidentify. The
following examples use F P-ideals I on ω (which are Polish groups with the
σ
symmetric difference operation and a suitable topology by a result of Solecki
[85]) and their standard action on 2ω (a·x = y just in case {n ∈ ω: x(n) (cid:54)=
y(n)} = a}), inducing the equivalence relation = . The action preserves the
I
usualBorelprobabilitymeasureµon2ω andalsotheusualminimumdifference
metric d on 2ω.
Example 3.6.11. Let {a : n∈ω} be positive real numbers such that Σ a is
n n n
infinitewhileΣ a2 isfinite. LetI betheidealofallsetsb⊂ωsuchthatΣ a
n n n∈b n
isfinite. OnecanviewI asaPolishgroupΓwiththecompletemetrice(γ,δ)=
Σ{a : γ(n)(cid:54)=δ(n)},continuouslyactingonthespaceX =2ω bycoordinatewise
n
Boolean addition. The action exhibits the concentration of measure.
To see this, let U be a neighborhood of the unit in Γ, and ε > 0 be a real
number. Findarealnumberη >0suchthattheη-ballinthemetricearoundthe
unitisasubsetofU,andfindanumberm∈ωsuchthat2exp(−η2/8Σ∞ a2)<
n=m n
ε. The concentration of measure formula in [73, Theorem 4.3.19] then shows
that δ =2−m works as required in Definition 3.6.1.

102 CHAPTER 3. TURBULENCE
Corollary 3.6.12. Let I be the usual summable ideal on ω. Let h: 2ω →X be
a Borel homomorphism of = to a virtually placid analytic equivalence relation
I
F on a Polish space X. Then there is an F-class whose h-preimage has full
µ-mass.
Proof. ByCorollary3.6.10,thereisanF-classwhoseh-preimagehaspositiveµ-
mass. However, the h-preimage is an = -invariant set, the equivalence relation
I
= includes E as a subset, and by the usual E -ergodicity considerations, the
I 0 0
h-preimage must in fact have full µ-mass.
Theconcentrationofmeasureforactionsfailsinmanycases. Typically,thereis
ahomomorphismoftheorbitequivalencerelationwhichviolatestheconclusion
of Corollary 3.6.10 and therefore witnesses the failure of the concentration of
measure in a strong sense.
Example 3.6.13. There is a summable-type ideal I on ω and a Borel homo-
morphismh: 2ω →2ω of= toE suchthatpreimagesofE -equivalenceclasses
I 0 0
are µ-null.
Proof. The key tool is the following:
Claim 3.6.14. For every i ∈ ω and every ε > 0 there is a number n ∈ ω and
sets a,b ⊂ 2n of the same relative size > 1−ε each, such that for every x ∈ a
2
and y ∈b the set {m∈n: x(m)(cid:54)=y(m)} contains at least i many elements.
Proof. Fix i and ε. Stirling’s approximation formula shows that there is n∈ω
such that the size of the set {a ⊂ n : ||a|− n| < i+1} is less than ε2n. Let
2
a={x∈2n :theset{m∈n: x(m)=1}containsatmost n−imanyelements}
2
and b = {x ∈ 2n : the set {m ∈ n: x(m) = 1} contains at least n +1 many
2
elements}. This works.
(cid:83)
Towards the proof of the example, find a partition ω = I into finite sets
n n
such that for every n ∈ ω, the set 2In contains subsets a
n
,b
n
of the same size
such that their relative size in 2In is greater than 1/2−2−n, and if x∈a
n
and
y ∈ b are arbitrary elements, then the set {i ∈ I : x(n) (cid:54)= y(n)} has size at
n n
least n. Now, define w(m)= 1 if m∈I and I ={a⊂ω: Σ w(n)<∞}.
n+1 n n∈a
Define B ={x∈2ω: ∀∞n x(cid:22)n∈a ∪b }; this is a Borel set of full mass. For
n n
x ∈ B, define h (x) ∈ 2ω by h (x)(n) = 0 ↔ x (cid:22) I ∈ a . It is not difficult to
0 0 n n
check that h : B →2ω is a continuous homomorphism from B to E such that
0 0
preimages of E -classes are of zero mass. The rest of the proof only adjusts h
0 0
to a Borel homomorphism h defined on the whole space.
To this end, let C for n ∈ ω be inclusion increasing compact subsets of B
n
(cid:83)
whose mass converges to 1. The set C is K and the equivalence relation
n n σ
= isK ,sothesaturationD =[ (cid:83) C ] isK aswell. LetF ⊂D×2ω bethe
I σ n n =I σ
Borel set of all pairs (cid:104)x,y(cid:105) such that for some (equivalently, for all) x(cid:48) ∈B such
thatx(cid:48) = x,h (x(cid:48))isE -relatedtoy. F isaBorelsetwithnonemptycountable
I 0 0
sections, and by the Lusin–Novikov theorem, it has a Borel uniformization h.
Extendhtoallof2ω bydefiningh(x)forx∈/ Dtobeanarbitraryfixedelement
of 2ω. It is not difficult to check that h has the required properties.

3.6. A VARIATION FOR MEASURE 103
Example 3.6.15. There is a Tsirelson-type [27] ideal I on ω and a Borel
homomorphism h: B → 2ω of = to E such that preimages of E -equivalence
I 0 0
classes are µ-null.
Proof. We will deal with a certain special kind of Tsirelson submeasures. Let
α > 0 be a real number and f: ω → R+ be a nonincreasing function con-
verging to 0. By induction on n ∈ ω define submeasures ν on ω by setting
n
(cid:80)
ν (a)=sup f(i),andν (a)=sup{ν (a),α ν (b)}wherethevariable
0 i∈a n+1 n b∈(cid:126)b n
(cid:126)b ranges over all finite sequences (cid:104)b ,b ,...b (cid:105) of finite subsets of a such that
0 1 j
j < min(b ) ≤ max(b ) < min(b ) ≤ max(b ) < .... In the end, let the sub-
0 0 1 1
measure ν be the supremum of ν for n∈ω. Some computations are necessary
n
to verify that ν is really a lower semicontinuous submeasure on ω [27]. The
Tsirelson ideal I = {a ⊂ ω: lim ν(a\m) = 0} turns out to be an F P-ideal
m σ
[27].
Byinductiononi∈ωchooseintervalsI ⊂ωsuchthatmax(I )<min(I )
i i i+1
and such that min(I
i
)>i/α and there are sets a
i
,b
i
⊂2Ii of the same relative
size ≥ 1−2−i such that for any elements x∈a ,y ∈b the set {m∈I : x(m)(cid:54)=
2 i i i
y(m)} has size at least i/α. This is easily possible by Claim 3.6.14. Now,
consider the function f defined by f(m) = 1/i for m ∈ (max(I ),max(I )]
i−1 i
and let ν be the derived submeasure and I the derived Tsirelson ideal. Observe
thatwiththischoiceofthefunctionf, foranyi∈ω andelementsx∈a ,y ∈b
i i
the set {m ∈ I : x(m) (cid:54)= y(m)} has ν-mass at least 1, since it has ν -mass at
i 1
least 1. The rest of the proof follows the lines of Example 3.6.13.
Example 3.6.16. Let J be the Rado graph ideal on ω. There is a Borel
homomorphism h: 2ω → 2ω from = to E such that preimages of E -classes
J 0 0
are µ-null.
Proof. Let G be the Rado graph, interpreted so that ω is the set of its vertices;
then J is the ideal on ω generated by J-cliques and J-anticliques. To construct
h, by induction on n ∈ ω find pairwise disjoint finite sets I ⊂ ω and sets
n
a
n
,b
n
⊂2In such that
• each I is a G-anticlique;
n
• if n(cid:54)=m then I ×I ⊂G;
n m
• for every x∈a and every y ∈b the set {t∈I : x(t)(cid:54)=y(t)} has size at
n n n
least n;
• the sets a
n
,b
n
⊂2In have the same relative size larger than 1/2−2−n.
This is easy to do using the universality properties of the Rado graph and
Claim 3.6.14 repeatedly. Let B = {x ∈ 2ω: ∀∞n x (cid:22) I ∈ a ∪ b } and
n n n
let h : B → 2ω be the Borel map defined by h (x) = 0 ↔ x (cid:22) I ∈ a . It is
0 0 n n
immediatethatthesetB hasfullµ-massandthefunctionhisahomomorphism
from = to E . The rest of the proof follows the lines of Example 3.6.13.
J 0

104 CHAPTER 3. TURBULENCE
There are numerous questions left open by the development of this section, of
which we quote two.
Question 3.6.17. Can the assumption that d be an ultrametric be eliminated
from the assumptions of Theorem 3.6.2?
Question3.6.18. IsthereaTsirelsonidealwhosenaturalactionon2ω exhibits
concentration of measure?

Chapter 4
Nested sequences of models
4.1 Prologue
The purpose of this chapter is to set up a calculus for infinite nested sequences
of models of ZFC, which turn out to be critical for the treatment of the E
1
cardinal. As a motivation, we include a simple proof of the fact that E is not
1
Borel reducible to any orbit equivalence relation. It is quite different from the
standardone[48,Theorem11.8.1],andithastheadvantagethatitcanbeeasily
adapted to the context of inequalities between cardinalities of quotient spaces.
Theorem 4.1.1. E is not Borel reducible to any orbit equivalence relation.
1
Proof. Let Y be the Polish space (2ω)ω and Γ be a Polish group continuously
acting on a Polish space Z, inducing the orbit equivalence relation F. Suppose
towards a contradiction that there is a Borel reduction h: Y → Z of E to F.
1
Let(cid:104)x : n∈ω(cid:105)beasequenceofmutuallyCohengenericpointsin2ω. Foreach
n
n∈ω let y denote the element of Y for which y(m) is the zero sequence in 2ω
n
if m<n, and x if m≥n; write M =V[y ].
m n n
Work in the model M . The reinterpretation of the Borel map h in M is
0 0
still a reduction of E to F. For each number n>0 fix a group element γ ∈Γ
1 n
suchthatγ ·h(y )=h(y ). Letγ ∈ΓbeapointCohen-genericoverV[y ]and
n n 0 0
look into the model V[γ·h(y )]. By a Mostowski absoluteness argument, there
0
must be a point y ∈ V[γ·h(y )] such that h(y) F γ·h(y ). Since the function
0 0
h is a reduction of E to F even in the model M [γ], this point y ∈ Y must
1 0
be E -related to y , so for all but finitely many numbers n it must be the case
1 0
that y(n) = x . Choose a number n ∈ ω such that y(n) = x and look at the
n n
model M . The point γγ ∈Γ is Cohen generic over M by the invariance
n+1 n+1 0
of the meager ideal under right shift, and by the product forcing theorem it
follows that the models M and M [γγ ] are mutually generic over the
0 n+1 n+1
model M . Now, the points y and γγ ·h(y ) = γ·h(y ) belong to
n+1 n+1 n+1 n+1 0
the model M [γγ ] and so does y. Thus, even the point y(n) = x ∈ 2ω
n+1 n+1 n
belongs to this model; however, it is a point of M Cohen generic over M .
0 n+1
This contradicts the product forcing theorem.
105

106 CHAPTER 4. NESTED SEQUENCES OF MODELS
4.2 Coherent sequences of models
It is clear from the proof of Theorem 4.1.1 that its generalizations will require
codification of decreasing ω-sequences of generic extensions. In addition to the
approachfromTheorem4.1.1, wepaycloseattentiontotheintersectionmodel.
This is the content of the following definitions and theorems.
Definition 4.2.1. Let (cid:104)M : n ∈ ω(cid:105) be an inclusion decreasing sequence of
n
transitive models of ZFC. We say that the sequence is coherent if for every
ordinalλandeverynaturalnumbern, thesequence(cid:104)V ∩M : m≥n(cid:105)belongs
λ m
to M . Given a coherent sequence of models (cid:104)M : n∈ω(cid:105), a sequence (cid:104)v : n∈
n n n
ω(cid:105) is coherent if for every number m∈ω, (cid:104)v : n≥m(cid:105)∈M holds.
n m
Example 4.2.2. Let R for m ∈ ω be any partial orders and let (cid:104)G : m ∈
m m
ω(cid:105) be a sequence of generic filters on the respective posets R added by the
m
(cid:81)
countable supportproduct R . Let M =V[G : m≥n]. Then (cid:104)M : n∈
m m n m n
ω(cid:105) is a coherent sequence of models.
Example 4.2.3. Let x be a set. By recursion on n ∈ ω, define models M
n
by letting M be V and each M be the collection of all sets hereditarily
0 n+1
definable from ordinal parameters and the parameter x∩M in the model M .
n n
The sequence (cid:104)M : n∈ω(cid:105) is coherent.
n
Example 4.2.4. Let κ be a measurable cardinal, U a measure on it, and
j: V → M the U-ultrapower, with iterands denoted by j for every ordinal α.
α
For each n∈ω let M =j (V). The sequence (cid:104)M : n∈ω(cid:105) is coherent.
n n n
Mostofourchoice-coherentsequencesaresequencesofgenericextensionsinthe
following sense:
Definition 4.2.5. A sequence (cid:104)M : n ∈ ω(cid:105) is generic over V if V is a model
n
of ZFC contained in all M for n∈ω and M is a generic extension of M.
n 0
The usual abstract forcing arguments (Fact 1.7.6) show that if the sequence of
models is generic over V then all models M are generic extensions of V and if
n
n∈m are numbers then M is a generic extension of M . Coherent sequences
n m
of models are most often formed as generic extensions of the constant sequence
(cid:104)M =V : n∈ω(cid:105) using the following definitions and theorem.
n
Definition 4.2.6. Let P,Q be posets. A projection of Q to P is a pair of
order-preserving functions π: Q→P and ξ: P →Q such that
1. π◦ξ is the identity on P;
2. whenever π(q)≤p then q ≤ξ(p);
3. whenever p≤π(q) then there is q(cid:48) ≤q such that π(q(cid:48))≤p.
As the simplest initial example, let P,R be any posets, let R have a largest
element 1 and let Q = P ×R. Then one can consider the projection of Q to
R
P by setting π(p,r)=p and ξ(p)=(cid:104)p,1 (cid:105). An important effect of the demand
R
(3) is that the π-image of the generic filter on Q is a generic filter on P.

4.2. COHERENT SEQUENCES OF MODELS 107
Definition 4.2.7. Let (cid:104)M : n∈ω(cid:105) be a coherent sequence of models of ZFC.
n
A coherent sequence of posets is a sequence (cid:104)P ,π ,ξ : n ≤ m ∈ ω(cid:105) such
n nm mn
that
1. For all numbers n ≤ m the maps π : P → P and ξ : P → P
nm n m mn m n
form a projection of P to P ;
n m
2. the functions π form a commutative system, the same for ξ , and for
nm mn
all n∈ω the functions π ,ξ are the identity on P ;
nn nn n
3. for every number k ∈ ω, the sequence (cid:104)P ,π ,ξ : k ≤ n ≤ m ∈ ω(cid:105)
n nm mn
belongs to the model M .
k
In particular, every commutative sequence of projections is coherent over the
constant coherent sequence (cid:104)M =V : n∈ω(cid:105). As the simplest initial example,
n
let (cid:104)R : n ∈ ω(cid:105) be a sequence of posets with respective largest elements 1 ,
n n
let P be the finite (or countable) support product of R for m ≥ n, and
n m
let π (p) = p (cid:22) [m,ω) and ξ (p) = (cid:104)1 : k ∈ [n,m)(cid:105)(cid:97)p. The sequence
nm nm k
(cid:104)P ,π ,ξ : n≤m∈ω(cid:105) is coherent over (cid:104)M =V : n∈ω(cid:105).
n nm mn n
Theorem 4.2.8. Let (cid:104)M : n ∈ ω(cid:105) be a coherent sequence of models of ZFC
n
and (cid:104)P ,π : P → P ,ξ : P → P : n ≤ m ∈ ω(cid:105) be a coherent sequence
n nm n m mn m n
of posets. Let G ⊂ P be a filter generic over M , and for each n ∈ ω let
0 0
G = ξ−1G. The sequence (cid:104)M [G ]: n ∈ ω(cid:105) is a coherent sequence of models
n n0 n n
of ZFC again.
Proof. Observe that for every number k ∈ ω, in the model M [G ], one can
k k
form the sequence (cid:104)G : n≥k(cid:105) as (cid:104)ξ−1G : n≥k(cid:105) by the commutativity of the
n nk k
ξ-maps. Thus,ifλisalimitordinallargerthantherankofalltheposetsonthe
coherent sequence, one can form the relation {(cid:104)n,x(cid:105): n ≥ k,x ∈ M [G ] has
n n
rank<λ}inthemodelM [G ]astheset{(cid:104)n,τ/G (cid:105): n≥kandτ ∈M isaP -
k k n n n
name of rank <λ} by the coherence of the original sequence (cid:104)M : n∈ω(cid:105).
n
The critical object for understanding a coherent sequence of models is the in-
(cid:84)
tersection model M = M . In Example 4.2.2, the intersection model is a
ω n n
model of ZFC, and it has been discussed in [49, Theorem 9.3.4]; we will come
back to it below–Theorem 4.3.5. In the context of general coherent sequences,
the intersection model is a transitive model of ZF, and the Axiom of Choice
may fail in it. This is the content of the following theorem and example.
Theorem 4.2.9. If (cid:104)M : n ∈ ω(cid:105) is a coherent sequence of generic extensions
n
(cid:84)
of V, then M = M is a class in all models M , and it is a model of ZF.
ω n n n
Proof. We will only show that M is a class in M ; it then follows by the same
ω 0
argumentthatM isaclassineachM forn∈ω. ToshowthatM isamodel
ω n ω
ofZF, by [45, Theorem 13. 9], itis enoughtoshowthat M is closedunderthe
ω
G¨odeloperationsanditisuniversal: foreveryseta⊂M thereisasetb∈M
ω ω
such that a ⊂ b. The closure under the G¨odel operations follows from the fact
thattheseoperationsareevaluatedinthesamewayineachmodelM . Forthe
n

108 CHAPTER 4. NESTED SEQUENCES OF MODELS
universality, suppose that a ⊂ M is a set, choose an ordinal α such that all
ω
sets in a have rank smaller than α, and form the set b = V ∩M . Since M
α ω ω
is a class in each model M , the set b is in all models M and therefore in M .
n n ω
Clearly, a⊂b, concluding the proof of universality.
To show that M is a class in M , let λ be a large limit cardinal in V so
ω 0
that M is a generic extension of V by a poset in V , and such that V satisfies
0 λ λ
a large fragment of ZFC. Note that then, all the models M are also obtained
n
from V as generic extensions by posets in V . Move to the model M . Let f be
λ 0
the function from ω to M ∩V such that f(n)={(cid:104)P,G(cid:105): P ∈V ∩V , G∈M
0 λ λ n
is a filter on P generic over V, and whenever (cid:104)Q,H(cid:105) is a pair consisting of a
poset in V ∩V and a filter on Q in M generic over V, there is a P-name σ
λ n
in V such that σ/G = H}. The coherence of the sequence (cid:104)M : n ∈ ω(cid:105) shows
n
that the function f can be formed in M . Then, M is exactly the collection
0 ω
of all sets x such that for every n ∈ ω and every pair (cid:104)P,G(cid:105) ∈ f(n), x ∈ V[G].
Since V is a class in M , this shows that M is a class in M as well.
0 ω 0
Example 4.2.10. Let κ be a measurable cardinal, with a normal measure
U on κ and the associated ultrapower j: V → M. Let j : M → M
nm n m
(cid:84)
be the iterands of j for n ≤ m ≤ ω. Then M = M [c] holds where
n∈ω n ω
c = (cid:104)j (κ): n ∈ ω(cid:105) [20, 15]. It is well-known and follows from the geometric
0n
description of Prikry genericity by Mathias [69] that the set c is generic over
the model M for the Prikry forcing associated with the measure j U.
ω 0ω
Example 4.2.11. Let c : ω ×ω → 2 be a Cohen-generic map, and let c =
0 1 n
c (cid:22) ω ×(ω\n). Let M = V[c ]. In the model M = (cid:84) M , the chromatic
0 1 n n ω n n
number of G is greater than 2; thus, the Axiom of Choice must fail in M .
0 ω
Proof. Work in V. For each number n ∈ ω, let P be the poset of all finite
n
functions from ω ×(ω\n) to 2 ordered by extension. Note that for each n∈ω
1
the map c is P -generic over V. For each ordinal α∈ω and a number n∈ω,
n n 1
let d˙ be a name for the function defined by letting d (m) be 0 if m∈n and
αn αn
theuniquevalueofp(α,m)forallconditionspinthegenericfilterwiththepair
(α,m) in their domain if m ≥ n. Note that d is really a P -name and it is
αn n
forced to belong to the intersection model M .
ω
Now,letp∈P beaconditionandσ beanamesuchthatp(cid:13)σ: 2ω →2isa
functioninM ; wewillfindanordinalα∈ω ,anumbern∈ω andacondition
ω 1
strengthening p which forces d˙ and d˙ to differ in an even number of entries
α0 αn
if and only if σ(d˙ )(cid:54)=σ(d˙ ). This cannot occur if σ is a coloring of G .
α0 αn 0
By a standard ∆-system argument, strengthening p if necessary, we may
find an infinite set S ⊂ ω , conditions p ∈ P for α ∈ S and a number n ∈ ω
1 α
such that the conditions p for α∈S form a ∆-system with root p, dom(p )⊂
α α
ω ×n−1, and each p decides the value of σ(d˙ ) to be some bit b ∈ 2.
1 α α0 α
Find a condition q ≤ p and a P -name τ such that q (cid:13) σ = τ; this is possible
n
as σ is forced to belong to M . Since the set S is infinite, it is possible to
ω
find an ordinal α ∈ S such that p is compatible with q. Find a condition
α
r ∈ P such that r ≤ q (cid:22) ω ×(ω\n) and r decides the value of τ(d˙ ) to be
n 1 αn
some specific bit b ∈ 2. Note that p and r are compatible in P, and the pair
α

4.3. CHOICE-COHERENT SEQUENCES OF MODELS 109
(cid:104)α,n−1(cid:105)doesnotbelongtodom(p ∪r). Thus, itispossibletostrengthenthe
α
condition p ∪r to some s∈P such that {α}×n⊂dom(s), and cardinality of
α
the set {m ∈ n: s(α,m) = 1} is even if and only if b (cid:54)= b. This completes the
α
proof.
4.3 Choice-coherent sequences of models
Inmostofourexamples,wewillwanttolookatsequencesofmodelswhichhave
a greater degree of coherence. Certain constructions arising from the axiom of
choice will have to be performed in a coherent way. The following definition
records the demands:
Definition 4.3.1. Let (cid:104)M : n ∈ ω(cid:105) be an inclusion decreasing sequence of
n
transitive models of ZFC. We say that the sequence is choice-coherent if it is
coherent and for every ordinal λ there is a well-ordering ≤ of V ∩M such
λ λ 0
that its intersection with each model M belongs to M .
n n
In the common case of generic coherent sequences, the choice-coherence can be
detected from the theory of the intersection model as follows:
Theorem 4.3.2. Suppsoe that (cid:104)M : n ∈ ω(cid:105) is a generic coherent sequence of
n
generic extensions of V. The following are equivalent:
1. (cid:104)M : n∈ω(cid:105) is choice-coherent;
n
(cid:84)
2. M = M is a model of ZFC.
ω n n
Proof. For the (1)→(2) direction, assume the choice coherence. Let λ be any
ordinal. In view of Theorem 4.2.9, we only need to produce a well-ordering
≤∗ of V ∩M such that ≤∈ M . Fix a wellordering ≤ witnessing the fact
λ ω ω
that (cid:104)M : n ∈ ω(cid:105) is a choice-coherent decreasing sequence, and note that
n
≤∗=≤ ∩M works as desired. The genericity assumption is not needed for
ω
this direction.
Forthe(2)→(1)direction,thatM isamodelofZFC.Letλbeanyordinal.
ω
Letκ>λbeacardinalsuchthateachmodelM isagenericextensionofV by
n
a poset of cardinality smaller than λ. Let ≺ be a well-ordering of V in V. By
κ
recursion on n∈ω build a sequence (cid:104)P ,G ,τ : n∈ω(cid:105) such that P is ≺-least
n n n n
poset in V ∩V such that M is P -generic extension of V, G ⊂P is a filter
κ n n n n
generic over V such that M = V[G ], τ is the ≺-least P -name in V such
n n n n
that τ /G ⊂P is a filter generic over V such that M =V[τ /G ], and
n n n+1 n+1 n n
G =τ /G . It is not difficult to see that the tail (cid:104)P ,G ,τ : n≥m(cid:105) of the
n+1 n n n n n
sequence can be recovered from G , and therefore the sequence is coherent.
m
Now,let≤ bethefollowingwell-orderingofV ∩M : firstcometheelements
λ λ 0
of V ∩ M , then the elements of V ∩ M \ M , and then the elements of
λ ω λ 0 1
V ∩M \M in turn. The elements of V ∩M are ordered by some well-
λ n n+1 λ ω
ordering in M which is available as M is a model of ZFC. The elements of
ω ω
M \M are ordered by σ /G where σ is the ≺-least name in V ∩V such
n n+1 n n n κ

110 CHAPTER 4. NESTED SEQUENCES OF MODELS
that σ /G is a well-ordering of V ∩M . It is not difficult to see that ≤ is a
n n λ n λ
well-ordering of V ∩M and ≤ ∩M ∈M holds for all n∈ω.
λ 0 λ n n
Most examples of choice-coherent sequences are generic and obtained from the
trivial one (cid:104)M = V : n ∈ ω(cid:105) by a coherent forcing which satisfies a certain
n
degree of completeness.
Definition 4.3.3. Let (cid:104)P ,π ,ξ : n≤m∈ω(cid:105) be a commutative system of
n nm mn
projections from posets P to P for n≤m.
n m
1. The diagonal game is the following infinite game between Players I and
II, in round n Player I plays p ∈P and Player II responds by q ≤p .
n n n n
Additionally, p ≤ π (q ). In the end, Player II wins if there is a
n+1 nn+1 n
condition r ∈P such that π (r)≤q holds for all n∈ω.
0 0n n
2. Thesequenceisdiagonally distributive ifPlayerIhasnowinningstrategy
in the diagonal game.
Example 4.3.4. Suppose that (cid:104)Q : m ∈ ω(cid:105) are arbitrary posets, and let
m
(cid:81)
P = Q be the countable support product with the natural projection
n m≥n m
maps from P to P for n≤m. Player II has a simple winning strategy in the
n m
diagonal game in this setup: set q =p .
n n
Theorem 4.3.5. Let (cid:104)M : n ∈ ω(cid:105) be a choice-coherent sequence of models of
n
ZFC. Let (cid:104)P ,π ,ξ : n ≤ m ∈ ω(cid:105) be a coherent sequence of posets which is
n nm mn
diagonally distributive in M . Let G ⊂ P be a filter generic over M , and let
0 0 0
G =ξ−1G. Then
n n0
1. the sequence (cid:104)M [G ]: n∈ω(cid:105) is choice-coherent;
n n
(cid:84) (cid:84)
2. the models M and M [G ] contain the same ω-sequences of ordi-
n n n n n
nals.
(cid:84)
Proof. Write M = M . We start with (1). The main task is to find a
ω n n
(cid:84)
poset P ∈M and a filter G ⊂P generic over M such that M [G ]=
ω ω ω ω ω n n n
M [G ].
ω ω
Using the choice coherence of the original sequence (cid:104)M : n ∈ ω(cid:105), we may
n
assume that there is a sequence (cid:104)α : n ∈ ω(cid:105) such that the underlying set
n
of each poset P is exactly α . For each condition p ∈ P , the ordinal ω-
n n 0
sequence (cid:104)π (p): n ∈ ω(cid:105) belongs to M , since for each number k ∈ ω, the
0n ω
tail (cid:104)π (p): n≥k(cid:105) is reconstructed as (cid:104)π (π (p)): n≥k(cid:105) in the model M .
0n kn 0k k
(cid:81)
Similarly, the set P ={q ∈ P : ∃k ∈ω ∀n≥k q(n)=π (q(k))} belongs
ω n n kn
to the model M . For elements q ,q ∈ P let q ≤ q if for all but finitely
ω 0 1 ω 1 0
many numbers n ∈ ω, q (n) ≤ q (n) in the poset P , and conclude that the
1 0 n
poset (cid:104)P ,≤(cid:105) belongs to the model M .
ω ω
Define a function π : P → P by π (p) = q where q(n) = π (p), and a
0ω 0 ω 0ω 0n
function ξ : P → P by ξ (q) = ξ (q(k)) where k ∈ ω is such that for all
ω0 ω 0 ω0 k0
n ≥ k, π (q(k)) = q(n). One can also similarly define maps π : P → P
kn nω n ω

4.3. CHOICE-COHERENT SEQUENCES OF MODELS 111
and ξ : P → P . It is a matter of trivial diagram chasing to show that the
ωn ω n
maps form a commuting system of projections from P to P and moreover
n ω
π ,ξ ∈ M . Thus, letting G = ξ−1G , one can conclude that G ⊂ P
nω ωn n ω ω0 0 ω ω
(cid:84)
is a filter generic over M and therefore over M . Also G ∈ M [G ]
0 ω ω n n n
since G can be reconstructed in M [G ] as G = ξ−1G . In conclusion,
ω n n ω ωn n
(cid:84)
G ∈ M [G ].
ω n n n
(cid:84)
Finally, we have to prove that every element of the intersection M [G ]
n n n
belongs to M [G ]. This is where the diagonal distributivity of the original
ω ω
poset sequence is used. Suppose that τ ∈M is a P -name for a set of ordinals
0 0
(cid:84)
and p∈P is a condition forcing τ ∈ M [G ]; we must produce a condition
0 n n n
p(cid:48) ≤p and a P -name τ ∈M such that p(cid:48) (cid:13)τ =τ /G . Consider a strategy
ω ω ω ω ω
byPlayerIinthediagonalizationgameinwhichheplaysp sothatp ≤p,τ =
n 0 0
τ, and there is a P -name τ ∈ M such that p (cid:13) τ = τ /G .
n+1 n+1 n+1 n Pn n n+1 n+1
This is possible by the assumption on the name τ. By the diagonalization
assumption, Player II has a counterplay with conditions q ≤ p such that
n n
there is a condition p(cid:48) ≤ p for which π (p) ≤ q for all n ∈ ω. Let τ be the
0n n ω
P (cid:22) π (p(cid:48))-name defined by q (cid:13) αˇ ∈ τ just in case ξ (q) (cid:13) αˇ ∈ τ. The
ω 0ω ω ω0 P0
name τ can be reconstructed in every model M by the definition q (cid:13)αˇ ∈τ
ω n ω
just in case ξ (q)(cid:13) αˇ ∈τ by the choice of the strategy for Player I in the
ωn Pn n
diagonalizationgame. Asaresult,τ ∈M . Itisimmediatefromthedefinition
ω ω
of τ that p(cid:48) (cid:13)τ =τ /G as desired.
ω ω ω
Now we are ready to construct the requisite well-orderings verifying the
choice-coherence of the models (cid:104)M [G ]: n ∈ ω(cid:105). Let λ be an ordinal larger
n n
than the ranks of all the posets P for n ∈ ω. Let ≤ be a coherent well-
n
ordering of V ∩M . We will now describe a coherent well-ordering ≤(cid:48) of sets
λ 0
of rank < λ in the model M [G ]. In this well-ordering, the sets in M [G ]
0 0 ω ω
come first, ordered by some well-ordering in the model M [G ]. The sets in
ω ω
M [G ]\M [G ]comenext, well-orderedbytheir≤-firstP -nameinthemodel
0 0 1 1 0
M representing them. The sets in M [G ]\M [G ] come next with a similar
0 1 1 2 2
well-order, and so on. The coherence of the resulting well-ordering ≤(cid:48) is due to
the fact that for each k ∈ ω, the sequence (cid:104)G : n ≥ k(cid:105) belongs to the model
n
M [G ].
k k
(2) is much easier. Suppose that τ ∈ M is a P -name for an ω-sequence
0 0
of ordinals in the model M [G ] and p ∈ P is a condition; we must find a
ω ω 0
condition r ≤ p and an ω-sequence z ∈ M such that r (cid:13) τ = zˇ. Consider a
ω
strategy for Player I in the diagonal game in which he plays conditions p ∈P
n n
and on the side produces P -names τ ∈ M so that p ≤ p, τ = τ and
n n n 0 0
p (cid:13) τ =τ evaluatedbytheπ -imageofthegenericfilteronP , and
n Pn n n+1 nn+1 n
also p decides the value τ (n) to be some ordinal z(n). The assumptions on
n n
the name τ shows that this is a valid strategy. The initial assumptions on the
coherent sequence of posets show that this is not a winning strategy, so there
must be a play against it such that in the end there is a condition r ≤ p with
π (r) ≤ p for all n ∈ ω. Let τ ∈ M be the names produced during that
0n n n n
counterplay, and let z be the ω-sequence of ordinals obtained. The definitions
showthatforalln∈ω,π (r)(cid:13) τ =zˇ. Itfollowsthatz ∈M foralln∈ω,
0n Pn n n
and therefore r,z are as required in (2).

112 CHAPTER 4. NESTED SEQUENCES OF MODELS
The main feature of choice-coherent sequences of models we use later is the
following theorem connecting them with orbit equivalence relations:
Theorem 4.3.6. Let (cid:104)M : n ∈ ω(cid:105) be a generic choice-coherent sequence of
n
models. Let E be an orbit equivalence relation on a Polish space X with code in
(cid:84)
M = M . If a virtual E-class is represented in M for every n ∈ ω, then
ω n n n
it is represented in M .
ω
NotethatavirtualE-classisanequivalenceclassofE-pins. Thus,thetheorem
says that if there are pairwise equivalent E-pins (cid:104)P ,τ (cid:105) ∈ M for all n ∈ ω,
n n n
then there is an E-pin equivalent to them in the intersection model.
Proof. Let Γ be a Polish group continuously acting on the space X, inducing
the equivalence relation E. Let d be a compatible right-invariant metric on Γ.
Let (cid:104)P ,τ (cid:105) ∈ M be an E-pin which has an equivalent in the model M for
0 0 0 n
every n ∈ ω. Let λ be a cardinal so large that for each n ∈ ω, M is a generic
0
extension of M by a poset of size < λ, and M contains an E-pin on a poset
n n
of size <λ equivalent to the pin (cid:104)P ,τ (cid:105).
0 0
Let P be Cohen forcing on the Polish group Γ, with its name γ˙ for the
Γ gen
generic point. Let γ ∈ Γ be a Cohen-generic point, H ⊂ P be a generic filter
0
andK ⊂Coll(ω,λ)beagenericfilter,mutuallygenericoverM ;letx =τ /H.
0 0 0
In the model M [γ,H,K], form the model N as the class of all sets hereditarily
0
definable from γ ·x and parameters in M . The model N is an intermediate
0 ω
model of ZFC between M and M [γ,H], so by Fact 1.7.6, the model N is a
ω 0
forcingextensionofM . WewillarguethatN andM [H]aremutuallygeneric
ω 0
extensions of M .
ω
First note that this will prove the theorem. Let Q,τ ∈M be a poset and a
ω
nameandL⊂QbeafiltergenericoverthemodelM [H]suchthatM [L]=N
0 ω
and τ/L = γ ·x . By the forcing theorem in the model M , there have to be
0 0
conditions p∈H and q ∈L such that (cid:104)p,q(cid:105)(cid:13)τ E τ. It is immediate that τ as
0
a name on Q(cid:22)q is E-pinned, and the E-pin (cid:104)Q(cid:22)q,τ(cid:105) is equivalent to (cid:104)P ,τ (cid:105).
0 0
This confirms the conclusion of the theorem.
To argue that N and M [H] are mutually generic extensions of M , we use
0 ω
the criterion of Proposition 1.7.8. In other words, if a ∈ M [H] and b ∈ N are
0
disjoint subsets of some ordinal κ, we must find a set c ∈ M of ordinals such
ω
thata⊂candb∩c=0. Towardsthisend,movebacktothemodelM . Suppose
0
that O ⊂ Γ is a nonempty open set, p ∈ P is a condition, a˙ is a P -name for
0 0
a set of ordinals, and φ is a formula with parameters in M such that in the
ω
poset P ×P , (cid:104)O,p(cid:105) (cid:13) Coll(ω,λ) (cid:13) ∀β ∈ a˙ φ(β,γ˙ ·τ ) holds. Due to the
Γ 0 gen 0
definitionofthemodelN,itwillbeenoughtofindasetc∈M andacondition
ω
(cid:104)O(cid:48),p(cid:48)(cid:105)≤(cid:104)O,p(cid:105)whichforcesa˙ ⊂cˇandColl(ω,λ)(cid:13)∀β ∈cˇφ(β,γ˙ ·τ )holds.
gen 0
Finally, we are in a position to use some coherence arguments. Let ≺ be a
coherentwell-orderingofM ∩V ; i.e.suchthattherestrictionof≺toeachM
0 λ n
belongstoM . Wewillusetheorderingtoperformsomecoherentconstructions.
n
A typical construction of a coherent sequence (in the sense of Definition 4.2.1)
proceeds by induction on n ∈ ω. If (cid:104)v : n ∈ ω(cid:105) is coherent, w ∈ M , and φ is
n 0 0
some formula with parameters in M , one can select the ≺-least w ∈M
ω n+1 n+1

4.3. CHOICE-COHERENT SEQUENCES OF MODELS 113
such that M |= φ(v ,w ,w ) if it exists; then, the sequence (cid:104)w : n ∈ ω(cid:105) is
n n n n+1 n
coherent. The routine details of these constructions will be suppressed below.
Find a coherent sequence (cid:104)P ,τ : n ∈ ω(cid:105) of pairwise equivalent E-pins on
n n
posets in V starting with (cid:104)P ,τ (cid:105); i.e. for every number n ∈ ω it is the case
λ 0 0
that P ×P (cid:13)σ E σ . Find a coherent sequence (cid:104)γ˙ : n∈ω(cid:105) such that
n n+1 n n+1 n
for each n∈ω, γ˙ is a P ×P -name for an element of the group Γ such that
n n n+1
τ =γ˙ ·τ . Let D ⊂Γ be a fixed countable dense set in the model M , and
n n n+1 ω
letδ ∈D andε>0besuchthattheopend-ballB(δ ,ε)⊂Γisasubsetofthe
0 0
opensetO. Findacoherentsequence(cid:104)p ,δ : n∈ω(cid:105)suchthatp ≤p,p ∈P ,
n n 0 n n
δ ∈ D, and in the poset P ×P , (cid:104)p ,p (cid:105) (cid:13) d(δ ·γ˙ ,δ ) < ε·2−n−3.
n n n+1 n n+1 n n n+1
Let O =B(δ ,ε/2). The point of these definitions is the following claim:
n n
Claim 4.3.7. Let n > 0. The condition (cid:104)p : i ≤ n(cid:105) forces in the product
i
(cid:81)
P the following:
i≤n i
1. O ⊂B(δ ,ε)·γ˙ γ˙ ...γ˙ ;
n 0 0 1 n−1
2. B(δ ,ε/4)·γ˙ γ˙ ...γ˙ ⊂O .
0 0 1 n−1 n
Proof. Use the right invariance of the metric d to argue by induction on i ∈ n
that d(δ ,δ γ˙ γ˙ ...γ˙ ) is forced to be smaller than ε·Σ 2−j−3. In conclu-
i+1 0 0 1 i j≤i
sion, d(δ ,δ γ˙ γ˙ ...γ˙ )isforcedtobesmallerthanε/4. Thetwoitemsthen
n 0 0 1 n−1
follow immediately by the right invariance of the metric d again.
Now, for every number n∈ω, in the model M form the set c ={β ∈κ:
n n
in the poset P × P , (cid:104)O ,p (cid:105) (cid:13) Coll(ω,λ) (cid:13) φ(βˇ,γ˙ · τ )}. Finally, let
Γ n n n gen n
c = limsup c = {β ∈ κ: ∃∞n β ∈ c }. It is immediate that the sequence
n n n
(cid:104)c : n ∈ ω(cid:105) is coherent and therefore the set c belongs to the model M . Let
n ω
O(cid:48) =B(δ ,ε/4) and p(cid:48) =p . The following two claims stated in the model M
0 0 0
complete the proof of the theorem.
Claim 4.3.8. In the poset P , p(cid:48) (cid:13)a˙ ⊂cˇ.
0
Proof. Let p(cid:48)(cid:48) ≤ p(cid:48) be a condition and β ∈ κ an ordinal such that p(cid:48)(cid:48) (cid:13) βˇ∈ a˙.
It will be enough to show that for all n>0, β ∈c . To this end, fix a number
n
n > 0 and let (cid:104)H : i ≤ n(cid:105) be a tuple of filters on the respective posets P
i i
mutually generic over the model M such that p ∈ H and moreover p(cid:48)(cid:48) ∈ H .
0 i i 0
Write x =τ /H and γ =γ˙ /H ,H ; so x =γ γ ...γ x .
i i i i i i i+1 0 0 1 n−1 n
Let γ ∈ O be a point P -generic over the model M [H : i ≤ n]. Let
n Γ 0 i
γ(cid:48) =γγ−1 γ−1 ...γ−1. By the invariance of the meager ideal on Γ under right
n−1 n−2 0
translations, γ(cid:48) ∈Γ is a point Cohen generic over the model M [H : i≤n]. By
0 i
Claim 4.3.7(1), γ(cid:48) ∈B(δ ,ε)⊂O; moreover, γ·x =γ(cid:48)·x .
0 n 0
Let K ⊂ Coll(ω,λ) be a filter generic over the model M [H : i ≤ n][γ].
0 i
The model M [H : i ≤ n][γ][K] is a Coll(ω,λ)-extension of both M [γ(cid:48),H ]
0 i 0 0
and M [γ,H ] by the choice of λ and Fact 1.7.12. By the forcing theorem
n n
in the model M and the initial assumptions on the name a˙ and the formula
0
φ, M [H : i ≤ n][γ][K] |= φ(β,γ(cid:48) ·x ). By the forcing theorem in the model
0 i 0
M , the filter on P × P given by γ,H must contain a condition forcing
n Γ n n

114 CHAPTER 4. NESTED SEQUENCES OF MODELS
Coll(ω,λ) (cid:13) φ(βˇ,γ ·τ ). However, γ,H were arbitrary generics meeting the
n n
condition(cid:104)O ,p (cid:105),soitmustbethecasethatthisconditionforcesColl(ω,λ)(cid:13)
n n
φ(βˇ,γ˙ ·τ ). This means that β ∈c as required.
gen n n
Claim4.3.9. IntheposetP ×P ,foreveryordinalβ ∈c,(cid:104)O(cid:48),p(cid:48)(cid:105)(cid:13)Coll(ω,λ)(cid:13)
Γ 0
φ(βˇ,γ˙ ·τ ).
0
Proof. Find a number n > 0 such that β ∈ c . Let H ⊂ P for i ≤ n be
n i i
filters mutually generic over M containing the conditions p respectively, with
0 i
p(cid:48) ∈H . Write x =τ /H and γ =γ˙ /H ,H ; so x =γ γ ...γ x .
0 i i i i i i i+1 0 0 1 n−1 n
Let γ(cid:48) ∈ O(cid:48) be a point P -generic over the model M [H : i ≤ n]. Let
Γ 0 i
γ = γ(cid:48)γ γ · γ ; by the invariance of the meager ideal on Γ under right
0 1 n−1
translations, γ ∈Γ is a point Cohen generic over the model M [H : i≤n]. By
0 i
Claim 4.3.7(2), γ ∈O ; moreover, γ·x =γ(cid:48)·x .
n n 0
Let K ⊂Coll(ω,λ) be a filter generic over the model M [H : i≤n][γ]. The
0 i
model M [H : i ≤ n][γ(cid:48)][K] is a Coll(ω,λ)-extension of both M [γ(cid:48),H ] and
0 i 0 0
M [γ,H ] by Fact 1.7.12. By the forcing theorem in the model M and the
n n n
definition of the set c , M [H : i ≤ n][γ(cid:48)][K] |= φ(β,γ ·x ). By the forcing
n 0 i n
theorem in the model M , the filter on P ×P given by γ(cid:48),H must contain
0 Γ 0 n
a condition forcing Coll(ω,λ) (cid:13) φ(βˇ,γ˙ ·τ ). However, γ(cid:48),H were arbitrary
gen 0 0
meeting the condition (cid:104)O(cid:48),p(cid:48)(cid:105), so it must be the case that this condition forces
Coll(ω,λ)(cid:13)φ(βˇ,γ˙ ·τ ) as required.
gen n
Example 4.3.10. Consider the equivalence relation E on X = (2ω)ω; it is
1
well-known not to be reducible to any orbit equivalence relation [48, Theorem
11.8.1]. The conclusion of Theorem 4.3.6 fails for E . To see this, choose any
1
partial order Q which adds a new point y˙ ∈ 2ω. Let P be the full support
product of ω-many copies of Q, and let P be the product of the copies of the
n
copiesofQindexedbynaturalnumbers≥n. TheposetsP forn∈ω naturally
n
form a coherent sequence. Let G⊂P be a generic filter, and for each n∈ω let
G ⊂P be the restriction of G to conditions in P . Theorem 4.3.5 shows that
n n n
(cid:84)
(cid:104)V[G ]: n ∈ ω(cid:105) is a choice-coherent sequence of models, and that V[G ]
n n n
contains no new reals compared to V. In V[G ], let x ∈ X be the sequence
n n
defined by letting x (m) be the zero sequence if m ∈ n and the evaluation of
n
y˙ by the n-th coordinate of the generic filter G otherwise. It is clear that the
points x all represent the same E -class, which is not represented in V and
n 1
(cid:84)
therefore in V[G ].
n n
As a final remark, in general it is necessary to consider virtual E-classes as
opposed to just E-classes in the statement of Theorem 4.3.6. To see this, start
withthetrivialcoherentsequence(cid:104)M =V : n∈ω(cid:105)andletP bethecountable
n n
support product of copies of the poset Coll(ω,2ω) indexed by natural numbers
≥ n, with the natural projections from P to P added. This is a diagonally
n m
completesequenceofposetsasinExample??, andbyTheorem4.2.8itinduces
a choice-coherent sequence of models (cid:104)M [G ]: n ∈ ω(cid:105) such that the model
n n

4.3. CHOICE-COHERENT SEQUENCES OF MODELS 115
(cid:84)
M [G ] contains only ground model ω-sequences of ordinals. Now, every
n n n
modelM [G ]containsanenumerationoftheset(2ω∩V)bynaturalnumbers,
n n
and all of these enumerations are F -related. Clearly, there is no F -equivalent
2 2
of them in the intersection model. Yet, there is a virtual F -class related to
2
these enumerations in the intersection model, and even in the ground model V.

116 CHAPTER 4. NESTED SEQUENCES OF MODELS

Part II
Balanced extensions of the
Solovay model
117

Chapter 5
Balanced Suslin forcing
5.1 Virtual conditions
We look at the class of Suslin posets from an angle quite distinct from the
standard treatment in [7]; in particular, the center of attention is on σ-closed
Suslin forcings as opposed to c.c.c. or proper forcings adding reals. Recall:
Definition 5.1.1. A preorder (cid:104)P,≤(cid:105) is Suslin if there is a Polish space X such
that
1. P is an analytic subset of X;
2. the ordering ≤ is an analytic subset of X2;
3. the incompatibility relation is an analytic subset of X2.
It is important to understand that Suslin forcings may fail to be separative.
Recall that conditions p ,p are called inseparable if for every condition q ≤p ,
0 1 0
q,p have a lower bound, and vice versa, for every condition q ≤p , q,p have
1 1 0
a lower bound. The inseparability relation E is an equivalence; the partial
P
order P is separative if this equivalence relation is the identity. A simple yet
informative example of a nonseparative Suslin forcing is in order. Consider the
poset of countable partial functions from 2ω to 2 ordered by reverse extension.
As stated, it is not a Suslin forcing, since it is not an analytic subset of a
Polish space. One has to make an innocuous adjustment: P is in fact the set
of all functions from ω to 2ω ×2 whose range is a function, and order P by
setting q ≤p if rng(p)⊆rng(q). This adjustment sacrifices the separability for
Suslinness. Note that the equivalence relation E is unpinned in this case.
P
Throughout the rest of the book, we will make use of virtual conditions
in Suslin posets. Similar to virtual equivalence classes, these are conditions
whichmaynotexistinthepresentmodelofsettheoryandappearonlyinsome
generic extension, and yet we have a sensible calculus for dealing with them in
the ground model. We want the space of virtual conditions not to depend on a
119

120 CHAPTER 5. BALANCED SUSLIN FORCING
particularpresentationofagivenSuslinposet,andtoberichenoughtoharvest
certain critical features. This leads to the following definition:
Definition 5.1.2. Let (cid:104)P,≤(cid:105) be a Suslin forcing.
1. Let Q be a poset and τ a Q-name for an analytic subset of P. We say
that the name τ is P-pinned if Q×Q(cid:13)Στ =Στ in the completion
left right
of the separative quotient of the poset P. If τ is P-pinned, then the pair
(cid:104)P,τ(cid:105) is called a P-pin.
2. Let(cid:104)Q ,τ (cid:105)and(cid:104)Q ,τ (cid:105)beP-pins. Define(cid:104)Q ,τ (cid:105)≤(cid:104)Q ,τ (cid:105)ifQ ×Q (cid:13)
0 0 1 1 0 0 1 1 0 1
Στ ≤ Στ in the separative quotient of the poset P, and (cid:104)Q ,τ (cid:105) ≡
0 1 0 0
(cid:104)Q ,τ (cid:105) if (cid:104)Q ,τ (cid:105)≤(cid:104)Q ,τ (cid:105) and (cid:104)Q ,τ (cid:105)≤(cid:104)Q ,τ (cid:105).
1 1 0 0 1 1 1 1 0 0
3. The virtual conditions of P are the equivalence classes of ≡.
For the last item of the above definition, we must verify that ≡ is in fact an
equivalence relation. This is the content of the following propositions. As the
first technical remark, note that for analytic sets A ,A ⊂ P, the statement
0 1
ΣA ≤ ΣA is equivalent to ∀p ∈ P ∀p ∈ A p ≤ p → ∃q ≤ p ∃p ∈
1 0 1 1 1 0
A q ≤ p . Since the ordering ≤ on P is analytic, this is a Π1 statement and
0 0 2
therefore absolute among all generic extensions by the Shoenfield absoluteness.
As another remark, since any two generic extensions are mutually generic with
a third, (cid:104)Q,τ(cid:105) is a P-pin just in case in every forcing extension V[H] and every
pair of filters G ,G ⊂ Q in V[H] separately generic over V, Στ/G = Στ/H
0 1 0 1
holds in the completion of the separative quotient of P. Similarly, it is possible
to restate the definitions of ≤ and ≡ without mutual genericity.
Proposition 5.1.3. Let (cid:104)P,≤(cid:105) be a Suslin forcing. Let (cid:104)Q ,τ (cid:105), (cid:104)Q ,τ (cid:105) be
0 0 1 1
posets and names for analytic subsets of P. The following statements are abso-
lute among all forcing extensions:
1. (cid:104)Q ,τ (cid:105) is a P-pin;
0 0
2. (cid:104)Q ,τ (cid:105)≤(cid:104)Q ,τ (cid:105);
1 1 0 0
3. (cid:104)Q ,τ (cid:105)≡(cid:104)Q ,τ (cid:105).
0 0 1 1
Proof. We will prove (2), the other items are parallel. Suppose first that
(cid:104)Q ,τ (cid:105)≤(cid:104)Q ,τ (cid:105) holds, and V[H] is a generic extension of V; we must verify
1 1 0 0
that the ≤-relation transfers to V[H]. To see this, suppose that G ⊂Q ,G ⊂
0 0 1
Q arefiltersmutuallygenericoverV[H], andletA =τ /G andA =τ /G .
1 0 0 0 1 1 1
Thus,A ,A ⊂P areanalyticsetswithcodesinV[G ]andV[G ],respectively.
0 1 0 1
By the assumption, V[G ,G ] |= ΣA ≤ ΣA in the completion of the separa-
0 1 1 0
tive quotient of the poset P. This Π1 statement transfers to V[H][G ,G ] by
2 0 1
the Shoenfield absoluteness. In conclusion, V[H][G ,G ] |= ΣA ≤ ΣA and
0 1 1 0
therefore V[H]|=(cid:104)Q ,τ (cid:105)≤(cid:104)Q ,τ (cid:105).
1 1 0 0
Fortheotherdirection,if(cid:104)Q ,τ (cid:105)≤(cid:104)Q ,τ (cid:105)failsinV andV[H]isageneric
1 1 0 0
extensionofV,wemustshowthatthefailureofthe≤relationtransferstoV[H].

5.1. VIRTUAL CONDITIONS 121
Fix conditions q ∈ Q ,q ∈ Q such that in V, (cid:104)q ,q (cid:105) (cid:13) Στ (cid:54)≤ Στ .
0 0 1 1 0 1 Q0×Q1 1 0
This latter property of q ,q readily transfers to the model V[H] by the same
0 1
Shoenfieldabsolutenessargumentastheoneusedinthepreviousparagraph.
Proposition5.1.4. ≡isanequivalencerelationonP-pinsand≤isanordering
on ≡-equivalence classes.
Proof. Wewillshowthat≤istransitive,theotherstatementsaresimilar. Sup-
pose that (cid:104)Q ,τ (cid:105) ≤ (cid:104)Q ,τ (cid:105) ≤ (cid:104)Q ,τ (cid:105); we need to show that (cid:104)Q ,τ (cid:105) ≤
2 2 1 1 0 0 2 2
(cid:104)Q ,τ (cid:105) holds. Let G ⊂ Q ,G ⊂ Q are mutually generic filters and A =
0 0 0 0 2 2 2
τ /G and τ /G ; we must show that V[G ,G ] |= ΣA ≤ ΣA . Let G ⊂ Q
2 2 0 0 0 2 2 0 1 1
be a filter generic over V[G ,G ] and let A = τ /G . By the assumption,
0 2 1 1 1
V[G ,G ]|=ΣA ≤ΣA and V[G ,G ]|=ΣA ≤ΣA . By the Shoenfield ab-
0 1 1 0 1 2 2 1
soluteness, V[G ,G ,G ]|=ΣA ≤ΣA ≤ΣA , in particular ΣA ≤ΣA . By
0 1 2 2 1 0 2 0
another application of the Shoenfield absoluteness, the inequality ΣA ≤ ΣA
2 0
transfers from V[G ,G ,G ] to V[G ,G ].
0 1 2 0 2
It is now time to exhibit some virtual conditions for familiar partial orders.
Example 5.1.5. Let P be the poset of infinite subsets of ω, ordered by in-
clusion. Let F be a nonprincipal filter on ω. Let τ be a Coll(ω,F)-name for
the set of all conditions p ∈ P which diagonalize the filter F, i.e. ∀a ∈ F p\a
is finite. The name τ is P-pinned, since its valuation does not depend on the
choice of the generic filter on Coll(ω,F). It is not difficult to see that distinct
nonprincipal filters generate distinct virtual conditions.
Example 5.1.6. Let P be the poset of all countable functions from 2ω to 2,
ordered by reverse inclusion. Let f be any function from 2ω to 2, perhaps
uncountable. Letτ beaColl(ω,f)-nameforthesetofallconditionsp∈P such
that f ⊂p. Again, the name τ is P-pinned. It is clear that distinct functions f
generate distinct virtual conditions in P.
For many Suslin orders there exist virtual conditions which can be classified by
natural combinatorial objects. In particular, this holds quite often for balanced
virtual conditions, which are introduced in the following section and are the
central topic of this book.
Proposition 5.1.7. Suppose that (cid:104)P,≤(cid:105) is a σ-closed Suslin poset such that
below any element p∈P there are two incompatible ones. Then the equivalence
≡ has proper class many equivalence classes.
Proof. Leth: 2<ω →P beafunctionsuchthatforeveryt∈ω<ω,theconditions
h(t(cid:97)0)andh(t(cid:97)1)areincompatibleandstrongerthanh(t). Letg: ω →ω2 bea
bijection. For every ordinal α, consider the Coll(ω,α) name τ for the set of all
α
conditionsp∈P suchthatforeveryn∈ω thereis(exactlyone)stringt(p,n)∈
2n such that p ≤ h(t), and the binary relation g(cid:48)(cid:48){n ∈ ω: t(p,n+1)(n) = 1}
is isomorphic to α. It is not difficult to see that the pair (cid:104)Coll(ω,α),τ (cid:105) is
α
a P-pin; in fact the evaluation of τ yields the same analytic set no matter
α

122 CHAPTER 5. BALANCED SUSLIN FORCING
what the generic filter on Coll(ω,α) is. The P-pins obtained in this way are ≡-
inequivalent; in fact, for distinct ordinals α (cid:54)= β, Coll(ω,α)×Coll(ω,β) (cid:13) Στ
α
andΣτ areincompatibleelements ofthecompletionoftheseparative quotient
β
of P.
However, certain type of virtual conditions is entirely central to the technology
developed in this book, and normally allows a neat classification by natural
combinatorial objects. These are the balanced virtual conditions of the next
section.
5.2 Balanced conditions
This section isolates the notion of a balanced condition in a given Suslin poset
and a natural equivalence of balanced conditions. It turns out that every bal-
anced class is represented by a virtual condition.
Definition 5.2.1. Let (cid:104)P,≤(cid:105) be a Suslin forcing. Let Q be a poset and τ a
Q-name for an analytic subset of P. We say that (cid:104)Q,τ(cid:105) is a balanced pair in P
if for all posets R ,R and all R ×Q- and R ×Q- names σ , σ for elements
0 1 0 1 0 1
of P such that R ×Q (cid:13) σ ≤ Στ and R ×Q (cid:13) σ ≤ Στ, it is the case that
0 0 1 1
(R ×Q)×(R ×Q)(cid:13)σ ,σ are compatible conditions in the poset P.
0 1 0 1
Note that the definition of a balanced pair depends on the Suslin poset P. The
Suslin poset is not mentioned as it will be always understood from the context
and no opportunity for confusion arises. The expressions of the type σ ≤ Στ
(meaning that every condition extending σ is compatible with a condition in τ)
will be shortened to σ ≤τ below as there can be no confusion. Balanced pairs
andvirtualconditionsarequitedifferentthings;themaintopicofinterestinthis
bookarepairs(cid:104)Q,τ(cid:105)whicharesimultaneouslybalancedandvirtualconditions.
The following proposition restates the notion of a balanced pair in terms of the
generic extension as opposed to the forcing relation.
Proposition 5.2.2. Let (cid:104)P,≤(cid:105) be a Suslin forcing. Let Q be a poset and τ a
Q-name for an analytic subset of P. The following are equivalent:
1. (cid:104)Q,τ(cid:105) is a balanced pair;
2. whenever V[H ] and V[H ] are mutually generic extensions, G ,G ⊂ Q
0 1 0 1
are filters generic over the ground model in the respective extensions and
p ≤ τ/G , p ≤ τ/G are conditions in P in the respective extensions
0 0 1 1
V[H ],V[H ], then p ,p are compatible in P.
0 1 0 1
Theclassofbalancedconditionsisgreatlysimplifiedbyintroducingthefollowing
equivalence relation on it:
Definition 5.2.3. Let (cid:104)P,≤(cid:105) be a Suslin forcing. If (cid:104)Q ,τ (cid:105) and (cid:104)Q ,τ (cid:105) are
0 0 1 1
balanced pairs, we say that (cid:104)Q ,τ (cid:105) ≡ (cid:104)Q ,τ (cid:105) if for all posets R ,R and all
0 0 b 1 1 0 1
R ×Q -andR ×Q -namesσ ,σ forelementsofP suchthatR ×Q (cid:13)σ ≤τ
0 0 1 1 0 1 0 0 0

5.2. BALANCED CONDITIONS 123
and R ×Q (cid:13) σ ≤ τ, it is the case that (R ×Q )×(R ×Q ) (cid:13) σ ,σ are
1 1 1 0 0 1 1 0 1
compatible conditions in the poset P.
Proposition 5.2.4. Therelation≡ isanequivalenceonbalancedpairs. More-
b
over, if (cid:104)Q,τ(cid:105) is a balanced pair, then
1. if Q(cid:13)σ ≤τ then (cid:104)Q,σ(cid:105) is a balanced pair ≡ -related to (cid:104)Q,τ(cid:105);
b
2. if Q is a regular subposet of R then (cid:104)R,τ(cid:105) is a balanced pair ≡ -related to
b
(cid:104)Q,τ(cid:105).
Proof. We argue for the first sentence; items (1) and (2) are immediate conse-
quencesofthedefinition. Therelation≡ isclearlysymmetricandcontainsthe
b
identity; we will show that it is transitive. Let (cid:104)Q ,τ (cid:105)≡ (cid:104)Q ,τ (cid:105)≡ (cid:104)Q ,τ (cid:105);
0 0 b 1 1 b 2 2
it must be shown that (cid:104)Q ,τ (cid:105) ≡ (cid:104)Q ,τ (cid:105) follows. To this end, let R ,R be
0 0 b 2 2 0 2
posets and σ ,σ be R ×Q - and R ×Q -names for conditions in P stronger
0 2 0 0 2 2
than τ ,τ respectively. Since (cid:104)Q ,τ (cid:105)≡ (cid:104)Q ,τ (cid:105) holds, there is a (R ×Q )×
0 1 0 0 b 1 1 0 0
(R ×Q )-name σ for an element of P which is a lower bound of σ and τ .
1 1 1 0 1
Since (cid:104)Q ,τ (cid:105)≡ (cid:104)Q ,τ (cid:105) holds, there is a (R ×Q )×(R ×Q )×(R ×Q )-
1 1 b 2 2 0 0 1 1 2 2
nameηwhichisalowerboundofσ andσ . Thus,inthelongproductextension
1 2
(R ×Q )×(R ×Q )×(R ×Q ),theconditionsσ ,σ arecompatible,andby
0 0 1 1 2 2 0 2
Mostowski absoluteness this statement transfers to the (R ×Q )×(R ×Q )-
0 0 2 2
extension. This completes the proof of the transitivity of ≡ .
b
It is now time for a simple and informative example. Let P be the poset of
countable functions from 2ω to 2, ordered by reverse inclusion. On one hand,
if f: 2ω → 2 is a total function, then (cid:104)Coll(ω,2ω),fˇ(cid:105) is a balanced pair. On
the other hand, if (cid:104)Q,τ(cid:105) is a balanced pair, then for every point x ∈ 2ω in
the ground model, it must be the case that Q forces fˇ(x) ∈ dom(τ) and in
fact Q has to decide the value of τ(xˇ) as well–otherwise it would be easy to
violate the balance of the pair. Let f: 2ω → 2 be the total function given by
∀x ∈ 2ω Q (cid:13) τ(xˇ) = fˇ(xˇ) and note that (cid:104)Q,τ(cid:105) ≡ (cid:104)Coll(ω,2ω),fˇ(cid:105). Thus, the
b
balanced classes for P are exactly classified by total functions from 2ω to 2.
Oneofthemainconcernsofthisbookistheclassificationofbalancedclasses
forvariousSuslinposets(cid:104)P,≤(cid:105). Thefollowingtheoremisthebasiccontribution
in this direction.
Theorem 5.2.5. Let (cid:104)P,≤(cid:105) be a Suslin forcing. Every ≡ -class contains a
b
virtual condition. The condition is unique up to virtual condition equivalence.
Proof. Let (cid:104)Q,τ(cid:105) be a balanced pair; by Proposition 5.2.4 we may assume that
τ is a name for a single element of P. Consider the poset Q(cid:48) = Coll(ω,P(Q))
and the name τ(cid:48) for the analytic set {p ∈ P: for some filter G ⊂ Q meeting
all open dense sets enumerated by the Q(cid:48)-generic, p=τ/G}. We will first show
that the pair (cid:104)Q(cid:48),τ(cid:48)(cid:105) is balanced via Proposition 5.2.2.
To this end, suppose that V[H ],V[H ] are mutually generic extensions,
0 1
G(cid:48),G(cid:48) ⊂ Q(cid:48) are filters in the respective extensions generic over V, and r ≤
0 1 0
τ(cid:48)/G(cid:48) andr ≤τ(cid:48)/G(cid:48) areconditionsintheposetP;wemustshowthatr ,r ∈
0 1 1 0 1

124 CHAPTER 5. BALANCED SUSLIN FORCING
P are compatible conditions. By the definition of the name τ(cid:48), in V[H ] it is
0
possibletofindafilterG ⊂QgenericoverV suchthatp =τ/G iscompatible
0 0 0
with r , and similarly in the model V[G ]. Let s ,s ∈ P be lower bounds of
0 1 0 1
r and p in V[G ] and r and p in V[G ] respectively. Since (cid:104)Q,τ(cid:105) was a
0 0 0 1 1 1
balanced condition in P, the conditions s ,s must be compatible in P, and
0 1
their lower bound is a lower bound of r and r as well.
0 1
To show that (cid:104)Q,τ(cid:105) ≡ (cid:104)Q(cid:48),τ(cid:48)(cid:105), use both parts (1) and (2) of Proposi-
b
tion 5.2.4 with the intermediate pair (cid:104)Q(cid:48),τ(cid:48)(cid:105). To show that the pair (cid:104)Q(cid:48),τ(cid:48)(cid:105)
is a virtual condition, suppose that G(cid:48),G(cid:48) ⊂ Q(cid:48) are mutually generic filters.
0 1
Looking at the model V[G ,G ], it in fact turns out that τ(cid:48)/G(cid:48) and τ(cid:48)/G(cid:48) are
0 1 0 1
in fact equal as analytic subsets of P.
To show the uniqueness of the virtual condition (cid:104)Q(cid:48),τ(cid:48)(cid:105) up to the virtual
condition equivalence, suppose that (cid:104)Q(cid:48)(cid:48),τ(cid:48)(cid:48)(cid:105) is another virtual condition which
is an element of the ≡ -class of the balanced class of (cid:104)Q,τ(cid:105); we must show
b
that Q(cid:48) ×Q(cid:48)(cid:48) (cid:13) Στ(cid:48) = Στ(cid:48)(cid:48). For the ≤ direction, suppose that G(cid:48) ⊂ Q(cid:48) and
G(cid:48)(cid:48) ⊂ Q(cid:48)(cid:48) are mutually generic filters and r ∈ P is a condition in V[G(cid:48),G(cid:48)(cid:48)]
which is below Στ(cid:48)/G(cid:48); we must show that it is compatible with some element
of τ(cid:48)(cid:48)/G(cid:48)(cid:48). Let H ⊂ Q(cid:48)(cid:48) be a filter generic over the model V[G(cid:48),G(cid:48)(cid:48)]. Since the
pairs (cid:104)Q(cid:48),τ(cid:48)(cid:105) and (cid:104)Q(cid:48)(cid:48),τ(cid:48)(cid:48)(cid:105) come from the same balanced class, the condition r
must be compatible with every element of τ(cid:48)(cid:48)/H. Let s∈V[G(cid:48),G(cid:48)(cid:48),H] be such
that s ≤ r and s ≤ Στ(cid:48)(cid:48)/H. Since the pair (cid:104)Q(cid:48)(cid:48),τ(cid:48)(cid:48)(cid:105) is a virtual condition, the
condition s ≤ Στ(cid:48)(cid:48)/H must be compatible with some condition of τ(cid:48)(cid:48)/G(cid:48)(cid:48). By
theMostowskiabsolutenessbetweenthemodelsV[G(cid:48),G(cid:48)(cid:48)]andV[G(cid:48),G(cid:48)(cid:48),H],ris
compatiblewithsomeelementofτ(cid:48)(cid:48)/G(cid:48)(cid:48) inthemodelV[G(cid:48),G(cid:48)(cid:48)]asrequired.
Question 5.2.6. Let (cid:104)P,≤(cid:105) be a Suslin forcing. Is it necessarily the case that
the equivalence relation ≡ has only set many classes? Is it necessarily the case
b
that every balance class has a representative on a poset of size <(cid:105) ?
ω1
It is now time to state the central definition of this book.
Definition 5.2.7. Let P be a Suslin poset. P is balanced if for every condition
p∈P there is a balanced virtual condition below p.
A definition of this sort immediately raises a question: which Suslin posets are
balanced? Weshouldimmediatelydousetheflamesofentirelymisguidedhopes:
Proposition 5.2.8. The following Suslin posets do not have any balanced vir-
tual conditions and therefore are not balanced:
1. nonatomic c.c.c. posets;
2. nonatomic tree posets;
3. posets of the form P(ω)/I where I is a countably separated Borel ideal on
ω.

5.2. BALANCED CONDITIONS 125
q
p p
0 1
V[H ]
V[H ] 𝑝̅ 1
0
p
V
Figure 5.1: A balanced virtual condition p¯≤p.

126 CHAPTER 5. BALANCED SUSLIN FORCING
Here, a tree poset on a Polish space X is an analytic family of closed subsets of
X closedundernonemptyintersectionswithclosuresofbasicopensets,ordered
by inclusion.
Proof. For (1), suppose towards a contradiction that (cid:104)P,≤(cid:105) is a Suslin c.c.c.
poset and (cid:104)Q,τ(cid:105) is a balanced pair. For every maximal antichain A ⊂ P, its
maximalityisacoanalyticstatementandthereforeabsolutetotheQ-extension.
Thus, Q (cid:13) τ is compatible with some element of A. The balance of τ immedi-
atelyshowsthattherecanbeonlyoneelementofAwithwhichτ iscompatible,
and the largest condition in Q identifies this element. It follows that the set
{p∈P: Q(cid:13)τ ≤pˇintheseparativequotientofP}isafilteronP whichmeets
all maximal antichains, an impossibility in nonatomic posets.
For (2), suppose towards a contradiction that (cid:104)P,≤(cid:105) is a tree poset on a
Polish space X and (cid:104)Q,τ(cid:105) is a balanced pair. For every basic open set O ⊂X,
the statement τ ∩O¯ (cid:54)= 0 must be decided by the largest condition in Q by the
balanceofτ. Thisdecisioncannotbepositivefortwodisjointbasicopensubsets
of X by the balance of τ again. Thus, τ would have to be forced by Q to be
a singleton (even a specific singleton in the ground model), an impossibility in
nonatomic tree posets.
For (3), suppose towards a contradiction that I is a countably separated
ideal on ω as witnessed by a countable separating set A⊂P(ω), meaning that
for every b ∈ I and c ∈/ I there is a ∈ A such that b∩a = 0 and c∩a ∈/ I.
Suppose that (cid:104)Q,τ(cid:105) is a balanced pair in the poset P(ω)/I; so τ is a name
for an I-positive subset of ω. By the balance of τ, for every set a ∈ A it
must be decided by the largest condition in Q whether τ ∩aˇ ∈ I or not. Let
B ={a∈A: Q(cid:13)τ ∩aˇ∈/ I}. Use the balance of the name τ to argue that any
intersection of finitely many elements of B is an infinite set. Let b ⊂ ω be an
infinite set such that for every a∈B, b\a is finite. Use the density of the ideal
I to argue that thinning out the set b if necessary, we may assume that b ∈ I.
It is now immediate that no set a ∈ A can separate the I-small set b from the
I-positive set τ in the Q-extension: if a∈A\B then τ ∩a∈I is forced, and if
a∈B then b∩a(cid:54)=0. This is a contradiction.
Most balanced Suslin posets used in this book are σ-closed. There are σ-closed
posetswhicharenotbalanced,suchastheonewhichaddsamaximalalmostdis-
joint family in P(ω) by countable approximations, cf. Theorem 14.1.1. There
are some posets which are balanced and in ZFC even collapse ℵ , cf. The-
1
orem 8.7.2. Even such posets are valuable; remember that they prove their
worth in the choiceless symmetric Solovay extension. The balanced status of
certain posets is nonabsolute, see for example Theorem 8.1.19 or 8.5.5. Thus,
even though typically the balanced conditions correspond to traditional objects
of combinatorial set theory, the balanced status is a complicated matter. There
isonlyonegeneralpreservationtheorem, whichisneverthelessextremelyuseful
for obtaining consistency results:

5.2. BALANCED CONDITIONS 127
(cid:81)
Theorem 5.2.9. Let P = P be a countable support product of Suslin
n n
forcing notions. Balanced conditions in P are exactly classified by sequences
(cid:104)p : n∈ω(cid:105) where for every n∈ω, p is a balanced condition in P .
n n n
Proof. Ononehand, if(cid:104)Q ,τ (cid:105)arebalancedpairsforeachn∈ω, thenamefor
n n
(cid:81)
the sequence (cid:104)τ : n ∈ ω(cid:105) in the product Q = Q is balanced for the poset
n n n
P essentially by the definitions. The choice of the support in the product Q is
immaterial. Ontheotherhand,ifQisaposetandτ =(cid:104)τ : n∈ω(cid:105)isabalanced
n
Q-namefortheposetP,itmustbethecasethateachofthenamesτ forn∈ω
n
is balanced for the poset P . It equally easy to see that equivalent balanced
n
names for P give equivalent balanced names on each coordinate, and sequences
of balanced names on the posets P which are coordinatewise equivalent yield
n
equivalent balanced names for the product forcing.
Corollary 5.2.10. The countable support product of balanced Suslin forcings is
balanced.
One issue that is constantly present in this book is the lack of absoluteness
of the notions surrounding balance. As long as Question 5.2.6 remains open,
it will also be necessary to relativize the definition of a balanced poset to V
κ
where κ is an inaccessible cardinal. One may think that with suitable large
cardinal hypothesis on κ, one could use reflection to show that relativization is
unnecessary. The best result we have in this direction is
Proposition 5.2.11. Let (cid:104)P,≤(cid:105) be a Suslin forcing. Let κ be a strong cardinal.
The following are equivalent:
1. P is balanced;
2. V |=P is balanced.
κ
Proof. The argument uses two simple absoluteness claims of independent inter-
est:
Claim 5.2.12. If M is a transitive model of ZFC, (cid:104)Q,τ(cid:105) is a pair in M and
the pair is balanced in V, then it is balanced in M.
Proof. Immediate by Mostowski absoluteness between generic extensions of M
and V.
Claim 5.2.13. If M is a transitive model of ZFC, (cid:104)Q,τ(cid:105) is a pair in M, M |=
(cid:104)Q,τ(cid:105) is balanced, and P(Q)⊂M, then the pair (cid:104)Q,τ(cid:105) is balanced in V.
Proof. Work in V. Suppose that the conclusion fails, as witnessed by posets
R ,R andnamesσ ,σ onR ×QandR ×Qrespectively. Takeanelementary
0 1 0 1 0 1
submodel N of a large enough structure such that Q ⊂ N and |N| = |Q|. The
posetsR ∩N,R ∩N andnamesσ ∩N andσ ∩N stillwitnessthefailureofof
0 1 0 1
thebalanceofthepair(cid:104)Q,τ(cid:105): ifG ⊂(R ∩N)×QandG ⊂(R ∩N)×Qare
0 0 1 1
mutually generic filters, p = σ /G and p = σ /G ∈ P, then N[G ,G ] |=
0 0 0 1 1 1 0 1

128 CHAPTER 5. BALANCED SUSLIN FORCING
p ,p ∈ P are incompatible conditions by the forcing theorem applied in the
0 1
modelN,andbytheMostowskiabsolutenessbetweenN[G ,G ]andV[G ,G ],
0 1 0 1
this is still true in V[G ,G ]. Now, the assumption P(Q)⊂M shows that the
0 1
posets R ∩N,R ∩N and names σ ∩N and σ ∩N have isomorphic copies in
0 1 0 1
the model M, obtaining the failure of balance of the pair (cid:104)Q,τ(cid:105) in M.
Now, Claim 5.2.13 applied to M = V immediately yields the implication
κ
(2)→(1). For the converse, suppose that P is balanced, p ∈ P, and find a
balanced pair (cid:104)Q,τ(cid:105) below p. We have to deal with the unseemly possibility
that |Q| > κ holds. Use the large cardinal hypothesis to find an elementary
embedding j: V → M with critical point κ such that (cid:104)Q,τ(cid:105) ∈ M ∩ V .
j(κ)
Claim 5.2.12 shows that M |= (cid:104)Q,τ(cid:105) is a balanced pair below p. By elemen-
tarity of the embedding j, there must be a balanced pair (cid:104)Q(cid:48),τ(cid:48)(cid:105) ∈ V below
κ
p. Applying Claim 5.2.12 again with M = V , we see that V |= (cid:104)Q(cid:48),τ(cid:48)(cid:105) is a
κ κ
balancedpairbelowp. Sincetheconditionp∈P wasarbitrary, (2)follows.
5.3 Weakly balanced Suslin forcing
ThereisaninterestinggeneralizationofbalancedSuslinforcingwhichcanrealize
additional effects in extensions of the symmetric Solovay model. The basic
definitions can be stated as a minor variation of the work done in the previous
sections.
Definition 5.3.1. LetP beaSuslinforcing. Apair(cid:104)Q,τ(cid:105)isweakly balanced if
Qforcesτ tobeananalyticsubsetofP,andwheneverR ,R areposets,σ ,σ
0 1 0 1
areR ×QandR ×Q-namesforelementsofP belowΣτ and(cid:104)r ,q (cid:105)∈R ×Q
0 1 0 0 0
and (cid:104)r ,q (cid:105) ∈ R ×Q are conditions then in some forcing extension there are
1 1 1
filters H ⊂ R ×Q and H ⊂ R ×Q which are separately generic over V,
0 0 1 1
(cid:104)r ,q (cid:105)∈H , (cid:104)r ,q (cid:105)∈H , and σ /H ,σ /H are compatible elements of P.
0 0 0 1 1 1 0 0 1 1
Definition5.3.2. LetP beaSuslinforcingand(cid:104)Q ,τ (cid:105)and(cid:104)Q ,τ (cid:105)areweakly
0 0 1 1
balancedpairs. Saythatthepairsareequivalent andwrite(cid:104)Q ,τ (cid:105)≡ (cid:104)Q ,τ (cid:105)
0 0 wb 1 1
ifwheneverR ,R areposets,σ ,σ areR ×Q andR ×Q -namesforelements
0 1 0 1 0 0 1 1
of P below τ and τ respectively and (cid:104)r ,q (cid:105)∈R ×Q and (cid:104)r ,q (cid:105)∈R ×Q
0 1 0 0 0 0 1 1 1 1
areconditionstheninsomeforcingextensiontherearefiltersH ⊂R ×Q and
0 0 0
H ⊂R ×Q which are separately generic over V, (cid:104)r ,q (cid:105)∈H , (cid:104)r ,q (cid:105)∈H ,
1 1 1 0 0 0 1 1 1
and σ /H ,σ /H are compatible elements of P.
0 0 1 1
Proposition 5.3.3. The relation ≡ is an equivalence relation on weakly bal-
wb
anced pairs.
Proof. The relation is clearly symmetric and contains the identity as a sub-
set. For the transitivity, let (cid:104)Q ,τ (cid:105), (cid:104)Q ,τ (cid:105) and (cid:104)Q ,τ (cid:105) be weakly balanced
0 0 1 1 2 2
pairs such that (cid:104)Q ,τ (cid:105) ≡ (cid:104)Q ,τ (cid:105) and (cid:104)Q ,τ (cid:105) ≡ (cid:104)Q ,τ (cid:105). To show that
0 0 wb 1 1 1 1 wb 2 2
(cid:104)Q ,τ (cid:105) ≡ (cid:104)Q ,τ (cid:105) holds, let R ,R be posets and σ ,σ be R ×Q - and
0 0 wb 2 2 0 2 0 2 0 0
R ×Q -names for elements of P which are forced to be smaller than some
2 2
element of τ and τ respectively, and let (cid:104)r ,q (cid:105) and (cid:104)r ,q (cid:105) be conditions
0 2 0 0 2 2

5.3. WEAKLY BALANCED SUSLIN FORCING 129
in the two product posets. Let κ be a cardinal bigger than |P(R × Q )|.
0 0
Since (cid:104)Q ,τ (cid:105) ≡ (cid:104)Q ,τ (cid:105) holds, an absoluteness argument shows that in
0 0 wb 1 1
the Coll(ω,κ) × Q -extension, there is a filter H˙ ⊂ R × Q generic over
0 0 0 0
the ground model containing (cid:104)r ,q (cid:105) such that σ /H and τ as conditions
0 0 0 0 1
in P have a lower bound; call the Coll(ω,κ) × Q -name for the bound σ .
0 1
Since (cid:104)Q ,τ (cid:105) ≡ (cid:104)Q ,τ (cid:105) holds, in some forcing extension there are filters
1 1 wb 2 2
H ⊂ Coll(ω,κ)×Q and H ⊂ R ×Q separately generic over the ground
1 1 2 2 2
model, such that (cid:104)r ,q (cid:105) ∈ H and σ /H ,σ /H are compatible elements of
2 2 2 1 1 2 2
P. Let H =H˙ /H ⊂R ×Q ; this is a filter generic over the ground model,
0 0 1 0 0
containing the condition (cid:104)r ,q (cid:105) such that σ /H ≤σ /H .
0 0 0 0 1 1
In total, the conditions σ /H ,σ /H ∈P are compatible, and the relation
0 0 2 2
(cid:104)Q ,τ (cid:105)≡ (cid:104)Q ,τ (cid:105) has been verified.
0 0 wb 2 2
The notion of a weakly balanced pair is a faithful extension of the notion of a
balanced pair. This is the content of the following proposition.
Proposition 5.3.4. Let P be a Suslin forcing.
1. Every balanced pair is weakly balanced;
2. the class of balanced pairs is invariant under the ≡ equivalence;
wb
3. the relations ≡ and ≡ coincide on balanced pairs.
b wb
Proof. (1)isimmediatefromthedefinitions. For(2),supposetowardsacontra-
diction that (cid:104)Q ,τ (cid:105) and (cid:104)Q ,τ (cid:105) are ≡ -equivalent pairs and (cid:104)Q ,τ (cid:105) is bal-
0 0 1 1 wb 0 0
anced, while (cid:104)Q ,τ (cid:105) is not. The latter statement is witnessed by some posets
1 1
R ,R , names σ ,σ , and conditions (cid:104)r ,q (cid:105)∈R ×Q and (cid:104)r ,q (cid:105)∈R ×Q
0 1 0 1 0 0 0 1 1 1 1 1
which force in the product (R ×Q )×(R ×Q ) that σ ,σ are incompatible
0 0 1 1 0 1
elements of P.
Use the ≡ -equivalence assumption to find posets S ,S and S ,S -names
wb 0 1 0 1
G˙ ,H˙ ,K˙ and G˙ ,H˙ ,K˙ respectively so that S (cid:13) G˙ ⊂ Q and H˙ ×K˙ ⊂
0 0 0 1 1 1 0 0 0 0 0
R ×Q are filters generic over V such that rˇ ∈ H˙ , qˇ ∈ K˙ , and τ /G˙ ,
0 1 0 0 0 0 0 0
σ /H˙ ×K˙ areconditionscompatibleinP,withalowerboundχ ∈P. Similar
0 0 0 0
objects exist on the S -side.
1
Now, let L ⊂ S ,L ⊂ S be filters mutually generic over V. The balance
0 0 1 1
of the pair (cid:104)Q ,τ (cid:105) shows that χ /L ,χ /L are compatible conditions in the
0 0 0 0 1 1
poset P. Consider the filters H = H˙ /L ⊂ R , K = K˙ /L ⊂ Q , and
0 0 0 0 0 0 0 1
H = H˙ /L ⊂ R , K = K˙ /L ⊂ Q . The filters H ×K ⊂ R ×Q in
1 1 1 0 1 1 1 1 0 0 0 1
V[L ] and H ×K ⊂ R ×Q in V[L ] are generic over V. Since the filters
0 1 1 1 1 1
L ,L are mutually generic, so are H ×K and H ×K by Corollary 1.7.9.
0 1 0 0 1 1
At the same time, the conditions σ /H ×K and σ /H ×K in P must be
0 0 0 1 1 1
compatible,becausetheyareweakerthanthecompatibleconditionsχ /L and
0 0
χ /L respectively. This is a contradiction with the initial choice of σ ,σ .
1 1 0 1
(3)isprovedinasimilarway; theargumentislefttothepatientreader.
Proposition 5.3.5. Let P be a Suslin forcing. Every ≡ -class contains a
wb
virtual condition, which is unique up to ≡-equivalence.

130 CHAPTER 5. BALANCED SUSLIN FORCING
Proof. Let (cid:104)Q,τ(cid:105) be a weakly balanced condition; strengthening τ if necessary,
wemayassumethatτ isinfactanameforanelementofP. Letκbeanordinal
such that P(Q)⊂V and let σ be a Coll(ω,V )-name for the set {p∈P: ∃G⊂
κ κ
Q G is a filter meeting all the dense subsets of Q in VV such that p = τ/G}.
κ
It is clear that the pair (cid:104)Coll(ω,V ),σ(cid:105) is a P-pin. We will show that the pair
κ
(cid:104)Coll(ω,V ),σ(cid:105) is ≡ -related to (cid:104)Q,τ(cid:105).
κ wb
SupposethatR ,R areposetsandσ ,σ areR ×Coll(ω,V )-andR ×Q-
0 1 0 1 0 κ 1
namesforelementsofP strongerthanσ andτ respectively,and(cid:104)r ,q (cid:105),(cid:104)r ,q (cid:105)
0 0 1 1
are conditions in the respective products. Without loss of generality we may
assumethatthereisacardinalλ>|V |suchthatR =Coll(ω,λ). LetK˙ bethe
κ 0
R ×Coll(ω,V )-name for a filter on Q which is generic over V and such that
0 κ
σ ≤ τ/K˙ is forced. By abstract forcing theory, strengthening the condition
0
(cid:104)r ,q (cid:105) if necessary, we may cast the product R ×Coll(ω,V ) below (cid:104)r ,q (cid:105) as
0 0 0 κ 0 0
the poset Coll(ω,λ)×Q below some condition (cid:104)r(cid:48),q(cid:48)(cid:105) so that the name K˙ is
0 0
a name for the generic filter on the second coordinate of the product. By the
weak balance of the name τ, in some generic extension there are filtersH(cid:48) ⊂
0
Coll(ω,λ)×Q and H ⊂R ×Q containing the conditions (cid:104)r(cid:48),q(cid:48)(cid:105) and (cid:104)r ,q (cid:105)
1 1 0 0 1 1
such that the condition σ/H(cid:48),σ /H are compatible in P. The filter H(cid:48) can
0 1 1 0
be cast as a filter H ⊂ R ×Coll(ω,V ) meeting the condition (cid:104)r ,q (cid:105). This
0 0 κ 0 0
completes the proof of the ≡ -equivalence.
wb
Fortheuniquenesspart,supposethat(cid:104)Q ,τ (cid:105)and(cid:104)Q ,τ (cid:105)areP-pinswhich
0 0 1 1
are both ≡ -related to (cid:104)Q,τ(cid:105); we must show that they are ≡-related. Suppose
wb
towards a contradiction that this fails. Then, in the Q ×Q -extension, there
1 0
must be an element p∈P which is below some element of τ and incompatible
0
with any element of τ (or vice versa). By a Mostowski absoluteness argument,
1
thiselementpwillmaintainitsincompatibilitypropertyineveryfurtherforcing
extension. Let σ be a Q ×Q -name for this element, let σ be a Q -name
0 1 0 1 1
for any element of τ , and observe that (cid:104)Q ×Q ,σ (cid:105) and (cid:104)Q ,σ (cid:105) witness that
1 1 0 0 1 1
the the pairs (cid:104)Q ,τ (cid:105) and (cid:104)Q ,τ (cid:105) are ≡ -unrelated, contradicting the initial
0 0 1 1 wb
assumptions.
Unlike the balanced conditions, the weakly balanced virtual conditions can be
actually recognized in the ordering of virtual conditions by a natural first order
property.
Proposition 5.3.6. Let P be a Suslin forcing. Let (cid:104)Q,τ(cid:105) be a P-pin. The
following are equivalent:
1. (cid:104)Q,τ(cid:105) is weakly balanced;
2. (cid:104)Q,τ(cid:105) is an atom in the ordering of virtual conditions.
Recallthatanelementp¯ofapartialorderisanatomifeveryelementcompatible
with p¯is in fact above p¯.
Proof. For(1)→(2)direction,let(cid:104)R,σ(cid:105)beaP-pinwhichisnotabove(cid:104)Q,τ(cid:105);we
mustshowthatitisincompatiblewith(cid:104)Q,τ(cid:105). Supposetowardsacontradiction
that it is compatible, with a lower bound (cid:104)S,χ(cid:105). In the R×Q extension, the

5.3. WEAKLY BALANCED SUSLIN FORCING 131
inequality Στ ≤ Σσ must fail, so there is a condition p˙ for an element of P
0
whichisbelowΣτ butincompatiblewithΣσ. IntheS×R×Q-extension,there
is a condition p˙ of P which is below Σχ, and therefore also below Σσ and Στ.
1
Usetheweakbalanceofthepair(cid:104)Q,τ(cid:105)tofind,insomegenericextension,filters
H ×G ⊂R×QandK ×H ×G ⊂S×R×QseparatelygenericoverV such
0 0 1 1 1
thattheconditionsp˙ /H ×G andp˙ /K ×H ×G arecompatibleinP,with
0 0 0 1 1 1 1
a lower bound p. Note that the sums Σσ/H and Σσ/H in the completion of
0 1
theposetP mustcoincide,as(cid:104)R,σ(cid:105)isaP-pin. However,theconditionpshould
be incompatible with the former and below the latter by the forcing theorem.
This is a contradiction.
For the (2)→(1) direction, suppose that (cid:104)Q,τ(cid:105) is a P-pin which is an atom
in the ordering of virtual conditions. To prove the weak balance, suppose that
R ,R are posets, σ ,σ are R × Q and R × Q-names for elements of P
0 1 0 1 0 1
stronger than τ, and let (cid:104)r ,q (cid:105) and (cid:104)r ,q (cid:105) be conditions in the products. To
0 0 1 1
findtheinstrumentalgenericfilters,letκbeanordinalsuchthatP(R ×Q)and
0
P(R ×Q) are both subsets of V , and consider the Coll(ω,V )-names χ ,χ
1 κ κ 0 1
for analytic subsets of P defined by χ ={p∈P: ∃G⊂R ×Q such that G is
0 0
a filter meeting all open dense subsets of R ×Q in VV such that (cid:104)r ,q (cid:105) ∈ G
0 κ 0 0
and p=σ/G}. The name χ is defined in the same way.
1
It is not difficult to see that (cid:104)Coll(ω,V ),χ (cid:105) and (cid:104)Coll(ω,V ),χ (cid:105) are both
κ 0 κ 1
P-pins. They are also both ≤(cid:104)Q,τ(cid:105) by their definition. By the assumption on
theP-pin(cid:104)Q,τ(cid:105), theymustbothbe≡-equivalentto(cid:104)Q,τ(cid:105). Thismeansthatin
the Coll(ω,V )-extension, there must be conditions p ∈χ and p ∈χ which
κ 0 0 1 1
are compatible in P. Reviewing the definition of the names χ and χ , we get
0 1
thefiltersG ⊂H ×K andG ⊂H ×K separatelygenericoverV suchthat
0 0 0 1 1 1
(cid:104)r ,q (cid:105)∈G , (cid:104)r ,q (cid:105)∈G , and σ /G and σ /G are compatible conditions in
0 0 0 1 1 1 0 0 1 1
P as desired.
Finally, we record the central definition of this section.
Definition 5.3.7. ASuslinposetP isweakly balanced ifbeloweverycondition
p∈P there is a weakly balanced virtual condition stronger than p.

132 CHAPTER 5. BALANCED SUSLIN FORCING

Chapter 6
Simplicial complex forcings
6.1 Basic concepts
Many examples of σ-closed Suslin partially ordered sets in this book are pre-
sented in the same way:
Definition 6.1.1. Let X be a set.
1. A set K of finite subsets of X is a simplicial complex if it is closed under
subset;
2. a set A ⊂ X is a K-set if [A]<ℵ0 ⊂ K. It is maximal if it is not a proper
subset of another K-set;
3. the poset P ⊂Xω consists of countable K-sets ordered by reverse inclu-
K
sion;
4. A˙ is the P -name for the union of all sets in the generic filter.
gen K
Unless specifically stated otherwise, we will tacitly assume that every singleton
belongstoK. WhenthesimplicialcontextKisunderstoodfromthecontext,we
putP =P inthissection. TheposetP isobviouslyσ-closed. Byanelementary
K
density argument, the set A˙ is forced to be a maximal K-set. The poset P
gen
canbenaturallypresentedasaSuslinforcingbyreplacingthecountableK-sets
withtheirenumerationsbynaturalnumbers,andreplacingthereverseinclusion
orderingbyreverseinclusionofrangesoftheenumerations. Wewillneglectthis
innocuous step in this section as it merely complicates the notation.
Nearly every poset considered in this book can be presented as a poset of
the form P for a Borel simplicial complex K on a Polish space X. Namely,
K
for a poset Q let K be the simplicial complex of the finite subsets of Q which
have a common lower bound. Under suitable assumptions on definability and
existence of lower bounds (which are invariably satisfied), the posets Q and
P are naturally forcing equivalent. However, this point of view rarely brings
K
any new insight. In this chapter, we deal with simplicial complexes that are
133

134 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
in some way algebraically natural, and their algebraic structure leads to the
classificationofthebalancedconditions. Wediscoveredanumberofpossibilities.
Manyofthemarecategorizedbythepropertiesofthefollowingcentralconcepts
associated with any simplicial complex whatsoever.
Definition 6.1.2. Let K be a Borel simplicial complex on a Polish space X.
Γ istheBorelgraphonKconsistingofallpairs(cid:104)a,b(cid:105)wherea,b∈K,a∪b∈/ K,
K
and a,b are inclusion minimal such: if a(cid:48) ⊆ a and b(cid:48) ⊆ b then a(cid:48) ∪b(cid:48) ∈/ K iff
a(cid:48) =a and b(cid:48) =b.
Inparticular, if(cid:104)a,b(cid:105)∈Γ thenanyotherdisjointpartitionoftheseta∪binto
K
nonempty pieces c∪d must have c,d∈K and (cid:104)c,d(cid:105)∈Γ .
K
Definition 6.1.3. Let K be a Borel simplicial complex on a Polish space X.
1. A K-walk is a finite sequence (cid:104)a : i ∈ j(cid:105) of elements of K such that for
i
(cid:83)
every k ∈j\{0} there is a set b⊂ a such that (cid:104)a ,b(cid:105)∈Γ ;
i∈k i k K
2. A K-walk (cid:104)a : i ∈ j(cid:105) is said to start at a point x ∈ X if a = {x } and
i 0 0 0
reach a point x ∈X if for some i∈j x ∈a ;
1 1 i
3. E isthesetofallpairs(cid:104)x ,x (cid:105)suchthatthereisaK-walkstartingfrom
K 0 1
x and reaching x and a K-walk starting from x and reaching x .
0 1 1 0
Proposition 6.1.4. Let K be a Borel simplicial complex on a Polish space X.
E is an analytic equivalence relation. It is the smallest equivalence relation E
K
on X such that for every finite set a⊂X, a∈K if and only if for every E-class
c, a∩c∈K.
Proof. Write Γ = Γ and E = E . It is immediate that the relation E is an
K K
equivalence. The complexity assertion is also immediate from the definitions.
For the optimality assertion, for an equivalence relation F on X write φ(F)
for the statement that for every finite set a ⊂ X, a ∈ K if and only if for
every F-class c, a∩c ∈ K. We first need to verify that φ(E) holds. Suppose
towardsacontradictionthatitdoesnot,andleta⊂X beaninclusion-minimal
counterexample. NotethatforeveryE-classcsuchthata∩c(cid:54)=0itmustbethe
casethat(cid:104)a∩c,a\c(cid:105)∈Γ. Nowletx∈abeanypointandletcbetheE-classof
x. Produce a K-walk from x which reaches all the finitely many points in c∩a.
The walk can be extended by the set a\c, reaching an arbitrary element of a.
This means that all points of a belong to the same E-class, a contradiction.
Now suppose that F be an equivalence relation on X for which φ(F) holds;
we must argue that E ⊆ F. Suppose towards a contradiction that this fails
and let x ,x ∈X be E-related points which are not F-related. Let (cid:104)a : i∈j(cid:105)
0 1 i
be a K-walk starting from x and reaching x . Let k ∈ j be the smallest
0 1
(cid:83)
number such that a (cid:54)⊂ [x ] . There must be a set b ⊂ a such that
k 0 F i∈k i
(cid:104)b,a (cid:105)∈Γ. Applying φ(F) to the union a ∪b, we see that it must be the case
k k
that (a ∪b)∩[x ] ∈/ K. Thus, considering the proper subset a(cid:48) =a ∩[x ] ,
k 0 F k k 0 F
we get b∪a(cid:48) ∈/ K, contradicting the assumption that (cid:104)b,a (cid:105)∈Γ.
k k

6.2. LOCALLY COUNTABLE COMPLEXES 135
To conclude this section, we mention two operations on simplicial complexes.
Both of them may seem trivial from the simplicial complex view, but they
generate quite unpredictable operations on the associated posets P . Several
K
classes of complexes introduced below are nearly trivially closed under these
operations.
Definition 6.1.5. Let K be a Borel simplicial complex on a Polish space X,
and let B ⊂X be a Borel set. The restriction K(cid:22)B is just the set K∩[B]<ℵ0.
Definition 6.1.6. Let X be a Polish space and for each n ∈ ω, let K be a
n
(cid:86)
BorelcomplexonaBorelsetB ⊂X. TheproductK= K isthesimplicial
n n n
complex of all finite sets a⊂X such that ∀n a∩B ∈K .
n n
One way to use the latter operation appears is when the Borel sets B for
n
n ∈ ω are pairwise disjoint. In this case, the poset P corresponds to the
K
countable support product of the posets P for n ∈ ω. However, if the Borel
Kn
setsB overlap,theforcingeffectsofthisoperationbecomemuchmoredifficult
n
to analyze.
6.2 Locally countable complexes
In this section, we discuss the simples class of simplicial complexes to handle.
Definition 6.2.1. Let K be a Borel simplicial complex on a Polish space X.
We say that K is locally countable if the graph Γ is locally countable.
K
It follows from a routine application of the Lusin–Novikov theorem that if a
BorelsimplicialcomplexKonaPolishspaceX islocallycountable,thenE isa
K
countableBorelequivalencerelation. Inparticular,aBorelsimplicialcomplexK
islocallycountableifandonlyifthereisacountableBorelequivalencerelationE
onX suchthatforeveryfiniteseta⊂X,a∈Kifandonlyifa∩c∈Kforevery
E-class c. The classification of balanced pairs in the case of locally countable
simplicialcomplexesisparticularlysimple: theycorrespondtomaximalK-sets.
This is the content of the following theorem:
Theorem 6.2.2. Let K be a locally countable Borel simplicial complex on a
Polish space X.
1. For every maximal K-set A ⊂ X, the pair (cid:104)Coll(ω,X),Aˇ(cid:105) is balanced in
the poset P =P ;
K
2. for every balanced pair (cid:104)Q,τ(cid:105), there is a maximal K-set A⊂X such that
the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,X),Aˇ(cid:105) are equivalent;
3. distinct maximal K-sets yield inequivalent balanced pairs.
In particular, the poset P is balanced.

136 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
Proof. For(1), supposethatV[H ],V[H ]aremutuallygenericextensionsofV
0 1
and p ∈ V[H ], p ∈ V[H ] are conditions extending A; we must show that
0 0 1 1
p ∪p is a K-set. Suppose towards a contradiction that a ⊂ p and a ⊂ p
0 1 0 0 1 1
are finite sets such that a ∪a ∈/ K. Choosing a ,a inclusion-minimal, we
0 1 0 1
conclude that {a ,a } ∈ Γ . Since the graph Γ is locally countable, by the
0 1 K K
Mostowski absoluteness between V[H ] and V[H ,H ] it must be the case that
0 0 1
as a ∈ V[H ], a ∈ V[H ] must hold as well. Thus, a ∈ V[H ]∩V[H ] = V.
0 0 1 0 1 0 1
Since A was a maximal K-set and A∪a ⊂p is a K-set, it follows that a ⊂A
1 1 1
and a ∪a ⊂p , contradicting the assumption that a ∪a ∈/ K.
0 1 0 0 1
For (2), let (cid:104)Q,τ(cid:105) be a balanced pair; strengthening τ if necessary we may
assumethatitisaQ-nameforasingleK-set. ReplacingQwithQ×Coll(ω,X)
and strengthening the condition τ if necessary, we may assume that Q (cid:13) ∀x ∈
XV x ∈ τ or there is a ⊂ τ such that {x}∪a ∈/ K. For each point x ∈ X,
either Q (cid:13) xˇ ∈ τ or Q (cid:13) ∃a ⊂ τ ∈ Γ and a ⊂ τ by a balance argument. Let
K
A ⊂ X be the set of all points x ∈ X for which the first option prevails. Then
Q(cid:13)Aˇ=τ∩V,soAisaK-set;inviewof(1)andProposition5.2.4,itisenough
toshowthatAisamaximalK-set. Letx∈X\A. ThenQ(cid:13)∃a⊂τ {x}∪a∈/ K;
choosingainclusionminimal,weconcludethatQ(cid:13){{x},a}∈Γ . Bythelocal
K
countabilityofthegraphΓ andaMostowskiabsolutenessbetweentheground
K
model and its Q-extension, it must be that Q (cid:13) a ⊂ V and then a ⊂ Aˇ. It
follows that A∪{x} is not a K-set as desired.
Finally, (3) is obvious. For the last sentence, any condition p ∈ P can
be extended to a maximal K-set, which then represents a balanced condition
stronger than p by (1).
Example 6.2.3. Let E be a countable Borel equivalence relation on a Polish
space X. Let K be the set of all finite sets consisting of pairwise E-unrelated
elements. Then Γ consists of all edges {{x },{x }} where x ,x ∈ X are
K 0 1 0 1
distinct E-related points, so K is locally countable. The balanced pairs are
classified by maximal K-sets, which are precisely the E-transversals.
For the following example, recall the notion of a perfect matching of a graph;
this is just a set of edges such that each vertex gets exactly one edge in the set
adjacent to it. For a locally finite bipartite graph Γ, the existence of a perfect
matchingisequivalenttoHall’s marriage condition [38]: foreveryfinitesetaof
vertices on one side of the bipartition, the set of neighbors of a has cardinality
at least that of a.
Example 6.2.4. Let Γ be a locally finite bipartite Borel graph on a Polish
space X satisfying the Hall’s marriage condition; view Γ as a subset of [X]2.
LetKbethesimplicialcomplexofallfinitesubsetsofΓwhichcanbecompleted
to a perfect matching. Then K is a Borel locally countable simplicial complex:
given a finite set a⊂Γ, the membership of a in K can be detected by checking
all fragments of a in the components of Γ which are countable. The balanced
pairsareclassifiedbymaximalK-setswhicharepreciselytheperfectmatchings
of Γ.

6.3. COMPLEXES OF BOREL COLORING NUMBER ℵ 137
1
For the following example, recall the notion of an end of an infinite connected
graph[36]. Ifthegraphinquestionisinadditionacyclic,anendcanbeidentified
with an orientation of the graph in which every vertex gets exactly one edge
flowing out of it.
Example 6.2.5. Let Γ be a locally finite acyclic Borel graph on a Polish space
X with all components infinite; view Γ as a symmetric subset of X2. Let K be
the simplicial complex of all finite subsets a⊂Γ consisting of finite sets a such
thatforeachΓ-path-connectednessclassc⊂X theseta∩c2 canbeextendedto
an end. It is immediate that K is a Borel locally countable simplicial complex.
ThebalancedconditionsareclassifiedbymaximalK-sets,whichareorientations
of the graph Γ in which every vertex has exactly one point in its outflow.
Example 6.2.6. Let Γ be a locally countable Borel graph on a Polish space X
ofchromaticnumber≤nforsomefiniten∈ω. LetKbethesimplicialcomplex
of all finite partial Γ-colorings by at most n colors which can be completed to
a total coloring by at most n colors. Then K is a locally countable simplicial
complex: givenafinitecoloringa,themembershipofainK canbedetectedby
checking all fragments of a in the components of Γ which are countable. The
balanced pairs are classified by maximal K-sets which are precisely the total
Γ-colorings.
6.3 Complexes of Borel coloring number ℵ
1
Thenextclassofexamplesisobtainedasageneralizationofthelocallycountable
simplicialcomplexusingadefinableversionofaconceptduetoErd˝osandHajnal
[25].
Definition 6.3.1. 1. Let Γ be a Borel graph on a Polish space X. We say
that the graph has Borel coloring number ℵ if there is a Borel directed
1
graph(cid:126)Γ (an orientation of Γ) such that for each edge {x ,x }∈Γ, either
0 1
(cid:104)x ,x (cid:105)∈(cid:126)Γor(cid:104)x ,x (cid:105)∈(cid:126)Γ, andthe(cid:126)Γ-outflowofeachpointiscountable.
0 1 1 0
2. Let K be a Borel simplicial complex on a Polish space X. We say that K
has Borel coloring number ℵ if the graph Γ has Borel coloring number
1 K
ℵ .
1
Inparticular,everylocallycountableBorelsimplicialcomplexhasBorelcoloring
numberℵ . AMostowskiabsolutenessargumentshowsthatifaBorelgraphhas
1
Borelcoloringnumberℵ thenthisfeaturewillpersisttoallgenericextensions.
1
To prove the balance for the posets associated with Borel simplicial com-
plexes of Borel coloring number ℵ and to classify the balanced conditions, we
1
need a technical weakening of maximality.
Definition 6.3.2. Let K be a Borel simplicial complex on a Polish space X.
A K-set A⊂X is weakly maximal if for every point x∈X either x∈A or for
every countable set b⊂X there is c∈K disjoint from b such that (A∩b)∪c is
a K-set, but (A∩b)∪c∪{x} is not.

138 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
In particular, every maximal K-set is weakly maximal. For a weakly maximal
set A⊂X, let τ be the Coll(ω,X)-name for the analytic set of all p∈P such
A
that for all x ∈ X ∩V, if x ∈ A then x ∈ p and if x ∈/ A then p∪{x} is not a
K-set. In particular, if A is a maximal K-set, then Coll(ω,X)(cid:13)Στ =Aˇ.
A
Theorem 6.3.3. Let K be a Borel simplicial complex on a Polish space X of
Borel coloring number ℵ .
1
1. For every weakly maximal K-set A ⊂ X, the pair (cid:104)Coll(ω,X),τ (cid:105) is bal-
A
anced in the poset P =P ;
K
2. for every balanced pair (cid:104)Q,τ(cid:105), there is a weakly maximal K-set A ⊂ X
such that the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,X),τ (cid:105) are equivalent;
A
3. distinct weakly maximal K-sets yield inequivalent balanced pairs.
In particular, the poset P is balanced.
Proof. For (1), we must first show that Coll(ω,X) (cid:13) τ (cid:54)= 0. By a Mostowski
A
absoluteness argument, it is just enough to produce some generic extension in
which there is a K-set p ⊂ X such that for all x ∈ X ∩ V, if x ∈ A then
x ∈ p and if x ∈/ A then p ∪ {x} is not a K-set. To do this, let Q be the
poset of nonstationary subsets of [X]ℵ0 and let j: V → M be the Q-name
for the associated generic ultrapower. In particular, M is an ω-model of ZFC
containing j(cid:48)(cid:48)X as an element, represented by the identity function; this set
is forced to be countable in M. Now, consider a product of copies Q of Q
x
indexed by elements x ∈ X \A, with mutually generic filters G ⊂ Q and
x x
in the model V[G : x ∈ X \A] consider the generic ultrapower embeddings
x
j : V → M . By the weak maximality of A and elementarity, there is a set
x x
c ∈ M disjoint from V such that A ∪ c is a K-set, and A ∪ c ∪ {x} is
x x x x
(cid:83)
not. We claim that p = A∪ c is a K-set; this will complete the proof.
x x
Suppose towards a contradiction that this is not the case, and find finite sets
(cid:83)
a ⊂ A and a ⊂ c for x in some finite index set I such that a∪ a ∈/ K
x x x x
and a are inclusion-minimal possible. Pick x be any element of I such that
x 0
(cid:83)
a (cid:54)= 0, let b = a , and let c = a∪ a . It is clear that {c,d} ∈ Γ.
x0 x0 x(cid:54)=x0 x
Let (cid:126)Γ be a Borel orientation of Γ with countable outflows, and assume for
definiteness that (cid:104)c,b(cid:105) ∈ (cid:126)Γ. By a Mostowski absoluteness argument between
V[G : x (cid:54)= x ] and V[G : x ∈ X \A], it must be the case that b, as much as
x 0 x
all other points of the countable (cid:126)Γ-outflow of c, belongs to V[G : x (cid:54)= x ], so
x 0
b∈V[G : x(cid:54)=x ]∩V[G ]=V. This contradicts the initial choice of the sets
x 0 x0
a ⊂c .
x x
Now, for the balance part, suppose that V[H ] and V[H ] are mutually
0 1
generic extensions of V, and p ∈ V[H ] and p ∈ V[H ] are conditions such
0 0 1 1
that for all x ∈ X ∩V, if x ∈ A then x ∈ p and if x ∈/ A then p ∪{x} is not
0 0
a K-set, and similarly for p . We must show that p ∪p is a K-set. Suppose
1 0 1
towardsacontradictionthatthisfails,andleta ⊂p anda ⊂p befinitesets
0 0 1 1
such that a ∪a ∈/ K. Passing to an inclusion-minimal example of this form
0 1

6.4. MODULAR COMPLEXES 139
if necessary, we may assume that {a ,a }∈Γ. Let (cid:126)Γ be a Borel orientation of
0 1
Γ with countable outflows, and assume for definiteness that (cid:104)a ,a (cid:105) ∈ (cid:126)Γ. By
0 1
a Mostowski absoluteness argument between V[H ] and V[H ,H ], it must be
0 0 1
the case that a , as much as all other points of the countable (cid:126)Γ-outflow of a ,
1 0
belongs to V[H ], so a ∈V[H ]∩V[H ]=V. It follows that a ⊂A⊂p , and
0 1 1 0 1 0
this contradicts the assumption that a ∪a ∈/ K.
0 1
For (2), let (cid:104)Q,τ(cid:105) be a balanced pair; strengthening τ if necessary we may
assumethatitisaQ-nameforasingleK-set. ReplacingQwithQ×Coll(ω,X)
and strengthening the condition τ if necessary, we may assume that Q (cid:13) ∀x ∈
XV x ∈ τ or there is a ⊂ τ such that {x}∪a ∈/ K. For each point x ∈ X,
either Q (cid:13) xˇ ∈ τ or Q (cid:13) ∃a ⊂ τ ∈ Γ and a ⊂ τ by a balance argument. Let
K
A ⊂ X be the set of all points x ∈ X for which the first option prevails. Then
Q(cid:13)Aˇ=τ∩V and therefore A is a K-set; in view of (1) and Proposition 5.2.4,
it is enough to show that A is a weakly maximal K-set. Let x ∈ X \A and
b⊂X be countable. Observe that Q(cid:13)∃c⊂τ {x}∪c∈/ K; note that for such
set c, (A∩b)∪c is still a K-set. Use the Mostowski absoluteness argument to
find a set c with these properties in the ground model; this confirms that A is
a weakly maximal K-set.
Finally, (3) is obvious. For the last sentence, any condition p ∈ P can
be extended to a maximal K-set, which then represents a balanced condition
stronger than p by (1).
Example 6.3.4. Let g: 2ω → (2ω)ℵ0 be any Borel function. Let K be the
simplicial complex of g-free sets on X = 2ω. It is immediate that K has Borel
coloring number ℵ : the graph Γ consists of all pairs {x ,x } such that either
1 K 0 1
x ∈f(x ) or x ∈f(x ). The Borel orientation of Γ with countable outflows
0 1 1 0 K
can be defined by considering which of the two cases occurs. To consider a case
inwhichtheclassificationofbalancedconditionsisparticularlysimple,suppose
that every point in (2ω)ℵ0 has uncountable preimage. Then, any g-independent
set A ⊂ X is weakly maximal: for every countable set b ⊂ X and every point
x ∈ X \A there is an uncountable set of points y ∈ X such that x ∈ g(y)
and g(y)∩(A∩b)=0, and uncountably many such points y can be found also
(cid:83)
outside of the countable set {g(z): z ∈ A∩b}, making the set (A∩b)∪{y}
free, while (A∩b)∪{y}∪{x} is not.
6.4 Modular complexes
Another class of simplicial complexes in this section is not as closely tied to the
graph Γ . The definition is motivated by concerns of geometric model theory.
K
Definition 6.4.1. ABorelsimplicialcomplexKonaPolishspaceX ismodular
if there is a Borel modular function f: K→[Y]ℵ0 for some Polish space Y such
that
1. (monotonicity) f(0)=0 and a⊂b implies f(a)⊂f(b);

140 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
2. (modularity) foralla,b∈K,a∪b∈Kifandonlyiff(a)∩f(b)=f(a∩b).
For a K set A⊂X we set f(A)= (cid:83) {f(a): a∈[A]<ℵ0}.
Notethatthepropertiesofthefunctionf arecoanalytic, andthereforetransfer
to any transitive model of set theory by the Mostowski absoluteness, in par-
ticular to all generic extensions. It is not easy to see which Borel simplicial
complexes are modular and which are not. As the simplest initial example, let
X =R viewed as a vector space over the rationals, and let K be the simplicial
complexonX consistingoffinitelinearlyindependentsets. Thesimplicialcom-
plex is modular as witnessed by the modular function f which to each finite set
of reals assigns its linear span.
ThebalancedvirtualconditionsintheposetP =P formodularcomplexes
K
K are again classified by certain K-sets, as recorded in the following definition:
Definition 6.4.2. LetK beasimplicialcomplexonaPolishspaceX. AK-set
A ⊂ X is strongly maximal if for every Borel collection B ⊂ K at least one of
the following occurs:
1. there are a (cid:54)=a in B such that a ∪a ∈K;
0 1 0 1
2. there is b∈B such that b⊂A;
3. there is a countable set p⊂A such that for no b∈B, p∪b is a K-set.
Fittingly, a strongly maximal set A ⊂ X must be a maximal K-set. For this,
given x ∈ X consider the set B = {{x}} and consult the three options of
Definition 6.4.3. The first option is impossible, the second option yields x∈A,
and the third option shows gives that A∪{x} is not a K-set. The maximality
of the set A follows.
Theorem 6.4.3. Suppose that K is a modular Borel simplicial complex on a
Polish space X and write P =P .
K
1. Whenever A ⊂ X is a strongly maximal set then the pair (cid:104)Coll(ω,X),A(cid:105)
is balanced in P;
2. every balanced pair is equivalent to (cid:104)Coll(ω,X),A(cid:105) for some strongly max-
imal set A⊂X;
3. distinct strongly maximal sets give rise to inequivalent balanced pairs.
In particular, under the Continuum Hypothesis the poset P is balanced.
WedonotknowiftheposetP isbalancedinZFC,eventhoughthisdoesoccur
in all specific cases under consideration in this book.
Proof. Let f: K → [Y]ℵ0 be a Borel modular function. For (1), suppose that
V[H ] and V[H ] are mutually generic extensions of the ground model, and
0 1
a ∈ V[H ] and a ∈ V[H ] are elements of K such that A∪a ,A∪a are
0 0 1 1 0 1

6.4. MODULAR COMPLEXES 141
K-sets; we must show that a ∪a ∈ K. Suppose towards a contradiction that
0 1
this fails. Using the maximality of the set A, enlarge the sets a ,a so that
0 1
a ∩a =a ∩V =a ∩V. Themodularityofthefunctionf impliesthattheset
0 1 0 1
f(a )∩f(a )\f(a ∩a ) is nonempty, containing some element y ∈ Y. Since
0 1 0 1
y ∈V[H ]∩V[H ], the product forcing theorem implies that y ∈V.
0 1
Back in V, consider the set B ⊂ K, B = {b ∈ K: y ∈ f(b) and for no
proper subset c ⊂ b, y ∈ f(c)}. Apply Definition 6.4.2 to A,B. The first
option is impossible by the modularity of the function f. The second option
gives a set b ∈ K such that b ⊂ A and y ∈ f(b). Increasing the set b if
necessary, we may arrange that a ∩V ⊂ b. But then, y ∈ f(a )∩f(b) while
0 0
y ∈/ f(a ∩b)=f(a ∩V)=f(a ∩a ). Themodularityofthefunctionf shows
0 0 0 1
thatb∪a ∈/ KandsoA∪a isnotaK-set,contradictingtheinitialasumptions.
0 0
Inthethirdoptionofthetrichotomy,thereis(inV)acountablesetp⊂Asuch
that no element of B can be added to it. Let b ⊂ a be an inclusion-minimal
0
subset of a such that y ∈f(b). Then b∈B and p∪b is a K-set, contradicting
0
the choice of p. (1) has been proved.
For (2), assume that (cid:104)Q,τ(cid:105) is a balanced pair. Replacing Q with Q ×
Coll(ω,X) and strengthening τ if necessary, we may assume that τ is in fact a
name for an element of P , and Q (cid:13) ∀x ∈ X ∩V x ∈ τ or {x}∪τ is not a
K
K-set. By the balance, for each x ∈ X it has to be the case that Q (cid:13) xˇ ∈ τ or
Q(cid:13){xˇ}∪τ is not a K-set; let A⊂X be the set of all points x∈X for which
the former alternative occurs. We will show that A⊂X is a strongly maximal
K-set. Then, (cid:104)Q,τ(cid:105) is equivalent to (cid:104)Coll(ω,X),A(cid:105). Since Q (cid:13) τ ≤ A holds,
in view of (1) and Proposition 5.2.4 (cid:104)Q,τ(cid:105) is equivalent to (cid:104)Coll(ω,X),A(cid:105) as
desired.
Now, it is clear that A is a K-set, since it is forced to be a subset of the
K-set τ. Suppose towards a contradiction that A⊂X is not strongly maximal,
as witnessed by some Borel set B ⊂K.
Claim 6.4.4. There is a poset R and an R-name b˙ such that R (cid:13) b˙ ∈ K and
Aˇ∪b is a K-set.
Proof. LetRbetheposetofallstationarysubsetsof[X]ℵ0 orderedbyinclusion.
Now, if G⊂R is a generic filter and j: V →M is the associated generic ultra-
power,thesetX∩V belongstoM anditiscountableinM,asitisrepresented
by the identity function. Thus, A = j(A)∩(X ∩M) is a countable subset of
j(A) in the model M, and by the failure of the third option in Definition 6.4.2
in V and elementarity of j, M |=∃b b∈B and A∪b is a K-set. Since M is an
ω-model of set theory, these two statements about b transfer without change to
the generic extension V[G].
The treatment now divides into two cases.
Case1. Forsomeconditionq ≤QandaQ-nameb˙ foranelementofB˙,q (cid:13)τ∪b˙
isaKset. Inthiscase,notethatsincethesecondoptioninDefinition6.4.2fails
for A,B, it must be the case that b˙ is forced not to be a subset of the ground
model. LetH ,H ⊂Qbemutuallygenericfiltersmeetingtheconditionq. The
0 1
sets b˙/H ,b˙/H ∈ B must be distinct by the product forcing theorem. Since
0 1

142 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
thefirstoptionofDefinition6.4.2fails,itmustbethatb˙/H ∪b˙/H ∈/ K. Thus,
0 1
τ/H ∪b˙/H and τ/H ∪b˙/H are incompatible conditions in the poset P in
0 0 1 1
the respective models V[H ] and V[H ] contradicting the balance of the pair
0 1
(cid:104)Q,τ(cid:105).
Case 2. Q (cid:13) ∀b ∈ B τ ∪b is not a K-set. Let R and b˙ be a poset and a
name as in the claim. Note that Q×R(cid:13)τ∪b˙ is not a K-set by the Mostowski
absolutenes between the Q- and Q×R-extension. By passing to a condition
in Q and R if necessary, find a Q-name c˙ and a finite set d ⊂ A such that
Q(cid:13)c˙⊂τ,dˇ=c˙∩V, and Q×R(cid:13)c˙∪b˙ ∈/ K. Note that R(cid:13)dˇ∪b˙ ∈K. By the
modularity of the function f, Q×R(cid:13)f(d∪b˙)∩f(c˙\V)(cid:54)=0 holds, and by the
product forcing theorem, all elements in the intersection must be in the ground
model. Inparticular,theremustbeapointy ∈Y andaconditionq ∈Qforcing
yˇ∈f˙(c˙\V). LetH ,H ⊂Qbefiltersmutuallygenericoverthegroundmodel,
0 1
containing the condition q ∈ Q. Then y ∈ f(c˙/H \V)∩f(c˙/H \V) while
0 1
y ∈/ f(c˙/H ∩H˙ \V)=f(0)=0. The modularity of the function f shows that
0 1
c˙/H ∪c˙/H \V ∈/ K, in particular τ/H ,τ/H are incompatible conditions in
0 0 0 1
the poset P. This contradicts the balance of the pair (cid:104)Q,τ(cid:105).
(2) has just been proved. (3) is obvious. For the last sentence, assume that
the Continuum Hypothesis holds and let p ∈ P be an arbitrary condition. Let
(cid:104)B : α∈ω enumerateallBorelsubsetsofK. Byrecursiononα∈ω construct
α 1 1
(cid:83)
a descending chain of conditions p ∈P so that p =p, p = p for limit
α 0 α β∈α β
ordinalsα,andp containssomeelementofB asasubsetifsuchanextension
α+1 α
(cid:83)
of p exists at all. Then p is a strongly maximal K-set which by (1)
α α∈ω1 α
yields a balanced virtual condition stronger than p.
Thefollowingexamplesprovideseveralinterestingclassesofmodularcomplexes.
Example 6.4.5. Every locally countable Borel simplicial complex is modular.
Proof. Let K be a locally countable Borel simplicial complex on a Polish space
X. Consider the function f: K → (Γ
K
)ℵ0 defined by {c,d} ∈ f(a) just in case
either c ⊆ a or d ⊆ a. The values of the function f are countable sets by the
locally countable assumption on the simplicial complex; it is not difficult to see
thatthefunctionf isBorelinasuitablesense. Themonotonicityofthefunction
f is immediate; this leaves us with verifying the modularity of the function f.
Suppose that a,b ∈ K are finite sets. Suppose first that a ∪ b ∈ K and
{c,d}∈f(a)∩f(b);weneedtoshowthat{c,d}∈f(a)∩f(b). Bythedefinition
of the function f, either c ⊆ a or d ⊆ a, and c ⊆ b or d ⊆ b must hold. Now,
c ⊆ a and d ⊆ b is impossible since c∪d ∈/ K while a∪b ∈ K. For the same
reason, the conjunction d⊆a and c⊆b is impossible as well. This means that
one of c,d must be a subset of both a and b, so of a∩b. The definition of the
function f then shows that {c,d}∈f(a∩b) as required.
Now,supposethata∪b∈/ K;wemustfindanedge{c,d}∈f(a)∩f(b)which
does not belong to f(a∩b). To this end, find an inclusion-minimal set e⊂a∪b
such that e∈/ K, and let c=e∩a and d=e\a. The minimal choice of e shows
that {c,d} ∈ Γ . Since c ⊂ a and d ⊂ b, it is clear that {c,d} ∈ f(a)∩f(b).
K

6.4. MODULAR COMPLEXES 143
Since e (cid:54)⊂ a and e (cid:54)⊂ b, it follows that neither c nor d is a subset of a∩b, so
{c,d}∈/ f(a∩b) as required.
Many simplicial complexes that we consider, and in particular modular simpli-
cialcomplexes,areinfactmatroids. Forcompleteness,weincludethedefinition
of matroids and several basic facts.
Definition 6.4.6. [2, ChaptersVIandVII]AsimplicialcomplexK onasetX
is a matroid if for any sets a,b ∈ K, if |b| > |a| then there is a point x ∈ b\a
such that a∪{x}∈K.
It is immediate that for a Borel simplicial complex K on a Polish space X,
the statement that K is a matroid is coanalytic and therefore absolute among
transitive models of set theory. Matroid theory introduces several useful basic
notions that apply to every matroid. For a set a ⊂ X let rk(a) be the largest
cardinality of a set b⊂a such that b∈K, if such exists; otherwise rk(a)=∞.
For a set a ⊂ X let a¯ = {x ∈ X: rk(a) = rk(a∪{x})}. This is a closure
operation satisfying the properties from the following fact, which may serve as
an alternative definition of a matroid [2, 6.9].
Fact 6.4.7. Let K be a matroid on a set X and let a,b⊂X be finite sets. Then
1. a⊂a¯;
2. (idempotence) b⊆a¯ implies ¯b⊆a¯;
3. (exchange principle) if x∈a∪{y}\a¯ then y ∈a∪{x}.
The set X with the closure operation satisfying the above properties is a pre-
geometry. For a finite set a ⊂ X, a ∈ K just in case for any set b ⊂ a and any
point x ∈ a\b, x ∈/ ¯b holds–K is the complex of free sets of the pre-geometry.
The closed sets (the sets a⊂X such that a¯=a) form a lattice under inclusion;
the pre-geometry is modular if the lattice of its closed sets is modular. This
can be equivalently characterized by x ∈ a∪b iff there are points x ∈ a¯ and
a
x ∈ ¯b such that x ∈ {x ,x }. The pre-geometry is locally countable if the
b a b
closure of any finite set is countable. The following example justifies our choice
of terminology.
Example 6.4.8. Let K be a Borel matroid on a Polish space X whose pre-
geometry is locally countable and modular. Then K is a modular simplicial
complex and the closure operation is a modular function on K. Every maximal
K-set is strongly maximal.
Proof. Let f: K → [X]ℵ0 be the closure operation; it is immediate from its
definition that it is a Borel function. To verify the modularity of f, suppose
that a,b∈K are finite sets. Suppose first that f(a)∩f(b)(cid:54)=f(a∩b) and work
to show that a∪b is free. Let x ∈ X be a point in f(a)∩f(b) which is not in
f(a∩b). Let a(cid:48) ⊂a be inclusion minimal superset of a∩b such that x∈f(a(cid:48)).
Note that a(cid:48) (cid:54)⊂ a∩b, choose a point y ∈ a(cid:48)\(a∩b), and let a(cid:48)(cid:48) = a(cid:48)\{y}. By

144 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
the exchange property of the pre-geometry, it follows that y ∈f(a(cid:48)(cid:48)∪{x}). By
the monotonicity and idempotence of the pre-geometry, y ∈f(a(cid:48)(cid:48)∪b) and since
y ∈a∪b and y ∈/ a(cid:48)(cid:48)∪b, this means that a∪b∈/ K. This direction does not use
the modularity assumption on the pre-geometry.
Now suppose that a∪b∈/ K and work to show that f(a)∩f(b)(cid:54)=f(a∩b).
Letcbeaninclusionminimalsubsetofa∪bsuchthata∩b⊂c,cisfree,andfor
somex∈a∪b, c∪{x}isnotfree; pickthewitnessx. Firstarguethatx∈f(c).
Tothisend,letd⊂c∪{x}beminimalsuchthatthereisy ∈(c∪{x})\dwhich
is in f(d). If x ∈/ d then y must be equal to x by the freeness of the set c; and
if x∈d, then by the exchange property x∈f(d∪{y}\{x}), so x∈f(c) again.
Now, assume for definiteness that x∈b. Let a(cid:48) =c\b and b(cid:48) =c∩b. Since
x ∈ f(a(cid:48) ∪b(cid:48)), the modularity assumption on the pre-geometry yields points
x ∈ f(a(cid:48)) and x ∈ f(b(cid:48)) such that x ∈ f(x ,x ). Note that {x ,x } ∈ K: if
0 1 0 1 0 1
for example x ∈ f({x }), then by idempotence x ∈ f(a(cid:48)), by the exchange
1 0 1
property there would have to be some element z ∈ a(cid:48) such that z ∈ f({x }∪
1
(a(cid:48)\{z})), and by idempotence again z ∈f(c\{z}), contradicting the freeness
ofthesetc. Bythefreenessofthesetb,x∈/ f({x }). Bytheexchangeproperty
1
applied again, x ∈ f({x ,x}) ⊂ f(b). It follows that x ∈ f(a)∩f(b). At the
0 1 0
sametime,x ∈/ f(a∩b),sincethen(asa∩b⊂cholds)x ∈f(b(cid:48))andtherefore
0 0
x∈f(b(cid:48)), violating the freeness assumption on b.
ToshowthateverymaximalK-setisstronglymaximal,letA⊂X beamax-
imal K-set and let B ⊂K be a set. Let M be a countable elementary submodel
of a large structure containing B and A. If the third option of Definition 6.4.2
failsforB, theremustbeasetb∈B suchthat(M∩A)∪bisaK-set. Ifb∈M
then b ⊂ A by the maximality of A and the elementarity of the model M and
the second option of Definition 6.4.2 holds. Suppose then that b ∈/ M. By the
elementarityofthemodelM,theremustbeaseta∈B∩M suchthatb∩M ⊂a.
Weclaimthata∪b∈K,confirmingthefirstoptionofDefinition6.4.2. Suppose
towards a contradiction that this fails; by the exchange property, there have to
be sets a(cid:48) ⊂ a, M ∩b ⊂ b(cid:48) ⊂ b and a point x ∈ b\b(cid:48) such that x ∈ f(a(cid:48)∪b(cid:48)).
By the modularity, there have to be points y,z such that y ∈ f(a(cid:48)), z ∈ f(b(cid:48))
and x ∈ f(y,z). By the exchange property, y ∈ f(z,x) ⊂ f(b). At the same
time, y ∈M and so by the maximality of the set A and the elementarity of the
model M, there has to be d⊂A in the model M such that y ∈f(d). In total,
y ∈ f(b)∩f(d), by the initial assumption on the set b b∪d ∈ K holds, and by
themodularityofthefunctionf,y ∈f(b∩d)⊂f(b(cid:48)). Thenx∈f(y,z)⊂f(b(cid:48)),
contradicting the freeness of the set b.
Example 6.4.9. (A linear matroid) Let X be a Borel vector space over a
countable field, and let K be the matroid of finite linearly independent subsets
of X. The pre-geometry of K is well-known to be modular, so the simplicial
complex K is modular. Let P be the poset of countable linearly independent
sets. The balanced conditions in P are classified by bases of X over the field.
Oneimportantpointofthepresentsectionisthatthereareinterestingmatroids
modular in the sense of Definition 6.4.1 even though their pre-geometries are
not modular.

6.4. MODULAR COMPLEXES 145
Example6.4.10. (Agraphicmatroid)LetGbeaBorelgraphonaPolishspace
X. Let K be the simplicial complex on G consisting of finite acyclic subsets of
G. Then K is modular. Every maximal K-set is strongly maximal.
Proof. Consider the (non-Polishable) group Y of finite subsets of X with the
symmetric difference operation, viewed as a vector space over the binary field.
The simplicial complex L of linearly independent finite subsets of Y is modular
byExample6.4.8. ItiseasytoseethatKisjusttherestrictionofLtoG,where
every edge of G is viewed as a two-element subset of X. The modular function
for L restricted to L witnesses the modularity of K.
ToshowthateverymaximalK-setisstronglymaximal,letA⊂X beamax-
imal K-set and let B ⊂K be a set. Let M be a countable elementary submodel
of a large structure containing B and A. If the third option of Definition 6.4.2
fails for B, there must be a set b ∈ B such that (M ∩A)∪b is a K-set. If
b ∈ M then b ⊂ A by the maximality of A and the elementarity of the model
M and the second option of Definition 6.4.2 holds. Suppose then that b ∈/ M.
By the elementarity of the model M, there must be a set a∈B∩M such that
b∩M ⊂ a. We claim that a∪b ∈ K, confirming the first option of Defini-
tion 6.4.2. Suppose towards a contradiction that this fails, and let c⊂a∪b be
a cycle. The cycle has to contain some edges in b\M; let c(cid:48) ⊂c be a maximal
contiguous part of c containing only edges in b\M. The beginning and ending
vertex of c(cid:48) (denoted by v ,v respectively) must belong to M. Thus, v ,v are
0 1 0 1
connected by a G-path, they are also connected by A-path by the maximality
ofA,andsuchapathd⊂AmustbefoundinthemodelM bytheelementarity
of M. Then d∪c(cid:48) is a cycle in (M ∩A)∪b, contradicting the choice of the set
b.
Example 6.4.11. (Atransversalmatroid)LetX beaPolishspacepartitioned
into Borel sets B ,B , and let G be a Borel bipartite graph between B and
0 1 0
B . Let K be the matroid on G consisting of finite sets of edges in which no
1
two distinct edges share a vertex. Then K is modular. If every vertex in X has
uncountable degree, then a K-set A⊂G is maximal if and only if it is a perfect
matching.
Proof. To exhibit the modular function, let f(a) = {x ∈ X: there is an edge
e∈asuchthatxisoneofthetwoverticesofe}. Nowsupposethateveryvertex
in X has uncountable degree and proceed towards the classification of strongly
maximal sets. Let A⊂X be any K-set.
First, assume that A is strongly maximal. To see that A has to be a perfect
matching, for every vertex x ∈ X consider the set B = {{e}: x is one of the
x
vertices in e}. Consider the alternatives of Definition 6.4.2 for B . (1) fails and
x
(3)isimpossibleasthevertexxhasuncountabledegreeinG; therefore, (2)has
to hold, meaning that the set A contains an edge with the vertex x on it and so
A is a perfect matching.
Second, suppose that A is a perfect matching and B ⊂K is a Borel set. To
verify Definition 6.4.2 for A,B, let M be a countable elementary submodel of a
large structure containing G,A,B. If the third option of Definition 6.4.2 fails,

146 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
there must be b∈B such that (M ∩A)∪b is a matching. Let b(cid:48) =b∩M and
usetheelementarityofthemodelM tofinda∈B∩M suchthat b(cid:48) ⊂a. There
are several possibilities now. If a = b = b(cid:48) then a∪A is a matching by the
elementarity of M, and by the maximality of A, a ⊂ A and the option (2) has
beenverified. Ifa(cid:54)=banda∪bisamatching,thenoption(1)follows. Otherwise,
there has to be an edge e ∈b connecting some vertex x mentioned in a with a
0
vertex outside of M. Since A is a perfect matching and M is elementary, there
isanedgee ∈A∩M containingx; sincetheothervertexofe isinM,itmust
1 1
be the case that e (cid:54)= e and so (M ∩A)∪b is not a matching, contradicting
0 1
the choice of the set b.
Not every modular simplicial complex needs to be a matroid.
Example 6.4.12. Let X be a Polish space and let Γ be a Borel collection
of finite subsets of X. Let K be the simplicial complex on Γ consisting of
finite subsets of Γ which consist of pairwise disjoint sets. It is immediate that
(cid:83)
the simplicial complex K is modular, with the modular function f(a) = a.
The simplicial complex K is typically not a matroid: for example, if there are
points x ,x which are together contained in a single element of Γ and are also
0 1
contained in respective disjoint elements of Γ, then the definitory property of a
matroid immediately fails.
Finally,wepresentseveralexamplesofsimplicialcomplexeswhicharenotmod-
ular. To rule out the existence of a function with the modular property, we use
the following simple criterion:
(*) there are pairwise disjoint sets {a,b : α ∈ ω } in K such that for any
α 1
α,β ∈ω b ∪b ∈K holds and for every α∈ω , a∪b ∈/ K holds.
1 α β 1 α
Itisclearthatif(*)holds,thennofunctionf canhavethemodularityproperty:
the values of f(b ) for α∈ω would have to be pairwise disjoint in view of the
α 1
first demand in (*), and then there would have to be an ordinal α ∈ ω such
1
that f(a)∩f(b ) = 0, which violates the modularity property in view of the
α
second demand in (*).
Example6.4.13. (Analgebraicmatroid)LetX beanuncountablePolishfield,
and let K be the simplicial complex on X consisting of sets algebraically free
oversomecountablesubfieldF ⊂X. ThesimplicialcomplexKsatisfies(*)and
thereforeisnotmodular. Toseethis,letB ⊂X beanuncountablealgebraically
freeset,leta⊂B beanarbitrarysetofsize2,a={s,t},andforeachx∈B\a
letb ={x+s,xt}. Wewillshowthat{a,b : x∈X\a}exemplify(*). Clearly,
x x
for each x ∈ B\a, a∪b is not free. Also, for distinct elements x,y ∈ B\a,
x
the set b ∪b is free. To see that, it is enough to show that the field Q(b ,b )
x y x y
contains s,t,x,y and therefore has transcendence degree 4. To recover s,t,x,y
from b ∪b , write w = x−y and z = xy−1; both clearly belong to Q(b ,b ).
x y x y
Then the recovery follows from the string of equalities y =w(z−1)−1, x=zy,
t=(xt)x−1 and s=(x+s)−x. (This elegant argument was pointed out to us
by Peter Sin.)

6.4. MODULAR COMPLEXES 147
Example 6.4.14. (Agammoid)LetX beaPolishspace. LetKbethematroid
on finite subsets of X containing those finite sets a ⊂ [X]<ℵ0 which allow the
existenceofaninjectivefunctiong: a→X suchthat∀u∈af(u)∈u. Toverify
that (*) is satisfied, select pairwise distinct points y ,y and x for α ∈ ω of
0 1 α 1
the underlying space X, let a={{y },{y }} and b ={{y ,x },{y ,x }}.
0 1 α 0 α 1 α
Example 6.4.15. Let X be an uncountable Polish space and let K be the
simplicialcomplexon[X]2consistingofthosefinitesetsa⊂[X]2suchthatthere
is no set b∈[X]3 such that [b]2 ⊂a. The associated poset P adds a maximal
K
triangle-free graph on X. The simplicial complex K satisfies (*); therefore, it
is not modular. To see this, let x ,x ∈ X be any distinct points and let
0 1
a={{x ,x }}. For each z ∈X distinct from x ,x let b ={{x ,z},{x ,z}}.
0 1 0 1 z 0 1
It is easy to check that {a,b : z ∈X} exemplify (*).
z
Example6.4.16. LetX =P(ω)andletKbethesimplicialcomplexofallfinite
(cid:84)
sets a ⊂ X such that a is infinite. The associated poset P adds a Ramsey
K
ultrafilter. The simplicial complex K satisfies (*) and so is not modular. To see
this, let F be any filter on ω which is not generated by countably many sets.
Let a ⊂ ω be an infinite set such that the complement of a is in F, and let b
α
for α∈ω be pairwise distinct elements of F disjoint from a. It is not difficult
1
to verify that the sets {a},{b }: α∈ω exemplify (*).
α 1
The examples above are selected so that the associated poset P is always
K
balanced. Since the criterion (*) rules out an arbitrary modular function as
opposed to a Borel modular function, and in general the modular functions
seem to be very difficult to construct by transfinite recursion procedures, the
following question suggests itself:
Question6.4.17. IsthereaBorelsimplicialcomplexwhichpossessesamodular
function, but no Borel modular function?
Weconcludethissectionwiththebestgeneralresultontheexistenceofstrongly
maximal sets we can prove in ZFC.
Theorem 6.4.18. Let K be a Borel modular simplicial complex on a Polish
space X such that its modular function takes only finite values. Then every
countable K-set can be extended to a strongly maximal K-set.
Proof. LetC ⊂X beacountableK-set. Letf: K→[Y]<ℵ0 beaBorelmodular
function. Let κ be the cardinality of the continuum, and let {B : α∈κ} be an
α
enumeration of all Borel subsets of K. By recursion on α ∈ κ construct K-sets
C so that
α
• C =C ⊂C ⊂..., |C |=|α|+ℵ ;
0 1 α 0
• for every ordinal α, either there is a set b ∈ B such that b ⊂ C or
α α+1
there is a countable set c⊂C such that for no b∈B , c∪b is a K-set.
α α

148 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
(cid:83)
Toperformtherecursion,foralimitordinalαletC = C . Nowsuppose
α β∈α β
that the set C has been constructed and work to find C . Let M be a
α α+1
countable elementary submodel of a large structure containing C . If there is
α
no b∈B such that (C ∩M)∪b is a K-set, then let C =C and proceed
α α α+1 α
to the next ordinal. If, on the other hand, there is a set b ∈ B such that
α
(C ∩M)∪b is a K-set, we will work to produce a set a∈B such that C ∪a
α α α
is a K-set. Setting C =C ∪a will complete the recursion step in this case
α+1 α
as well.
Use Proposition 1.7.10 to find a perfect collection {H : z ∈2ω} of filters on
z
Coll(ω,<κ) pairwise mutually generic over the model M. The product forcing
theorem guarantees that for distinct points z ,z ∈2ω, M[H ]∩M[H ]=M.
0 1 z0 z1
Since the set C has size smaller than continuum, a counting argument shows
α
that there is a point z ∈2ω such that C ∩M[H ] and f(C )∩M[H ] are both
α z α z
subsets of M. Note that b∩M, f(b)∩M, and X ∩M are all sets in M[H ]
z
and use a Mostowski absoluteness argument for the model M[H ] to find a set
z
a∈B inthemodelM[H ]suchthata∩M =b∩M andf(a)∩M =f(b)∩M.
α z
We claim that C ∪a is a K-set as desired.
α
To see this, suppose that d⊂C is a finite set. Adding some points of C ∩M
α α
todifnecessary,wemayassumethatf(d)∩f(a)⊂f(d∩M)∩f(a). Thechoice
ofthepointz thenimpliesthatf(d)∩f(a)=f(d)∩f(a)∩M =f(d∩M)∩f(b).
Thelattersetisequaltof(d∩M∩b)since(d∩M)∪b∈K bytheinitialchoice
of b and the fact that f is a modular function. Finally, d∩M∩b=d∩a by the
choice of the point z again, and so f(d)∩f(a)=f(d∩a) and a∪d∈K by the
modularity of the function f.
(cid:83)
Once the recursion has been performed, let A = C and use the second
α α
item of the recursion demands to conclude that A ⊂ X is a strongly maximal
K-set extending C.
6.5 G matroids
δ
The final class of simplicial complexes investigated in this section deals with
complexes associated with pre-geometries of a form particularly simple from
the descriptive set theoretic view.
Definition6.5.1. AsimplicialcomplexKonaPolishspaceX isG ifitisaG
δ δ
subset of [X]<ℵ0, where the latter set is equipped with the topology inherited
from the hyperspace K(X) ofcompact subsetsof X with the Vietoris topology.
Theorem 6.5.2. Let K be a G matroid on a Polish space X. Write P =P .
δ K
1. If A⊂X is a maximal K-set, then the pair (cid:104)Coll(ω,A),Aˇ(cid:105) is balanced in
the poset P;
2. whenever(cid:104)Q,τ(cid:105)isabalancedpairinP thenthereisamaximalK-setsuch
that the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,A),Aˇ(cid:105) are equivalent;
3. distinct maximal K-sets yield inequivalent balanced pairs.

6.5. G MATROIDS 149
δ
In particular, the poset P is balanced.
Proof. For(1),supposethatR (cid:13)σ ⊂X isafinitesetsuchthatA∪σ isaK-
0 0 0
set,andsimilarlyforR ,σ ;wemustshowthatR ×R (cid:13)σ ∪σ ∈K. Suppose
1 1 0 1 0 1
towardsacontradictionthatthisfails;rearrangingthenamesσ ,σ andpassing
0 1
to a condition in R ,R if necessary, we may assume that there is a finite set
0 1
a⊂AandR (cid:13)σ ∩V =0andR (cid:13)σ ∩V =0andR ×R (cid:13)aˇ∪σ ∪σ ∈/ K.
0 0 1 1 0 1 0 1
Let M be a countable elementary submodel of a large enough structure,
containingallobjectsnamedsofar. LetR(cid:48) =M∩R ,σ(cid:48) =M∩σ ,R(cid:48) =M∩R
0 0 0 0 1 1
and σ(cid:48) = M ∩σ . Perhaps more precisely, σ(cid:48) is the name on R(cid:48) such that for
1 1 0 0
every basic open set O ⊂ K(X) and every condition r ∈ R(cid:48), if r (cid:13) σ ∈ O
0 R0 0
then r (cid:13) σ(cid:48) ∈ O; similarly for σ(cid:48). It is not difficult to see that σ(cid:48) is an
R(cid:48) 0 1 0
R(cid:48)-namefo 0 rafinitesubsetofX disjointfromthegroundmodel. Thefollowing
0
claim is key.
Claim 6.5.3. R(cid:48) (cid:13)Aˇ∪σ(cid:48) is a K-set.
0 0
Proof. Suppose towards a contradiction that this fails. Then there must be a
finite set b ⊂ A and a condition r ∈ R(cid:48) such that r (cid:13) ˇb ∪ σ(cid:48) ∈/ K. By
0 R(cid:48) 0
0
the complexity assumption on K, strengthening the condition r if necessary we
can find a closed set C ⊂ K(X) in the model M such that C ∩K = 0 and
r (cid:13)ˇb∪σ(cid:48) ∈C. Now, step out of the model M. The poset R forcesˇb∪σ ∈/ C;
0 0 0
thus, there is a basic open set O ⊂K(X) in the Vietoris topology disjoint from
C and a condition s ≤ r such that s (cid:13) ˇb∪σ ∈ O. The set O is of the form
R0 0
O ={K ∈K(X): K ⊂U and K∩V (cid:54)=0 for all i∈n} for some choice of basic
i
open sets U,V ⊂X and some number n∈ω. Let a={i∈n: b∩V =0}; then
i i
s (cid:13) σ ⊂ U and σ ∩V (cid:54)= 0 for all i ∈ a. By the elementarity of the model
0 0 i
M, there is a condition t ≤ r in M such that t (cid:13) σ ⊂ U and σ ∩V (cid:54)= 0
R0 0 0 i
for all i ∈ a; then t (cid:13) σ(cid:48) ⊂ U and σ ∩V (cid:54)= 0 for all i ∈ a, in other words
R(cid:48) 0 0 i
0
t(cid:13) ˇb∪σ(cid:48) ∈O. This contradicts the assumption that r (cid:13) ˇb∪σ(cid:48) ∈C.
R(cid:48) 0 R(cid:48) 0
0 0
Now, let H ⊂ R(cid:48) be a filter generic over the model M, in V. Let H ⊂ R(cid:48)
1 1 0 0
be a filter generic over V. By the product forcing theorem, the filters H ⊂R(cid:48)
0 0
and H ⊂ R(cid:48) are mutually generic over the model M. Write b = σ(cid:48)/H and
1 1 0 0 0
b = σ(cid:48)/H ; so b ∈ V. By the elementarity of the model M and the forcing
1 1 1 1
theorem applied in it to the poset R × R , M[H ,H ] |= a ∪ b ∈ K and
0 1 0 1 1
a ∪ b ∪ b ∈/ K. By the Mostowski absoluteness V[H ] |= a ∪ b ∈ K and
1 0 0 1
a∪b ∪b ∈/ K.
1 0
By the maximality of the initial set A⊂X, find a finite set c⊂A such that
a∪b isasubsetofthealgebraicclosureofc. Bytheclaim, c∪b ∈K. Findan
1 0
inclusionmaximalsetd⊂a∪b ∪b containinga∪b asasubsetandsuchthat
1 0 1
d∈K. Let x∈(a∪b ∪b )\d be an arbitrary point; clearly x∈b . Consider
1 0 0
the pre-geometry associated with the matroid K. Denote its closure operation
by algebraic closure to eliminate possible confusion with topological closure in
the space X. By the exchange property of the pre-geometry, x belongs to the
algebraic closure of d. By the idempotence of the pre-geometry, x belongs to

150 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
the algebraic closure of c∪(b ∩d). However, this contradicts the fact that
0
c∪b ∈K holds. (1) has just been proved.
0
For (2), let (cid:104)Q,τ(cid:105) be a balanced pair. Replacing Q with Q×Coll(ω,X) and
strengthening τ if necessary, we may assume that Q (cid:13) ∀x ∈ X ∩V x ∈ τ or
{x}∪τ is not a K-set. By a balance argument, for each x ∈ X it must be the
case that either Q (cid:13) xˇ ∈ τ or Q (cid:13) {xˇ}∪τ is not a K-set. Let A ⊂ X be the
set of those points x∈X for which the former case prevails. Since Q(cid:13)τ ≤Aˇ,
in view of (1) and Proposition 5.2.4 it will be enough to show that A⊂X is a
maximal K-set.
Certainly, A ⊂ X is a K-set since it is forced to be a subset of a K-set τ.
Now suppose that A ⊂ X is not maximal and pick a point x ∈/ A such that
A∪{x} is still a K-set. Passing to a condition of Q if necessary, we may find
a finite set a⊂A and a Q-name σ for a finite subset of τ such that Q forces xˇ
to belong to the algebraic closure of aˇ∪σ and not to belong to the closure of
any of its proper subsets. Let η be a Q-name for an inclusion-maximal subset
of a∪{x}∪σ which is in K and contains a∪{x}. It is not equal to a∪{x}∪σ,
and it contains every element of σ\η in its algebraic closure by the exchange
property of the pre-geometry. Let H ,H ⊂ Q be filters mutually generic over
0 1
V and write p =τ/H , b =σ/H , and c =η/H , and similarly for p ,b ,c .
0 0 0 0 0 0 1 1 1
It will be enough to show that a∪b ∪b ∈/ K, since this will contradict the
0 1
initial assumption of balance of the name τ and the resulting compatibility of
conditions p ,p ∈P.
0 1
Note that x belongs to the algebraic closure of a∪b . By the idempotence
0
of the pre-geometry, it follows that every element of the nonempty set b \c
1 1
belongs to the algebraic closure of a∪b ∪c . Since a∪b ∪c ⊂ a∪b ∪b ,
0 1 0 1 0 1
this shows that the latter set is not free and completes the proof of (2).
Finally, (3) is obvious. The last sentence of the theorem follows from a
straighforward application of Kuratowski–Zorn lemma–every K-set can be ex-
tended to a maximal K-set.
Example 6.5.4. [42] (An algebraic matroid) Let X be a Polish field over a
countable subfield F. Consider the Borel simplicial complex K of finite subsets
of X which are algebraically free over F. K is well-known to be generated by
the Borel pre-geometry of algebraic closure. Also, a finite set a ⊂ X is not in
K just in case it is a solution to a nontrivial polynomial with coefficients in F.
There are only countably many such polynomials and for each of them, the set
of solutions is F . Thus, the simplicial complex K is G and the poset P is
σ δ K
balanced by Theorem 6.5.2. The poset adds a transcendence basis to the field
X as the union of the generic filter.
6.6 Quotient variations
Many simplicial complex forcings are naturally connected with a Borel equiva-
lence relation.

6.6. QUOTIENT VARIATIONS 151
Definition 6.6.1. Let E be a Borel equivalence relation on a Polish space X.
ABorelsimplicialcomplexK onX isanE-quotient complex ifthemembership
of any finite set a⊂X in K depends only on [a] . The letter E is left out if E
E
is understood from the context or will be specified later.
In this section we identify two general schemas for defining useful quotient sim-
plicial complexes and their associated posets: collapse posets for quotient car-
dinals and uniformization posets for quotient spaces.
Definition6.6.2. LetE,F beBorelequivalencerelationsonPolishspacesX,Y
withuncountablymanyclasseseach. LetK =Kbethesimplicialcomplexon
E,F
theset(X×Y)∪Y consistingoffinitesetsasuchthatforall(cid:104)x ,y (cid:105),(cid:104)x ,y (cid:105)∈a,
0 0 1 1
x E x if and only if y F y holds, and for all (cid:104)x ,y (cid:105),y ∈ a, y F y fails.
1 0 1 0 0 0 2 0 2
Clearly, K is an (E ×F)∪F-quotient complex. The associated poset P is
K
referred to as the E,F-collapse poset.
IfA⊂(X×Y)∪Y isagenericset,thepartA∩(X×Y)isaninjectionfrom
X/E toY/F,whilethepartA∩Y isthecomplementoftherangeofA∩(X×Y).
The balanced conditions are neatly classified by injections from the virtual E-
quotient space X∗∗ to the virtual F-quotient space Y∗∗. If g: X∗∗ →Y∗∗ is an
injection, let τ be the Coll(ω,(cid:105) )-name for the set of those elements p ∈ P
g ω1 K
such that for each pair (cid:104)c,d(cid:105) ∈ g, there is a pair (cid:104)x,y(cid:105) ∈ p such that x ∈ X is
a realization of the virtual E-class c and y ∈ Y is a realization of the virtual
F-class d. Moreover, if d is a virtual F-class not in the range of g, then p is
requiredtocontainanelementy ∈Y whichisarealizationofthevirtualF-class
d.
Theorem 6.6.3. Let E,F be Borel equivalence relations on respective Polish
spaces X,Y. Let P be the E,F-collapse poset.
1. For every total injection g: X∗∗ → Y∗∗, the pair (cid:104)Coll(ω,(cid:105) ),τ (cid:105) is a
ω1 g
balanced P-pin;
2. for every balanced pair (cid:104)Q,τ(cid:105) there is a total injection g: X∗∗ →Y∗∗ such
the pair (cid:104)Coll(ω,(cid:105) ),τ (cid:105) is equivalent to (cid:104)Q,τ(cid:105);
ω1 g
3. distinct injections as in (1) yield inequivalent balanced conditions.
Proof. Write R = Coll(ω,(cid:105) ). For (1), the pair (cid:104)Coll(ω,(cid:105) ),τ (cid:105) is clearly a
ω1 ω1 g
P-pin. For the balance, let V[H ],V[H ] be mutually generic extensions of the
0 1
ground model and p ∈V[H ] and p ∈V[H ] be conditions in the analytic set
0 0 1 1
τ /H =τ /H ; we must show that p ,p ∈P are compatible.
g 0 g 1 0 1
To see this, suppose for example that (cid:104)x ,y (cid:105) ∈ p , (cid:104)x ,y (cid:105) ∈ p , and x E
0 0 0 1 1 1 0
x ; we must show that y E y . By a mutual genericity argument, the points
1 0 1
x ,x must be realizations of the same virtual E-class c in the ground model.
0 1
Sincebothp ,p areK-sets,thedefinitionofthenameτ showsthatbothy ,y
0 1 g 0 1
mustberealizationsofthevirtualF-classg(c)andthereforey F y asdesired.
0 1
Similarly, if (cid:104)x ,y (cid:105) ∈ p and y ∈ p , we need to show that y F y fails.
0 0 0 2 1 0 2
Suppose towards a contradiction that y F y holds. By a mutual genericity
0 2

152 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
argument, the points y ,y are representations of the same virtual F-class d
0 2
in the ground model. Now, if d ∈ rng(g) then p cannot be a K-set, and if
1
d ∈/ rng(g) then p cannot be a K-set. There are no other options, and this
0
contradiction completes the proof of (1).
For (2), let g: X∗∗ → Y∗∗ be the collection of all pairs (cid:104)c,d(cid:105) ∈ X∗∗×Y∗∗
so that R×Q (cid:13) (cid:104)x,y(cid:105) ∈ τ for some realizations x,y of the virtual classes c,d.
It will be enough to show that g is a total injection from X∗∗ to Y∗∗ and the
pair (cid:104)Q,τ(cid:105) is equivalent to (cid:104)R,τ (cid:105).
g
To see that dom(g)=X∗∗ and g is an injection, let c∈X∗∗ be an arbitrary
virtual E-class. Use the balance of the pair (cid:104)Q,τ(cid:105) to show that there must be
a unique virtual F-class d ∈ Y∗∗ such that R×Q (cid:13) (cid:104)x,y(cid:105) ∈ A˙ for some
gen
realizations x,y of the virtual classes c,d. Use the balance of the pair (cid:104)Q,τ(cid:105)
again to show that for every virtual F-class d ∈ Y∗∗, there either must be a
virtual E-class c ∈ X∗∗ such that R×Q (cid:13) (cid:104)x,y(cid:105) ∈ A˙ for some realizations
gen
x,y of the virtual classes c,d, or it must be the case that R×Q (cid:13) y ∈ τ for
some realization y of the virtual class d.
Toseethat(cid:104)R,τ (cid:105)isequivalentto(cid:104)Q,τ(cid:105), strengthenτ ifnecessarysoitisa
g
name for an actual element of P and notice that in the R×Q extension, τ ∈τ
g
holds. The equivalence then follows from Proposition 5.2.4.
Finally, (3) is obvious.
Corollary 6.6.4. Let E,F be Borel equivalence relations on respective Polish
spaces X,Y with uncountably many classes. The E,F-collapse poset is balanced
if and only if λ(E)≤λ(F).
Thecollapseposetsexemplifyanimportantphenomenon: aσ-closedSuslinforc-
ing whose balanced status cannot be decided in ZFC. There are Borel equiva-
lence relations E, F for which the status of the inequality λ(E)≤λ(F) cannot
be decided in ZFC (as can be seen for example from the combination of Corol-
laries 2.5.18 and 2.5.15) and for them the balanced status of the corresponding
collapse forcing is undecidable as well.
Definition 6.6.5. Let E ⊂F be Borel equivalence relations on a Polish space
X. Let K = K be the simplicial complex of all finite sets a ⊂ X such that
E,F
for x ,x ∈X, x E x is equivalent to x F x . Wewill referto the associated
0 1 0 1 0 1
poset P as the E,F-transversal poset.
K
ItisimmediatethatthesimplicialcomplexK isaBorelE-quotientcomplex.
E,F
The terminology comes from the examples below; the posets of this type are
used to uniformize various relations in products of quotient spaces. The first
order of business is to classify the balanced conditions. Call a total function
f from the F-quotient space to the virtual E-quotient space a virtual selection
function ifforeveryF-classcthefunctionalvaluef(c)isavirtualE-classwhich
is (forced to be) a subset of c. For a virtual selection function f let τ be the
f
Coll(ω,(cid:105) )-nameforthesetofallconditionspintheuniformizationposetsuch
ω1
that for each class c represented in the ground model, p contains some point
x∈X which is a realization of the virtual E-class f(c). It is not difficult to see
that the pair (cid:104)Coll(ω,(cid:105) ),τ (cid:105) is a P-pin.
ω1 f

6.6. QUOTIENT VARIATIONS 153
Theorem 6.6.6. Let E ⊂ F be Borel equivalence relations on a Polish space
X and suppose that F is pinned. Let P be the E,F-transversal poset. Then
1. for every virtual selection function f, the pair (cid:104)Coll(ω,(cid:105) ),τ (cid:105) is bal-
ω1 f
anced;
2. for every balanced pair (cid:104)Q,τ(cid:105) there is a virtual selection function f such
that the pairs (cid:104)Coll(ω,(cid:105) ),τ (cid:105) and (cid:104)Q,τ(cid:105) are equivalent;
ω1 f
3. distinct virtual selection functions yield nonequivalent balanced pairs.
In particular, the poset P is balanced.
Proof. To see (1), let V[H ] and V[H ] be mutually generic extensions of the
0 1
groundmodelandp ∈V[H ]andp ∈V[H ]beconditionsinthesetτ /H =
0 0 1 1 f 0
τ /H ; we have to show that p ,p ∈ P are compatible. To this end, suppose
f 1 0 1
thatx ∈p andx ∈p arepoints; wemustshowthatifx F x thenx E x
0 0 1 1 0 1 0 1
holds. A mutual genericity argument shows that x ,x are realizations of the
0 1
samevirtualF-classc. Bythedefinitionofthenameτ ,itmustbethecasethat
f
x ,x are both realizations of the virtual E-class f(c) and therefore E-related.
0 1
For (2), suppose that (cid:104)Q,τ(cid:105) is a balanced pair. To find the total function
f, let c be an F-class. There must be a virtual E-class f(c) such that Q (cid:13)
for some point x ∈ τ ∩c˙ x is a realization of f(c); otherwise, one could find
conditions q ,q ∈Q and names for strengthenings τ ,τ of τ and names x˙ ,x˙
0 1 0 1 0 1
for elements of c˙ such that (cid:104)q ,q (cid:105) (cid:13) ¬(x˙ ) F (x˙ ) . This would
0 1 Q×Q 0 left 1 right
violate the balance of the pair (cid:104)Q,τ(cid:105) as (cid:104)q ,q (cid:105) (cid:13) τ ,τ ∈ P are incompatible
0 1 0 1
conditions. Let f: c(cid:55)→d be the resulting function.
c
To see that (cid:104)R,τ (cid:105) is a balanced pair equivalent to (cid:104)Q,τ(cid:105), strengthen τ if
f
necessary to ensure that τ is a name for an actual element of P, and observe
that Q×Coll(ω,(cid:105) )(cid:13)τ ∈τ . The equivalence of the two balanced pairs then
ω1 f
follows from Proposition 5.2.4.
Finally,(3)isobvious. ThebalanceoftheposetP isnowatrivialapplication
of the Axiom of Choice: every condition p ∈ P can be extended to a maximal
set A ⊂ X such that E (cid:22) A = F (cid:22) A. Let f be the function which to each
F-class c assigns the E-class c∩A, and observe that the pair (cid:104)Coll(ω,(cid:105) ),τ (cid:105)
ω1 f
is balanced by (1) and is below p.
Corollary 6.6.7. Let E ⊂ F be Borel equivalence relations on a Polish space
X such that F is pinned. Let P be the E,F-uniformization poset. Then P is
balanced.
Example 6.6.8. A poset introducing a transversal to a pinned Borel equiva-
lence relation F on a Polish space X. Just let E be the identity on the space
X and consider the E,F-transversal poset. The generic set is an F-transversal.
By Theorem 6.6.6, the balanced conditions are classified by F-transversals.
Example 6.6.9. Aposetintroducingacompletecountablesectiontoapinned
Borel equivalence relation G on a Polish space Y. Let X =Yω and let B ⊂X

154 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
betheBorelsetofallelementsx∈X whoserangeconsistsofpairwiseG-related
points. Let F be the Borel equivalence relation on X connecting points x ,x
0 1
if either they are equal or else they are both in B and their ranges are subsets
of the same G-class. Let E = F ∩F. It is not difficult to check that E ⊂ F
2
are Borel equivalence relations on X and F is pinned. Consider the associated
E,F-transversal poset. The generic set is a countable complete section of the
relationE. InviewofthefactthatvirtualF -classesareclassifiedbynonempty
2
subsets of Y, Theorem 6.6.6 says that the balanced conditions are classified by
arbitrary sets A⊂Y which have nonempty intersection with every G-class.
Numerous examples of uniformization posets arise in the context of countable
Borel equivalence relations. If E is a countable Borel equivalence relation on
a Polish space Y and P is a poset adding a choice of a structure of some type
oneachE-classwithcountableapproximations, thenP canberepresentedasa
transversal poset in the sense of Definition 6.6.5. The following example spells
out the details.
Example 6.6.10. Let G be a countable Borel equivalence relation on a Polish
space Y with all equivalence classes infinite. Let P be the poset of all count-
able functions on the G-quotient space assigning to each equivalence class a
Z-ordering on it; the poset P serves to introduce a (discontinuous) Z-action on
Y such that G is its orbit equivalence relation. It is not difficult to cast P as a
transversalposetinthesenseofDefinition6.6.5. LetX =(Y2)ω andletB ⊂X
be the Borel set of all elements x ∈ X which enumerate a linear ordering of a
whole single G-class of ordertype Z. Let F be the equivalence relations on X
connecting points x ,x ∈ X if either they are equal or else they both belong
0 1
to B and enumerate a linear ordering of the same G-class. Let E =F ∩F. It
2
is not difficult to check that both E,F are pinned Borel equivalence relations.
Consider the associated E,F-transversal poset. The generic set selects one Z-
typeorderingforeachG-class. Theorem6.6.6saysthatthebalancedconditions
are classified by all functions f assigning each G-class a linear ordering of its
elements isomorphic to Z.
Example 6.6.11. Let X = ((2ω)ω)2 and consider the Borel set B ⊂ X con-
sisting of all pairs (cid:104)y ,y (cid:105) ∈ X such that rng(x )∩rng(x ) = 0. Let F be
0 1 0 1
the equivalence relation connecting points (cid:104)y ,y (cid:105) and (cid:104)z ,z (cid:105) if they are either
0 1 0 1
equal or both in B and y F z . Let E be the equivalence relation F ×F
0 2 0 2 2
intersected with F. The resulting E,F-transversal poset is designed to add a
functionassigningtoeachnonemptycountablesetasinglenonemptycountable
set disjoint from it. However, the equivalence relation F is not pinned and so
Theorem6.6.6doesnotapplytoshowthattheuniformizationposetisbalanced.
Indeed, in ZF one can prove that existence of a maximal K -set implies the
E,F
existenceofanω -sequenceofpairwisedistinctE-classes. Toseethis,letA⊂X
1
besuchamaximalset,supposec ⊂2ω isanarbitrarynonemptycountableset,
0
andbytransfiniterecursiononα∈ω definec astheuniquenonemptycount-
1 α
(cid:83)
able set such that for some enumerations y of c and y of c it is the
0 β∈α β 1 α
case that (cid:104)y ,y ∈ B. It is clear that the sets c for α ∈ ω are nonempty and
0 1 α 1

6.6. QUOTIENT VARIATIONS 155
pairwise disjoint and therefore distinct. Finally, note (Theorem 9.1.1) that in
balanced extensions of the symmetric Solovay model there are no uncountable
sequences of distinct equivalence classes of Borel equivalence relations such as
F .
2
IfthelargerequivalencerelationF inDefinition6.6.5isnotpinned,thecircum-
stances must be quite peculiar for the E,F-transversal poset to be balanced.
One class of examples of this type is captured by the following theorem. For
Borel equivalence relations E ⊂ F on a Polish space X write X∗∗, X∗∗ to be
E F
their respective virtual quotient spaces. A function f: X∗∗ → X∗∗ is a virtual
F E
E,F-selection function if for every virtual F-class c, the virtual E-class f(c)
is forced to be a subset of c. For each E,F-selection function f let τ be the
f
Coll(ω,(cid:105) )-name for the set of all countable subsets a⊂X such that for each
ω1
virtual F-class c, a contains a realization of the virtual E-class f(c).
Theorem 6.6.12. Let E ⊂F be Borel equivalence relations on a Polish space
X such that each F-class consists of countably many E-classes. Let P be the
E,F-transversal poset. Then
1. foreveryvirtualE,F-selectionfunctionf: X∗∗ →X∗∗,thepair(cid:104)Coll(ω,(cid:105) ),τ (cid:105)
F E ω1 f
is balanced;
2. for every balanced pair (cid:104)Q,τ(cid:105) there is a virtual selection function f such
that the balanced pairs (cid:104)Q,τ(cid:105), (cid:104)Coll(ω,(cid:105) ),τ (cid:105) are equivalent;
ω1 f
3. distinct virtual selection functions yield nonequivalent balanced pairs.
In particular, the poset P is balanced.
Proof. The argument hinges on a simple claim of independent merit:
Claim 6.6.13. Let V[H] be a generic extension of V, and in V[H] let c be an
F-class which is a realization of a ground model virtual F-class. Then c is a
union of realizations of ground model virtual E-classes.
Proof. Supposetowardsacontradictionthatthisfails. TheninV therehastobe
aposetP andaP-nameτ foranelementofthespaceX suchthatτ isF-pinned,
but below no condition of P, τ is E-pinned. Let M be a countable elementary
submodelofalargestructurecontainingE,F,P,τ anduseProposition1.7.10to
find a perfect collection {g : y ∈2ω} of filters on P ∩M mutually generic over
y
M. Let x = τ/g ∈ X. For distinct binary sequences y,z ∈ 2ω, M[g ,g ] |=
y y y z
x F x and ¬x E x by the forcing theorem applied in M. By the Mostowski
y z y z
absoluteness for the model M[g ,g ], it follows that x F x and ¬x E x
y z y z y z
holds in V. However, this means that the unique F-class of the points x for
y
y ∈ 2ω contains perfectly many pairwise E-unrelated points, contradicting the
initial assumptions on the equivalence relations E,F.
Now, for (1) suppose that V[H ],V[H ] are mutually generic extensions con-
0 1
tainingrespectiveconditionsp ,p belowτ ; wemustshowthatp ,p arecom-
0 1 f 0 1
patible. This is to say, p ∪p is a K -set; in other words, if x ∈ p and
0 1 E,F 0 0

156 CHAPTER 6. SIMPLICIAL COMPLEX FORCINGS
x ∈ p are F-related points then they are in fact E-related. To see this, by
1 1
a mutual genericity argument x ,x are realizations of some virtual F-class c;
0 1
by the definition of the virtual condition τ , they must be realizations of the
f
virtual E-class f(c) and therefore must be F-related.
For (2), first use a balance argument and Claim 6.6.13 to argue that for
each virtual F-class c there must be a unique virtual E-class d which is forced
to be a subclass of c and such that Q (cid:13) τ contains a realization of d. Let
f: X∗∗ →X∗∗ bethefunctionrecordingthecorrespondencec(cid:55)→dandobserve
F E
that Q × Coll(ω,(cid:105) ) (cid:13) τ ≤ τ holds. (2) then follows by a reference to
ω1 f
Proposition 5.2.4.
Finally, (3) is obvious. The balance of the poset P follows from the axiom
of choice: every condition p∈P can be extended to a virtual selection function
by virtua of Claim 6.6.13.
Example 6.6.14. Let Γ be a Borel graph on a Polish space X which contains
no odd length cycles such that the G-path connectedness equivalence relation
F on X is Borel. We wish to add a 2-coloring of the graph Γ. To this end,
let E be the Borel equivalence relation on X relating x to y if x E y holds
and some (equivalently, every) Γ-path from x to y is of even length. It is clear
thateveryF-classconsistsofexactlytwoE-classes. TheE,F-transversalposet
selectsexactlyoneE-classfromeachF-classandthereforeaddsabipartization
of the graph Γ. The balanced conditions are classified by functions which select
exactly one virtual E-class from each virtual F-class.
Example6.6.15. LetF betheF -equivalencerelationonthespaceX =(2ω)ω.
2
LetE betheequivalencerelationonX connectingpointsx andx ifrng(x )=
0 1 0
rng(x ) and x (0) = x (0). Clearly, every F-class consists of only countably
1 0 1
many E-classes. An E,F-transversal can be viewed as a function which selects
a single element from each nonempty countable subset of 2ω. It is instructive
to inspect the balanced virtual conditions provided by Theorem 6.6.12. An
inspection reveals that a balanced virtual condition is a function which to each
nonempty subset of X assigns one of its elements, i.e. a selection function on
P(X). In consequence, the existence of balanced conditions for P is in ZF
equivalent to the statement that the space 2ω can be well-ordered.

Chapter 7
Ultrafilter forcings
Many applications of the axiom of choice rely on nonprincipal ultrafilters on
ω and their combinatorial properties. In this section, we will show that in
several cases, natural attempts to add an ultrafilter result in balanced forcings
and moreover the resulting generic ultrafilter can be characterized in a simple
way. The following definition and proposition will play a central role in several
arguments.
Definition 7.0.1. Let U be a nonprincipal ultrafilter on a set dom(U). An
infinite set a ⊂ dom(U) in some forcing extension diagonalizes U if for every
b∈U, a\b is finite.
Proposition 7.0.2. Let U be a nonprincipal ultrafilter on dom(U). Suppose
that Q ,Q are posets and τ ,τ are respective names for infinite subsets of
0 1 0 1
dom(U) which diagonalize U. Then Q ×Q (cid:13)τ ∩τ is infinite.
0 1 0 1
Proof. ThemostappealingargumentusesthegeneralProposition1.7.8onprod-
uct forcing extensions. Let H ,H ⊂Q ,Q be mutually generic filters and let
0 1 0 1
a = τ /H and a = τ /H . Suppose towards a contradiction that the inter-
0 0 0 1 1 1
section a ∩a is finite. By Proposition 1.7.8, there are sets b ,b ⊂dom(U) in
0 1 0 1
the ground model such that a ⊂b , a ⊂b , and b ∩b is finite. At most one
0 0 1 1 0 1
of the sets b ,b belongs to the ultrafilter U. If, say, b ∈/ U, then ω\b ∈ U,
0 1 0 0
violating the assumption that a diagonalizes the ultrafilter U.
0
7.1 A Ramsey ultrafilter
ThemostelementaryattemptataddinganonprincipalultrafilteristheposetP
ofinfinitesubsetsofω orderedbyinclusion. Here, theclassificationofbalanced
conditions is particularly appealing and simple.
Definition 7.1.1. Let U be a nonprincipal ultrafilter on ω. The symbol τ
U
denotes the Coll(ω,U)-name for the analytic collection of all infinite sets a⊂ω
which diagonalize the ultrafilter U.
157

158 CHAPTER 7. ULTRAFILTER FORCINGS
Theorem 7.1.2. Let P be the partial order of infinite subsets of ω, ordered by
inclusion.
1. The pair (cid:104)Coll(ω,U),τ (cid:105) is a balanced virtual condition for P for every
U
nonprincipal ultrafilter U on ω;
2. If (cid:104)Q,τ(cid:105) is a balanced pair for P, then there is a nonprincipal ultrafilter
U such that (cid:104)Q,τ(cid:105) is equivalent to (cid:104)Coll(ω,U),τ (cid:105);
U
3. distinct nonprincipal ultrafilters yield inequivalent balanced virtual condi-
tions.
In particular, the poset P is balanced.
Proof. For (1), note that the pair in fact is a virtual condition: in Coll(ω,U),
the set U is countable and so τ is an analytic subset of P, and the evaluation
U
ofτ doesnotdependontheparticulargenericfilteronthecollapseposet. The
U
balance of the pair follows immediately from Proposition 7.0.2 applied to U.
For (2), first use the balance of the name τ to note that for every set a⊂ω,
it must be the case that either Q (cid:13) τ ⊂ aˇ up to a finite set, or Q (cid:13) τ ∩aˇ is
finite. Let U be the set of all a ⊂ ω for which the first option occurs. It is
immediate that U is a nonprincipal ultrafilter on ω. The equivalence of (cid:104)Q,τ(cid:105)
with (cid:104)Coll(ω,U),τ (cid:105) is immediately clear from Proposition 7.0.2.
U
For (3), not that if U ,U are distinct ultrafilters on ω then there is a set
0 1
a⊂ω such that a∈U and ω\a∈U . Thus the balanced names τ and τ
0 1 U0 U1
representincompatiblevirtualconditionsastheformerisbelowaandtheother
is below ω\a.
To prove the last sentence of the theorem, for any infinite set a⊂ω there is
a nonprincipal ultrafilter U containing a as an element. A reference to item (1)
then completes the argument.
7.2 Fubini powers of the Fr´echet ideal
The most natural attempt to force an ultrafilter which is not a P-point with a
σ-closed subset is encapsulated in the following definition.
Definition 7.2.1. For the duration of this section, write I to be the ideal on
ω×ω which is the Fubini product of the Fr´echet ideal on ω with itself. That
is, a set a ⊂ ω×ω belongs to the ideal I just in case a has only finitely many
infinite vertical sections. The Fin×Fin poset P isthe partial order of I-positive
sets, ordered by q ≤p if q\p∈I.
It is not difficult to see that P is a σ-closed forcing; the sets in the generic
filter on P form an ultrafilter disjoint from I. This ultrafilter, by virtue of the
partition of the domain set ω ×ω into the I-small vertical sections such that
everytransversalisagaininI,isnotaP-point;itsrichcombinatorialproperties
were investigated for example in [11, 89].

7.2. FUBINI POWERS OF THE FRE´CHET IDEAL 159
ItturnsoutthattheposetP isbalanced,andthebalancedvirtualconditions
allowasimpleclassification. Letω∗ bethesetofallnonprincipalultrafilterson
ω. Let W be an ultrafilter on the set ω×ω∗ which contains no set n×ω∗ for
any number n ∈ ω. Write τ for the name on Coll(ω,P(ω×ω∗)) for the set
W
of all conditions p ∈ P such that there is a set {(cid:104)n ,U (cid:105): i ∈ ω} ⊂ (ω×ω∗)V
i i
diagonalizing the ultrafilter W, the numbers n for i ∈ ω are pairwise distinct,
i
and the set p ⊂ ω ×ω has the following property: only the vertical sections
p for some i ∈ ω are nonempty, and each vertical section p is infinite and
ni ni
diagonalizes the ultrafilter U .
i
Theorem 7.2.2. Let P be the Fin×Fin poset.
1. For every ultrafilter W on the set ω ×ω∗ containing no set n×ω∗ for
n∈ω, the pair (cid:104)Coll(ω,P(ω×ω∗)),τ (cid:105) is balanced in P;
W
2. for every balanced pair (cid:104)Q,σ(cid:105) there is an ultrafilter W on the set ω×ω∗,
containing no set n×ω∗ for n ∈ ω, such that the balanced pairs (cid:104)Q,σ(cid:105)
and (cid:104)Coll(ω,P(ω×ω∗)),τ (cid:105) are equivalent;
W
3. distinct ultrafilters give rise to inequivalent balanced conditions.
In particular, the poset P is balanced.
Proof. Towards (1), suppose that V[H ],V[H ] are mutually generic exten-
0 1
sions containing respective sets p ,p ⊂ ω ×ω such that there are sets a =
0 1 0
{(cid:104)n0,U0(cid:105): i ∈ ω} and a = {(cid:104)n1,U1(cid:105): i ∈ ω} in the respective models which
i i 1 i i
diagonalize the ultrafilter W, and the vertical sections (p ) diagonalize the
0 n0
i
ultrafilterU0 foralli∈ω,andtheverticalsections(p ) diagonalizetheultra-
i 1 n1
i
filterU1foralli∈ωaswell. Itwillbeenoughtoshowthatp ,p arecompatible
i 0 1
in the poset P; i.e. the set p ∩p has infinitely many infinite vertical sections.
0 1
To this end, use Proposition 7.0.2 for the sets a ,a and the ultrafilter W
0 1
to see that a ∩a is infinite. This means, that the set b={n∈ω: ∃U (cid:104)n,U(cid:105)∈
0 1
a ∩a } is infinite. For each number n ∈ b, the vertical sections (p ) and
0 1 0 n
(p ) diagonalize the same ultrafilter U on ω for which (cid:104)n,U(cid:105) ∈ a ∩a holds.
1 n 0 1
By another application of Proposition 7.0.2, the set (p ) ∩(p ) is infinite. It
0 n 1 n
follows that p ∩p ∈/ I as desired.
0 1
Towards(2),strengthenσifnecessarysothatσisanameforanactualsingle
condition in the poset P as opposed to an analytic set of conditions. Replacing
Q with a poset collapsing the cardinality of P(ω)V to ℵ and strengthening the
0
name σ if necessary we may assume that Q forces that for every n ∈ ω, if the
vertical section σ is infinite, then for every set a ⊂ ω in the ground model,
n
either σ ⊂ a or σ ∩a = 0 modulo finite. Let U˙ be the name for the set of
n n n
all sets a ⊂ ω in the ground model for which the former alternative prevails;
defineU˙ =0iftheverticalsectionσ isfinite. PassingtoaconditioninQand
n n
strengthening σ again, we may assume that either Q forces that for all n ∈ ω
such that σ is infinite U˙ ∈/ V holds, or Q forces that for all n ∈ ω such that
n n
σ is infinite U˙ ∈V holds.
n n

160 CHAPTER 7. ULTRAFILTER FORCINGS
Now, the former alternative is impossible as it contradicts the balance of
the pair (cid:104)Q,τ(cid:105). To see this, let H ,H ⊂ Q be mutually generic filters and
0 1
let p = σ/H and p = σ/H . To reach the contradiction, we will show that
0 0 1 1
all vertical sections of p ∩p are finite. Suppose not, and let n ∈ ω be such
0 1
that (p ) ∩(p ) is infinite. Then U˙ /H = U˙ /H , which by the product
0 n 1 n n 0 n 1
forcing theorem implies that U˙ /H ∈ V and violates the former alternative
n 0
assumption.
Thus,thelatteralternativeprevails,andthesetη ={(cid:104)n,U˙ (cid:105): σ isinfinite}
n n
is forced to be a subset of (ω×ω∗)V. Strengthening σ again, we may assume
that Q forces that for every set b⊂ω×ω∗ in the ground model, either η ⊂b or
η∩b=0 modulo finite.
Claim 7.2.3. For every set b ⊂ ω ×ω∗, either Q (cid:13) η ⊂ ˇb modulo finite, or
Q(cid:13)η∩ˇb is finite.
Proof. Suppose towards a contradiction that the conclusion fails for some set
b ⊂ ω × ω∗. Then, there must be conditions q ,q ∈ Q forcing the former
0 1
and latter alternative respectively. Let H ,H ⊂ Q be mutually generic filters
0 1
containingtheconditionsq ,q respectively. Writep =σ/H andp =σ /H ;
0 1 0 0 1 1 1
we will reach a contradiction by showing that all but finitely many vertical
sections of the set p ∩p are finite, violating the balance assumption on σ.
0 1
Write c = η/H and c = η/H . By the contradictory assumption, the
0 0 1 1
intersection c ∩c is finite. Let n∈ω be a natural number which is not in the
0 1
finite projection of the set c ∩c to ω; we will show that (p ∩p ) is finite.
0 1 0 1 n
Either (p ) or (p ) are finite sets, in which case we are done, or both (p )
0 n 1 n 0 n
and(p ) areinfinite. Inthelattercase,thereareultrafiltersU ,U onω inthe
1 n 0 1
groundmodelsuchthat(cid:104)n,U (cid:105)∈c and(cid:104)n,U (cid:105)∈c . Sincethenumbernisnot
0 0 1 1
in the projection of c ∩c to ω, the ultrafilters U ,U must be distinct. Since
0 1 0 1
(p ) diagonalizes U and (p ) diagonalizes U , the intersection (p ) ∩(p )
0 n 0 1 n 1 0 n 1 n
must be finite in this case as well.
Let W be the set of all subsets of b ⊂ ω×ω∗ for which Q (cid:13) η ⊂ˇb modulo
finite; by the claim, this is an ultrafilter on ω×ω∗. The definitions show that
Coll(ω,P(ω × ω∗)) × Q (cid:13) σ ∈ τ . Then, Proposition 5.2.4 shows that the
F
balanced pairs (cid:104)Q,σ(cid:105) and (cid:104)Coll(ω,P(ω×ω∗)) are equivalent as desired.
Item (3) is immediate. For the last sentence, suppose that p ∈ P is a
condition. Let a={n∈ω: p is infinite}; the set a is infinite. For each n∈ω
n
letU beanonprincipalultrafilteronω containingp asanelement. LetW be
n n
a nonprincipal ultrafilter on the set ω×ω∗ containing the set {(cid:104)n,U (cid:105): n∈a}.
n
Itisnotdifficulttoseethatthebalancedpair(cid:104)Coll(ω,P(ω×ω∗)),τ (cid:105)isbelow
W
the condition p, proving the balance of the poset P.
7.3 Ramsey sequences of structures
There is a family of forcings present in several papers concerning the Rudin–
KeislerorderonultrafilterswithstrongRamsey-typeproperties[23]. Thefamily

7.3. RAMSEY SEQUENCES OF STRUCTURES 161
isparametrizedbysequencesofstructurestiedbyapartitionpropertyasinthe
following definition.
Definition 7.3.1. A Ramsey sequence of finite structures is a sequence A =
(cid:104)A : n ∈ ω(cid:105) of finite structures in the same language, with pairwise disjoint
n
domains, such that
1. foreverynaturalnumbern∈ω,A containsanisomorphiccopyofA ;
n+1 n
2. for every k < n ∈ ω there is m > n such that the structural Ramsey
property A →(A )Ak holds.
m n 2
For each Ramsey sequence A=(cid:104)A : n∈ω(cid:105) of finite structures, we will use the
n
(cid:83)
following notation. dom(A) stands for dom(A ). Given a number n ∈ ω,
n n
the symbol D stands for the set of all finite sets d such that for some m ∈ ω,
n
d⊂dom(A ) and A (cid:22)d is isomorphic to A . For every set p⊂dom(A), the
m m n
symbol pAn stands for P(p)∩D
n
. Each Ramsey sequence of finite structures
has a natural σ-closed poset associated to it.
Definition 7.3.2. Let A=(cid:104)A : n∈ω(cid:105) be a Ramsey sequence of finite struc-
n
tures. LetP
A
denotetheposetofallsetsp⊂dom(A)suchthatpAn isnonempty
for each n∈ω. The ordering is defined by q ≤p if q ⊆p modulo finite.
It is not difficult to use the Ramsey property of the sequence A to see that
a generic filter on P is in fact an ultrafilter on dom(A); the combinatorial
A
properties of this generic ultrafilter are the reason for the study of these posets
in[8]. TheposetsoftheformP arebalanced. Thebalancedvirtualconditions
A
are parametrized by sequences of ultrafilters as opposed to single ultrafilters in
the case of P(ω) modulo finite.
Definition 7.3.3. Let A=(cid:104)A : n∈ω(cid:105) be a Ramsey sequence of finite struc-
n
tures. An A-sequence of filters is a sequence (cid:104)F : n∈ω(cid:105) such that
n
1. for every number n∈ω, F is a filter on the set D ;
n n
2. for all numbers n,m ∈ ω and every selection (cid:104)a : i ∈ n(cid:105) of sets in the
i
respective filters F
i
for i ∈ n, there is a set d ∈ D
m
such that dAi ⊂ a
i
holds for all i∈n.
WheneverF =(cid:104)F : n∈ω(cid:105)isanA-sequenceofultrafilters,definetheColl(ω,2ω)-
n
name τ for the set of all conditions p∈P such that for every n∈ω and every
F
set a∈F
n
, pAn ⊂a modulo finite.
Theorem 7.3.4. Let A = (cid:104)A : n ∈ ω(cid:105) be a Ramsey sequence of finite struc-
n
tures.
1. ForeveryA-sequenceF ofultrafilters,thepair(cid:104)Coll(ω,2ω),τ (cid:105)isbalanced
F
in the poset P ;
A

162 CHAPTER 7. ULTRAFILTER FORCINGS
2. for every balanced pair (cid:104)Q,σ(cid:105) there is a A-sequence F of ultrafilters such
that the balanced pairs (cid:104)Q,σ(cid:105) and (cid:104)Coll(ω,2ω),τ (cid:105) are equivalent;
F
3. distinct A-sequences of ultrafilters yield inequivalent balanced pairs.
In particular, the poset P is balanced.
A
Proof. Write P = P . For the first item, it is necessary to argue that in
A
fact Coll(ω,τ ) (cid:13) τ (cid:54)= 0. To see this, work in the Coll(ω,2ω) extension,
F F
for each number n ∈ ω let D = dom(F ) and fix an enumeration (cid:104)ai : i ∈ ω(cid:105)
n n n
of all elements of F . By induction on n ∈ ω, repeatedly using item (2) of
n
Definition 7.3.3 build sets d n ∈ D n such that for every i ∈ n the set dA n i is
a subset of (cid:84) aj. It is immediate that the condition p = (cid:83) d ∈ P is an
j∈n i n n
element of τ .
F
For the balance, suppose that R ,R are posets and σ ,σ are their respec-
0 1 0 1
tive names for conditions in P such that R forces that for every n ∈ ω and
0
every set a ∈ F , σAn ⊂ a modulo finite holds, and similarly for R ,σ . We
n 0 1 1
have to show that R ×R forces the conditions σ ,σ to be compatible in P,
0 1 0 1
which is the same as to say that R ×R forces the intersection σ ∩σ to
0 1 0 1
contain a copy of A for every number n ∈ ω. To this end, note that the sets
n
σAn and σAn are forced to diagonalize the ultrafilter F . By Proposition 7.0.2,
0 1 n
their intersection is forced to be infinite, in particular nonempty.
For the second item, we use a simple claim.
Claim 7.3.5. Let p∈P be a condition, n∈ω be a number, and let a⊂D be
n
a set. Then there is q ≤p such that either qAn ⊂a or qAn ∩a=0.
Proof. For each k ∈ ω find a number m ∈ ω such that A → (A )An. Find
k mk k 2
pairwise disjoint finite sets d ⊂ p in D for each k ∈ ω. Use the partition
k mk
propertytofindsetsd(cid:48)
k
⊂d
k
suchthatd(cid:48)
k
∈D
k
and(d(cid:48)
k
)An iseitherasubsetof
a or disjoint from a. One of the options prevails for infinitely many numbers k.
For definiteness, assume that the set b = {k ∈ ω: (d(cid:48))An ⊂ a} is infinite. Let
k
q = (cid:83) d(cid:48) and observe that q ≤p works.
k∈b k
Now let (cid:104)Q,σ(cid:105) be a balanced pair. Replacing Q with Q × Coll(ω,2ω) and
repeatedlystrengtheningpusingtheclaim,wemayassumethatforeveryn∈ω
and every set a ⊂ D
n
, σAn is forced to be either a subset of a or disjoint
from a modulo finite. By a balance argument, it must be the case that either
Q (cid:13) σAn ⊂ aˇ modulo finite, or Q (cid:13) σAn ∩aˇ = 0 modulo finite. Let F
n
be the
collection of all sets a ⊂ D for which the former option prevails. It is clear
n
that F is an ultrafilter and that F = (cid:104)F : n ∈ ω(cid:105) is an A-sequence. Since
n n
Q×Coll(ω,2ω)(cid:13)σ ∈τ , by the firstitem and Proposition5.2.4 it must be the
F
casethatthebalancedpairs(cid:104)Q,σ(cid:105)and(cid:104)Coll(ω,2ω),τ (cid:105)areequivalentbalanced
F
pairs.
The third item is immediate. The last sentence of the theorem is not an
entirely formal consequence of the previous work. It needs the following appli-
cation of the axiom of choice.

7.3. RAMSEY SEQUENCES OF STRUCTURES 163
Claim 7.3.6. Every A-sequence of filters can be extended to a A-sequence of
ultrafilters.
Proof. OrdertheA-sequencesoffiltersbycoordinatewiseinclusion: F ≤Giffor
every n∈ω, F ⊆G holds. It is immediate from the definitions that every ≤-
n n
chainhasanupperbound–thecoordinatewiseunionoftheA-sequencesoffilters
in the chain. By an application of Kuratowski–Zorn lemma, every A-sequence
of filters can be extended into a ≤-maximal one. It only remains to prove that
any ≤-maximal A-sequence of filters is in fact a sequence of ultrafilters.
Let F be a ≤-maximal A-sequence of filters, let n ∈ ω be a number, and
let b ⊂ D be a set; we claim that either b or its complement belongs to F .
n n
Suppose towards a contradiction that neither is the case. By the maximality
of F it must be the case that the sequences G0,G1 of filters obtained from F
by adding b (or the complement of b, respectively) to the filter F are not A-
n
sequences. This must be witnessed by some sets (cid:104)a0: i∈k(cid:105) and (cid:104)a1: i∈k(cid:105) for
i i
some number k ∈ ω respectively, and some number m ∈ ω: these are sets in
F
i
such that there is no d ∈ D
m
such that for all i ∈ k,i (cid:54)= n dAi ⊂ a0
i
and
dAn ⊂ a0
n
∩b, and there is no d ∈ D
m
such that for all i ∈ k,i (cid:54)= n dAi ⊂ a1
i
and dAn ⊂ a1
n
\b. Since F is a sequence of filters, for all i ∈ k a0
i
∩a1
i
∈ F
i
holds. Let m(cid:48) ∈ ω be a number such that A
m(cid:48)
→ (A
m
)An holds. Since F is a
A-sequence,thereisd(cid:48) ∈D
m(cid:48)
suchthatforalli∈k,(d(cid:48))Ai ⊂a0
i
∩a1
i
holds. Use
the partition assumption to find a a set d⊂d(cid:48) in D
m
such that either dAn ⊂b
or dAn∩b=0. The condition q violates the choice of either the sets (cid:104)ai: i∈k(cid:105)
0
or the sets (cid:104)ai: i∈k(cid:105).
1
Now, suppose that p ∈ P is a condition. Consider the sequence F of filters F
n
generated by sets cofinite in pAn. Clearly, F is an A-sequence. By the claim, F
can be extended to a A-sequence G of ultrafilters. Then (cid:104)Coll(ω,2ω),τ (cid:105) is a
G
balanced pair which is easily seen to be below p as required.
For every Ramsey sequence A = (cid:104)A : n ∈ ω(cid:105), the poset P introduces an
n A
ultrafilter on the set D as the set of all subsets a ⊂ D such that for some
0 0
conditionp∈P inthegenericultrafilter,pA0 ⊂a. Claim7.3.5togetherwithan
obviousdensityargumentshowthatthisformulaindeeddefinesanultrafilterU
onD ,whichwillbereferredtoastheP -generic ultrafilter. Itisclearthatthe
0 A
genericfilteronP canbereconstructedfromU,andthereforethepotentialfor
A
confusion is minimal. The combinatorial and Rudin–Keisler properties of the
generic ultrafilter have been the main reason for the study of the partial orders
of the type P [8]. It is not difficult to see that it is a P-point.
A
Example 7.3.7. Let A be the sequence (cid:104)A : n ∈ ω(cid:105) where A is the linear
n n
order on n many elements. The Ramsey theorem implies that this is in fact a
Ramsey sequence of structures. The P -generic ultrafilter is a P-point which is
A
weakly Ramsey and not a Q-point [8, Theorem 4.9].
Example 7.3.8. Let k ∈ ω and let A be a sequence enumerating all ordered
finite graphs which contain no clique of size k. The fact that this is a Ramsey

164 CHAPTER 7. ULTRAFILTER FORCINGS
sequence of structures follows from [72]. The P -generic ultrafilter is a P-point
A
U such that U →(U,k)2 but not U →(U,k+1)2 [8, Theorem 4.11]
7.4 Semigroup ultrafilters
In this section, we show that in a natural forcing connected with a countable
semigroup, the balanced conditions exist and are classified by idempotent ul-
trafilters. ThisconnectsthetheoryofbalancedforcingextensionswithRamsey
theory and dynamics.
Definition 7.4.1. Let Γ be a countable semigroup. The poset P is defined
Γ
as follows. The conditions of P are elements of Γω. The ordering is defined
Γ
by q ≤ p if there are nonempty finite sets a ⊂ ω for all n ∈ ω such that
n
max(a ) < min(a ) and Π p(m) = q(n), where the products are always
n n+1 m∈an
taken in the increasing order.
ItisnotdifficulttoseethatgivenaconditioninP ,shiftingitsentriestotheleft
Γ
and/or changing finitely many entries does not change the separative quotient
equivalence class of the condition. It follows that the separative quotient of P
Γ
is a σ-closed poset. The purpose of the poset P is clear from the following
Γ
definition and proposition.
Definition 7.4.2. Let A be a collection of subsets of Γ. A sequence p ∈ P
Γ
diagonalizes Aifforeverysetb∈Athereisn∈ω suchthatforeverynonempty
finiteseta⊂ω\n,Π p(m)∈bholds. Thesequencep∈P sorts out Aiffor
m∈a Γ
every set b∈A there is n∈ω such that for every nonempty finite set a⊂ω\n,
Π p(m)∈b holds, or for every nonempty finite set a⊂ω\n, Π p(m)∈/ b
m∈a m∈a
holds. Ifb∈Aandtheformeralternativeoccurs, wesaythatpaccepts b, ifthe
latter alternative occurs then p declines b.
Proposition 7.4.3. For every condition p ∈ P and every countable set A ⊂
Γ
P(Γ), there is a condition q ≤p which sorts out A.
Proof. LetA={b : n∈ω}. Byinductiononn∈ωbuildadescendingsequence
n
p ofconditionsinP suchthatp=p andforalln∈ω,forallnonemptyfinite
n Γ 0
(cid:81)
sets a ⊂ ω it is the case that p (m) ∈ b holds, or for all nonempty
m∈a n+1 n
(cid:81)
finite sets a ⊂ ω it is the case that p (m) ∈ b holds. To perform the
m∈a n+1 n
induction step, use Hindman’s theorem on the partition π of nonempty finite
n
(cid:81)
subsets of ω defined by π (a)=1 if p (m)∈b holds.
n m∈a n n
In the end, let q ∈ P be defined by q(n) = p (n) and observe that the
Γ n
conclusion of the proposition is satisfied.
Suppose that G ⊂ P is a generic filter. By Proposition 7.4.3 and a density
Γ
argument, the set U ⊂ P(Γ) of all sets b ⊂ Γ such that some condition p ∈ G
accepts b, is an ultrafilter. Also, G can be recovered from U as the set of all
(cid:81)
conditions p ∈ P such that for all n ∈ ω, the set { p(m): a ⊂ ω is a
Γ m∈a
nonempty finite set and min(a)>n} belongs to the ultrafilter U.

7.4. SEMIGROUP ULTRAFILTERS 165
It turns out that the balanced conditions in the poset P correspond to a
Γ
well-known concept from topological dynamics and Ramsey theory.
Definition 7.4.4. [40, Section 4.1] Let (cid:104)Γ,·(cid:105) be a countable semigroup.
1. For ultrafilters U ,U on Γ, let U ·U ={A⊂Γ: {γ ∈Γ: {δ ∈Γ: γ·δ ∈
0 1 0 1
A}∈U }∈U };
1 0
2. an ultrafilter U on Γ is an idempotent if U ·U =U.
It turns out that · is a semi-continuous operation on the space βΓ of all ultra-
filters on Γ. The fundamental Ellis–Numakura theorem [40, Section 2.4] says
that every closed subsemigroup of βΓ contains an idempotent ultrafilter. The
idempotent ultrafilters have an alternative diagonalization description.
Proposition 7.4.5. Let U be an ultrafilter on Γ. The following are equivalent:
1. in Coll(ω,P(Γ)) extension there is a condition in P diagonalizing U;
Γ
2. for every countable subset of U, there is a condition in P diagonalizing
Γ
it;
3. U is an idempotent.
Proof. For the implication (1)→(2), if U(cid:48) ⊂U is a countable set, then in some
forcing extension there is a condition p∈P which diagonalizes U and therefore
U(cid:48). By a Mostowski absoluteness argument between the ground model and the
forcing extension, there must be a condition p∈P diagonalizing U(cid:48).
For the implication (2)→(1), consider the partial order Q=[P(U)]ℵ0 mod-
ulo the nonstationary ideal. Let G ⊂ Q be a filter generic over V and let
j: V →M be the generic ultrapower. Then M is an ω-model which is possibly
illfounded. Moreover, M contains the set j(cid:48)(cid:48)U as the equivalence class of the
identity function on [P(U)]ℵ0, and M |=j(cid:48)(cid:48)U ⊂U is a countable set by the L(cid:32) o´s
theorem. Thus, if the ground model satisfies (2), then by elementarity M (and
so V[G]) contains a condition p ∈ P which diagonalizes j(cid:48)(cid:48)U and therefore U.
The existence of such a condition then transfers to any Coll(ω,P(Γ)) extension
of the ground model. This confirms (1).
(3) implies (2): this is the content of Galvin–Glazer theorem or its folkloric
variationforcountablesets,[40,Chapter5]. Finally,thenegationof(3)implies
the negation of (2). To see this, if U is not an idempotent, there must be a set
A∈U suchthatA∈/ U·U. ThismeansthatthesetB ={γ ∈Γ: {δ ∈Γ: γ·δ ∈/
A} ∈ U} belongs to U. Consider the countable set including A,B, as well as
all the sets C = {δ ∈ Γ: γ·δ ∈/ A} for γ ∈ B; we will show that it cannot be
γ
diagonalized. Supposetowardsacontradictionthatsomeconditionp∈P does
Γ
diagonalize it. This means that there is m ∈ γ such that for all k > m ≥ m ,
0 0
p(m) ∈ B and p(m)·p(k) ∈ A. There must be also some k ∈ ω such that for
0
all k ≥ k , p(k) ∈ C . Then p(m )·p(k ) should belong simultaneously to
0 p(m0) 0 0
A and to the complement of A, which is a contradiction.

166 CHAPTER 7. ULTRAFILTER FORCINGS
Finally, the statement of the classification theorem for the balanced virtual
conditions in the poset P is at hand.
Γ
Definition 7.4.6. Whenever (cid:104)Γ,·(cid:105) is a countable semigroup and U is an ultra-
filter on Γ, let τ denote the Coll(ω,P(Γ))-name for the (nonempty analytic)
U
set of all conditions diagonalizing U.
Theorem 7.4.7. Let (cid:104)Γ,·(cid:105) be a countable semigroup.
1. Whenever U is an idempotent ultrafilter then (cid:104)Coll(ω,P(Γ)),τ (cid:105) is a bal-
U
anced virtual condition;
2. every balanced pair is equivalent to (cid:104)Coll(ω,P(Γ)),τ (cid:105) for some idempo-
U
tent ultrafilter U;
3. distinct idempotent ultrafilters give rise to inequivalent balanced virtual
conditions.
In particular, the poset P is balanced.
Γ
Proof. For (1), note that by Proposition 7.4.5, τ is a name for a nonempty set
U
jsut in case U is an idempotent ultrafilter. (1) then follows immediately from
the following claim:
Claim 7.4.8. Let U be an ultrafilter on Γ and (cid:104)Q ,τ (cid:105), (cid:104)Q ,τ (cid:105) are posets and
0 0 1 1
theirrespectivenamesforelementsofP diagonalizingU. ThenQ ×Q (cid:13)τ ,τ
Γ 0 1 0 1
are compatible in P .
Γ
Proof. Let q ∈Q and q ∈Q be conditions and n∈ω be a natural number.
0 0 1 1
We must find an element γ ∈ Γ and conditions q(cid:48) ≤ q and q(cid:48) ≤ q and finite
0 0 1 1
nonempty sets a ,a ⊂ ω with minimum larger than n such that q(cid:48) (cid:13) γˇ =
0 1 0
Π τ (m) and q(cid:48) (cid:13) γˇ = Π τ (m). The compatibility of τ ,τ is then
m∈a0 0 1 m∈a1 1 0 1
granted by a genericity argument.
Let A ⊂ Γ be the set of all γ ∈ Γ such that there exists a finite nonempty
0
set a ⊂ ω with minimum greater than n and a condition q(cid:48) ≤ q in Q forcing
0 0
γˇ = Π τ (m). Since τ is forced to diagonalize U, it must be the case that
m∈a 0 0
A ∈ U. Similarly, let A ⊂ Γ be the set of all γ ∈ Γ such that there exists a
0 1
finitenonemptyseta⊂ω withminimumgreaterthannandaconditionq(cid:48) ≤q
1
in Q forcing γˇ = Π τ (m). Since τ is forced to diagonalize U, it must be
1 m∈a 1 1
the case that A ∈U. Choose γ ∈A ∩A and choose q(cid:48) ≤q , q(cid:48) ≤q and sets
1 0 1 0 0 1 1
a ,a witnessing the membership of γ in A ,A . This completes the proof.
0 1 0 1
For (2), suppose that (cid:104)Q,τ(cid:105) is a balanced pair. Without loss of generality
we may assume that Q collapses the size of P(Γ)∩V to ℵ . Strengthening τ
0
in the Q-extension repeatedly by an application of Proposition 7.4.3, we may
assume that τ sorts out P(Γ)∩V. Let σ be the Q-name for the collection of all
sets in P(Γ)∩V which τ accepts.
Claim 7.4.9. The membership of every set A⊂Γ in σ is decided by the largest
condition in Q.

7.4. SEMIGROUP ULTRAFILTERS 167
Proof. If not, then there is a set A ⊂ Γ and conditions q ,q ∈ Q such that
0 1
q (cid:13) Aˇ ∈ σ and q (cid:13) Γ\Aˇ ∈ σ. Plainly, the condition (cid:104)q ,q (cid:105) forces in the
0 1 0 1
product Q×Q that τ ,τ are conditions incompatible in P , contradicting
left right Γ
the balance assumption on the name τ.
Let U = {A ⊂ Γ: Q (cid:13) Aˇ ∈ σ}. This is an ultrafilter on Γ. By Propo-
sition 7.4.5, it is an idempotent ultrafilter. By Claim 7.4.8, the pair (cid:104)Q,τ(cid:105) is
equivalent to (cid:104)Coll(ω,P(Γ)),τ (cid:105). (2) follows.
U
(3) is immediate. To prove the last sentence, note that for every condition
p ∈ P , the Ellis–Numakura theorem yields an idempotent ultrafilter U such
Γ
(cid:81)
that for all n ∈ ω, the set { p(m): a ⊂ ω is a nonempty finite set and
m∈a
min(a) > n} belongs to U. Then Coll(ω,P(Γ)) (cid:13) Στ ≤ p by the definition of
U
theorderingP andso(cid:104)Coll(ω,P(Γ)),τ (cid:105)isabalancedvirtualconditionbelow
Γ U
p.
Example 7.4.10. LetΓbethegroupoffinitesubsetsofω withthesymmetric
difference operation. Consider the poset P below the natural initial condition
Γ
p∈Γω which assigns the singleton set {n} to each number n∈ω. The generic
ultrafilteraddedbytheposetisknownasthestableorderedunionultrafilteras
introduced in [10]. The stable union ultrafilters are studied in many places in
theliterature,includingthestudyoftheP -extensionofthesymmetricSolovay
Γ
model [22].

168 CHAPTER 7. ULTRAFILTER FORCINGS

Chapter 8
Other forcings
Inthischapterwegatherpartialorderswhichdonotfitinthepreviouschapters.
8.1 Chromatic numbers
Given a Polish space X, a Borel hypergraph Γ ⊂ [X]<ℵ0, one can consider the
task of forcing a Γ-coloring c: X →ω. In principle, this is a very difficult task
andwedonothaveageneralwayofresolvingit. Thefirstposetonecanconsider
is the poset P where K is the Borel simplicial complex on X ×ω consisting
K
of finite partial Γ-colorings. The basic disadvantage of this poset is that not
all maximal K-sets are total Γ-colorings, and there are elements of P which
K
cannot be extended to total Γ-colorings. Thus, we have to restrict the posets
P in some way to get the desired effect. This is not always straightforward,
K
and the resulting posets are usually not simplicial complex posets in the sense
of Definition 6.1.1. The most natural attempt is the following.
Definition 8.1.1. LetX beaPolishspaceandletΓ⊂[X]<ℵ0 beaBorelgraph
on a Polish space X. The Γ-coloring forcing P is the partially ordered set of
Γ
allpartialcountablefunctionsp: X →ω whichcanbeextendedtoaΓ-coloring
of the whole space X. The ordering is that of reverse inclusion.
It is immediate that the poset P , if nonempty, forces the union of the condi-
Γ
tions in the generic filter to be a total Γ-coloring with countably many colors.
However, it is not at all clear whether the poset P is Suslin, σ-closed, or bal-
Γ
anced. In an interesting large class of Borel graphs Γ, these questions have a
smooth resolution. Recall that a graph Γ on vertex set X has coloring number
κ if there is a well-ordering ≺ of X such that for each vertex x ∈ X the set
{y ∈ X: y ≺ x and y Γ x} has cardinality smaller than κ [25]. This may seem
like a very complex notion especially in the case of infinite cardinals κ, but in
factthereisasimplecharacterizationofanalyticgraphsofuncountablecoloring
number [1].
169

170 CHAPTER 8. OTHER FORCINGS
Theorem8.1.2. LetΓbeaBorelgraphonaPolishspaceX withcountablecol-
oringnumber. ThenP containsadensesubsetwhichisaSuslinℵ -distributive
Γ 0
poset. Moreover,
1. for every total Γ-coloring c: X →ω the pair (cid:104)Coll(ω,X),cˇ(cid:105) is balanced;
2. for every balanced pair (cid:104)Q,τ(cid:105) there is a total coloring c such that (cid:104)Q,τ(cid:105) is
equivalent to (cid:104)Coll(ω,X),cˇ(cid:105);
3. distinct colorings yield inequivalent balanced conditions.
In particular, the poset P is balanced.
Γ
Proof. Fixawell-ordering≺onthespaceX suchthatforeveryelementx∈X,
the set {y ∈ X: y ≺ x and {x,y} ∈ Γ} is finite. We start with a humble
observation which will be used in several places below.
Claim 8.1.3. Let M be a countable elementary submodel of a large countable
structure containing ≺. Then every y ∈ X \M is Γ-connected with at most
finitely many elements of X∩M.
Proof. Suppose that y ∈ X \M is a point. Then for every x ∈ M ≺-greater
than y, {x,y} ∈/ Γ holds: if {x,y} ∈ Γ then y belongs to the finite set of all
points ≺-smaller than x and connected with x and by elementarity it would
have to belong to the model M, which is not the case. Thus, the only points of
M connected to y in Γ are ≺-smaller than y, and there are only finitely many
points like that by the definitory property of the ordering ≺.
Let P be the poset of all partial countable Γ-colorings p: X →ω such that
for all points y ∈ X \dom(p), the set {x ∈ dom(p): {x,y} ∈ Γ} is finite. The
ordering on P is that of reverse extension. The following two claims show that
P has the properties required in (1).
Claim 8.1.4. P is a Suslin ℵ -distributive poset.
0
Proof. We first need to show that the set of all (enumerations of) conditions in
P is Borel. Use Claim 8.1.3 to conclude that for every countable set a ⊂ X,
the set b = {y ∈ X: ∃∞x ∈ a {x,y} ∈ Γ} is countable. By the Lusin–Novikov
theorem,thereareBorelfunctions{f : i∈ω}fromXω toX suchthatforevery
i
z ∈ Xω, the list {f (z): i ∈ ω} includes all points in X which are Γ-connected
i
with infinitely many points of rng(z). Now we can evaluate the complexity of
the set of enumerations of conditions in the poset P. A function r: ω →X×ω
is an enumeration of a condition in P just in case when rng(r) is a function
and a Γ-coloring, and, writing s: ω →X for the first component function of r,
for every i ∈ ω if f (s) is Γ-connected to infinitely many points in rng(s), then
i
f (s)∈rng(s). This is a Borel condition.
i
To show that the poset P is Suslin, note that two conditions p ,p ∈P are
0 1
compatible just in case they are compatible as functions: then p ∪p will be
0 1
their lower bound. To argue for the ℵ -distributivity, let p ∈ P be a condition
0

8.1. CHROMATIC NUMBERS 171
andlet{D : i∈ω}beacountablecollectionofopendensesubsetsofP. Tofind
i
(cid:84)
a condition q ≤ p in the intersection D , let M be a countable elementary
i i
submodel of a large structure containing p,Γ,≺ and {D : i ∈ ω} and use the
i
elementarity of M to build a sequence p for i∈ω by recursion so that
i
• p=p ≥p ≥p ≥... are all conditions in M;
0 1 1
• p ∈D anddom(p )containsthei-thelementofM∩X insomefixed
i+1 i i+1
enumeration.
(cid:83)
Intheend,letq = p anduseClaim8.1.3toarguethatq ∈P asdesired.
i i
Claim 8.1.5. P is a dense subset of P .
Γ
Proof. It is first necessary to show that P is a subset of P . To this end, let
Γ
p ∈ P. Let {b : k ∈ ω} be a collection of pairwise disjoint infinite subsets of
k
ω and c: X → ω be a total Γ-coloring. Let d: X → ω be the function defined
as follows: d(x) = p(x) if x ∈ dom(p), and otherwise let d(x) be the smallest
number in b which is different from the finitely many numbers {p(y): y ∈
c(x)
dom(p) and {x,y}∈Γ}. It is not difficult to verify that d is a total Γ-coloring
extending p, and so p∈P (Γ).
ω
For the density, suppose that p ∈ P is a condition. Let c: X → ω be a
Γ
total Γ-coloring extending p. Let M be a countable elementary submodel of a
large structure containing p,c, and ≺. By Claim 8.1.3, the set {y ∈X: ∃∞x∈
M {x,y}∈Γ} is a subset of M. Thus, the function q =c(cid:22)M is a condition in
P extending p as desired.
For the classification of the balanced virtual conditions, we need a claim:
Claim 8.1.6. Let R ,R be posets and η ,η be respective R - and R -names
0 1 0 1 0 1
for elements of X\V. Then
1. R forces η to be Γ-connected with at most finitely many elements of the
0 0
ground model;
2. R ×R (cid:13){η ,η }∈/ Γ.
0 1 0 1
Proof. For the first item, suppose towards a contradiction that this fails as
forced by some condition r ∈R. Let M be a countable elementary submodel of
a large structure containing all relevant information, let g ⊂R ∩M be a filter
0
genericoverthemodelM, andlety =η /g ∈X. Bytheforcingtheorem, M[g]
0
satisfies that y is Γ-connected with infinitely many elements of X∩M. By the
MostowskiabsolutenessforthemodelM[g],yisindeedconnectedwithinfinitely
many elements of M, and this contradicts the conclusion of Claim 8.1.3.
Fortheseconditem,supposetowardsacontradictionthatthisfailsasforced
by some condition (cid:104)r ,r (cid:105) in the product. Let M ∈N be countable elementary
0 1
submodelsofalargestructurecontainingallrelevantinformation. Inthemodel
N, there are filters {g : i∈ω} on the poset R ∩M which are mutually generic
i 0
over the model M. By a mutual genericity argument applied in M, the points

172 CHAPTER 8. OTHER FORCINGS
x =η /g ∈X are pairwise distinct elements of N. Now, let h⊂R ∩M be a
i 0 i 1
filter generic over the model N containing the condition r and let y =η /h∈
1 1
X\N. By the forcing theorem in M, it is the case that M[G ,h]|={x ,y}∈Γ
i i
for each i ∈ ω. By the Mostowski absoluteness for the models M[g ,h], it is
i
in fact the case that y is Γ-connected with each x for i ∈ ω. This, however,
i
contradicts Claim 8.1.3 applied to N.
Now, for item (1) of the theorem, let c: X →Γ be a total Γ-coloring. Note
that Coll(ω,X)(cid:13)cˇ∈P by Claim 8.1.6(1). To see that the pair (cid:104)Coll(ω,X),cˇ(cid:105)
isbalanced,supposethatR ,R areposetsandσ ,σ areR -andR -namesfor
0 1 0 1 0 1
elementsofP extendingc;wemustshowthattheproductR ×R forcesσ ,σ
0 1 0 1
to be compatible in P; in other words, σ ∪σ is a function and a Γ-coloring.
0 1
Toverifythatσ ∪σ isafunction,usetheproductforcingtheoremtoconclude
0 1
that dom(σ )∩dom(σ ) is forced to be a subset of the ground model, and both
0 1
σ (cid:22)V andσ (cid:22)V areforcedtobeequaltocˇ. Toseethatσ ∪σ isaΓ-coloring,
0 1 0 1
use Claim 8.1.3(2). This completes the proof of (1).
To argue for item (2), suppose that (cid:104)Q,τ(cid:105) is a balanced pair. Strengthening
τ if necessary we may assume that Q (cid:13) X ∩ V ∈ dom(p). By a balance
argument, for each x ∈ X there must be a specific number c(x) ∈ ω such that
Q(cid:13)τ(xˇ)=c(x). It is not difficult to check that c: X →ω is a total Γ-coloring
and Q×Coll(ω,X)(cid:13)τ ≤cˇ. (2) then follows from Proposition 5.2.4.
(3) is immediate. The last sentence now easily follows: if p ∈ P is a
Γ
condition then by the definition of P it can be extended to a total Γ-coloring
Γ
c: X →ω which then yields a balanced virtual condition below p by (1).
Example 8.1.7. Let n ≤ 3 be a number, let D ⊂ R be a countable set of
positive reals converging to 0, and let Γ be the graph connecting two points
Dn
of Rn if their distance belongs to D. The graph Γ has countable coloring
Dn
number by [58, Theorem 7], and therefore the poset P is balanced.
ΓDn
Example 8.1.8. Let D ⊂ R be a countable set of positive reals and consider
the graph Γ connecting two points of the plane if their distance belongs to D.
D
The graph Γ does not contain 2 times uncountable as a subgraph; by [25] it
D
must have countable coloring number and so the poset P is balanced. If D is
ΓD
the set of all positive rationals then the graph contains infinite cliques and so
its chromatic number is infinite. If D is an algebraically independent set, then
it is not known whether the chromatic number is finite or infinite, and Bukh
[14] conjectured the former.
Chromatic numbers of hypergraphs offer additional challenges. We provide
elegant coloring posets for two natural classes of hypergraphs. They are less
canonical than the rest of the posets in this book as they need a choice of an
auxiliary tool: a Borel ideal J on ω containing all finite sets and such that J
is not generated by a countable subset of J. There are many such ideals, one
possible choice is the summable ideal.
Definition 8.1.9. Let X be a Borel abelian group. Let Φ be a countable field
whose multiplicative group acts on X in a Borel way, making X into a vector

8.1. CHROMATIC NUMBERS 173
space. The 3-Hamel hypergraph is the set Γ ⊂ [X]3 consisting of triples of
linearly dependent nonzero elements of X. A Γ-coloring c: X →ω is called an
3-Hamel decomposition.
Proposition 8.1.10. Let X be a Borel vector space over a countable field Φ.
Then there is a 3-Hamel decomposition of X.
Proof. Let A⊂X be a Hamel basis. Let B a countable basis of the topology of
the ambient Polish space of which X is a Borel subset. We define a Γ-coloring
whose range is the countable set C = (Φ×B)<ω. For each nonzero element
x ∈X, let x =Σ φ y be the unique expression of x as a linear combination
i∈n i i
of basis vectors with nonzero coefficients, in which the basis vectors are listed
in an increasing order with respect to some fixed Borel linear ordering of X.
Let (cid:104)O : i ∈ n(cid:105) be the first sequence (in some fixed enumeration) of pairwise
i
disjoint basic open sets in the basis B such that y ∈ O holds for every i ∈ n.
i i
Define the coloring c: X → C by setting c(0) = 0 and c(x) = (cid:104)φ ,O : i ∈ n(cid:105)
i i
where φ ,O are as above.
i i
We must show that there is no monochromatic Γ-edge. Suppose towards a
contradiction that x0,x1,x2 ∈ X are distinct nonzero elements of X, all with
the same color (cid:104)φ ,O : i ∈ n(cid:105), such that some nontrivial linear combination of
i i
them yields zero. Let y0 ∈ O be the basis vectors yielding x0, similarly for y1
i i i
and y2. Since the three vectors are distinct, there must be i∈n and j ∈3 such
i
that yj is distinct from yk for all k ∈ 3 different from j. But then, the basis
i i
vector yj can be expressed as a linear combination of all the remaining basis
i
vectors used to obtain the points x0,x1,x2. Since the remaining vectors are all
distinct from yj, this is a contradiction.
i
We now provide a balanced forcing which adds a 3-Hamel coloring to a given
Borel vector space over a countable field.
Definition8.1.11. LetX beaBorelvectorspaceoveracountablefieldΦ. The
3-Hamel decomposition forcing P is the set of all functions p such that dom(p)
isacountablesubspaceofX,rng(p)⊂ω,andpisaΓ-coloringondom(p)where
Γ is the 3-Hamel hypergraph. The ordering is defined by q ≤p if p⊂q, and for
every dom(p)-coset e ⊂ dom(q) distinct from dom(p), the image
q(cid:48)(cid:48)(cid:83)
φ·e
φ∈Φ
belongs to the ideal J.
It is not difficult to see that P is a σ-closed Suslin poset. We now classify its
balanced conditions.
Theorem 8.1.12. Let X be a Borel vector space over a countable field Φ. Let
Γ be the 3-Hamel hypergraph and let P be the 3-Hamel decomposition forcing.
1. If c: X →ω is a Γ-coloring, the pair (cid:104)Coll(ω,X),cˇ(cid:105) is balanced;
2. if (cid:104)Q,τ(cid:105) is a balanced pair, then there is a Γ-coloring c: X →ω such that
the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,X),cˇ(cid:105) are equivalent;
3. distinct Γ-colorings yield inequivalent balanced pairs.

174 CHAPTER 8. OTHER FORCINGS
In particular, P is balanced.
Proof. For (1), let c: X → ω be a Γ-coloring. Let V[G ],V[G ] be mutually
0 1
generic extensions in which the set X ∩V is countable and let p ∈ V[G ],
0 0
p ∈ V[G ] be conditions below c; we must produce a lower bound q ≤ p ,p
1 1 0 1
in the poset P in the model V[G ,G ]. Write d =dom(p and d =dom(p ).
0 1 0 0 1 1
For every point x∈X\(d ∪d ), write e (x)={y ∈d : ∃y ∈d x is a linear
0 1 0 0 0 1 1
combination ofy ,y } and e (x)={y ∈d : ∃y ∈d x isa linearcombination
0 1 1 1 1 0 0
of y ,y }. The following claim is key.
0 1
Claim 8.1.13. Let x∈X\(d ∪d ) be any point. If the set e (x) is nonempty,
0 1 0
(cid:83)
thenthereisaV-cosetf distinctfromV suchthate = φ·f,andsimilarly
0 φ∈Φ
for e (x).
1
Proof. Fix the point x and write e (x) = e and e (x) = e . We argue for e ,
0 0 1 1 0
the case of e is symmetric. First note that if y ∈e then y cannot belong to
1 0 0 0
V, as in such a case x would be a linear combination of elements of d and so
1
an element of d , contradicting the initial choice of x.
1
It is clear that the set e is closed under scalar multiplication and addition
0
ofvectorsinV. Toshowthate isobtainedfromasingleV-coset,supposethat
0
y ,z ∈e are distinct points; we must show that there is a linear combination
0 0 0
of y ,z which yields a point in V. Then there must be points y ,z ∈ e and
0 0 1 1 1
field elements φ ,phi ,ψ ,ψ such that x = φ y +φ y and x = ψ z +ψ z .
0 1 0 1 0 0 1 1 0 0 1 1
It follows that φ y −ψ z = ψ z −φ y . The left-hand side of the equation
0 0 0 0 1 1 1 1
belongs to V[G ], the right hand side belongs to V[G ], and by the product
0 1
forcing theorem, their common value v must belong to V. But then v =φ y −
0 0
ψ z is the desired linear combination.
0 0
Now, let d be any countable subspace of X containing both d ,d as subsets.
0 1
Write a = d \ (d ∪ d ). Let I be the set {p(cid:48)(cid:48)e (x): x ∈ a} united with
0 1 0 0
{p(cid:48)(cid:48)e (x): x ∈ a}. By the claim and the definition of the ordering on P, I
1 1
is a countable set of sets in the ideal J. By the initial assumptions on the ideal
J, there is a set b ∈ J which cannot be covered by finitely many elements of I
and a finite set. The set a can be easily decomposed into infinitely many sets
with the same property, and so there are pairwise disjoint sets b(x) ⊂ ω for
x∈asuchthatnoneofthemcanbecoveredbyfinitelymanyelementsofI and
(cid:83)
a finite set, and such that b(x)∈J. Let q: d→ω be any function such that
x
p ,p ⊂q, and for every point x∈a we have q(x)∈b(x)\(p(cid:48)(cid:48)e (x)∪p(cid:48)(cid:48)e (x)).
0 1 0 0 1 1
We claim that q ≤p ,p is the desired lower bound.
0 1
To see that q ∈P, we must show that q is a Γ-coloring. Suppose towards a
contradictionthat{x ,x ,x }⊂disamonochromatictripleofnonzerolinearly
0 1 2
dependent pairwise distinct points. The triple cannot be a subset of d(p ) or
0
d(p ) since p ,p are Γ-colorings. The triple cannot use more than one point
1 0 1
in a since q (cid:22) a is an injection. We are left with only one case, where (after
re-indexingifnecessary)x ∈aandx ∈d ,x ∈d . Insuchacase,x ∈e (x)
2 0 0 1 1 0 0
andx ∈d (x)holdsandbytheinitialchoiceofthefunctionq,q(x )isdistinct
1 1 2
from both q(x ) and q(x ).
0 1

8.1. CHROMATIC NUMBERS 175
To see that q ≤ p , let e be a d -coset distinct from d ; we must show that
0 0 0
the set
q(cid:48)(cid:48)(cid:83)
φ·e belongs to J. By the product forcing theorem, e∩d is in
φ∈Φ 1
factaV-cosetdistinctfromV,andsoq(cid:48)(cid:48)(cid:83)
φ·e∩d
=p(cid:48)(cid:48)(cid:83)
φ·e∩d ∈J
φ∈Φ 1 1 φ∈Φ 1
since p ≤c. Thus, the set
q(cid:48)(cid:48)(cid:83)
φ·e is covered by the union of the J-small
1 φ∈Φ
sets
q(cid:48)(cid:48)(cid:83)
φ·e∩d and b and therefore belongs to J. The case q ≤ p is
φ∈Φ 1 1
symmetric.
For(2),supposethat(cid:104)Q,τ(cid:105)isabalancedpair. Strengtheningτ ifnecessary,
we may assume that Q(cid:13)(X ∩V)⊂dom(τ). By a balance argument, for each
point x ∈ X ∩V there is a number c(x) ∈ ω such that Q (cid:13) τ(xˇ) = c(x). It is
immediatelyclearthatthemapcisaΓ-coloring. Wewillshowthatthebalanced
pairs(cid:104)Q,τ(cid:105)and(cid:104)Coll(ω,X),cˇ(cid:105)areequivalent. Tothisend,itisenoughtoargue
that Q (cid:13) τ ≤ cˇ. Suppose towards a contradiction that some condition q ∈ Q
forces the opposite. Let G ,G ⊂ Q be mutually generic filters meeting the
0 1
condition q, and write p = τ/G and p = τ/G . To reach the contradiction
0 0 1 1
withthebalanceofthepair(cid:104)Q,τ(cid:105),arguethatp ,p areconditionsincompatible
0 1
in P. To see this, use the forcing theorem and the assumption that p (cid:54)≤ c to
0
find a V-coset e ⊂ dom(p ) distinct from V such that
p(cid:48)(cid:48)(cid:83)
φ·e ∈/ J. Now,
0 0 φ∈Φ
the set e is a subset of a single dom(p )-coset distinct from dom(p ) by the
1 1
product forcing theorem. Therefore, it prevents finding a common lower bound
of p ,p .
0 1
(3) is clear. For the last sentence, we prove a claim which will come handy
later.
Claim 8.1.14. Let p ∈ P be a condition and a ⊂ ω be an infinite set. Then
there is a Γ-coloring c: X →ω such that p⊂c and all points not in dom(p) get
a c-color from the set a.
Proof. Use Proposition 8.1.10 to find a coloring d: [X]2 → ω. Fix a collection
(cid:83)
{a : n∈ω} of pairwise disjoint infinite sets such that a ∈a. Consider the
n n n
graph ∆ on X \dom(p) connecting points x,y if there is a point z ∈ dom(p)
such that the set {x,y,z} is linearly dependent. Note that ∆ is a locally count-
able graph, and so its path-connectedness equivalence relation E has all classes
countable. Therefore, one can find a function c: X → ω such that p ⊂ c, for
all x ∈ X \dom(p) c(x) ∈ a holds, and c restricted to any E-class is an
d(x)
injection. To check that c is a Γ-coloring, assume that {x ,x ,x } ∈ Γ is a
0 1 2
tripleofpairwisedistinctpoints. Ifallthreeofthembelongtodom(p)thenthe
the triple is not monochromatic as p is a Γ-coloring. If two of them belong to
dom(p) then so does the third one by the closure properties of dom(p) and we
are in the previous case. If exactly one of the points belongs to dom(p) then
the other two are E-related and assigned a different color by c. Finally, if none
of the points are in dom(p) then the triple is not monochromatic since d is a
Γ-coloring.
Now,letp∈P beacondition. Chooseaninfiniteseta∈J andfindaΓ-coloring
c: X → ω such that p ⊂ c and all points not in dom(p) get a c-color from the
set a. Clearly, Coll(ω,X) (cid:13) cˇ≤ pˇ and so c is the desired balanced condition
stronger than p.

176 CHAPTER 8. OTHER FORCINGS
Example 8.1.15. Ceder [17] provided a countable subfield Φ of the complex
plane C such that any 3-Hamel decomposition of the complex plane over Φ
consists of pieces which contain no equilateral triangles.
A very similar poset can produce a decomposition of a vector space into count-
ably many internally linearly independent sets.
Definition 8.1.16. Let X be a Borel vector space over a countable field Φ.
The Hamel hypergraph is the set Γ ⊂ [X]<ℵ0 consisting of linearly dependent
finite sets of nonzero elements of X. A Γ-coloring c: X →ω is called an Hamel
decomposition.
Proposition 8.1.17. Let X be an uncountable Borel vector space over a count-
able field Φ. Then there is a Hamel decomposition of X if and only if the
Continuum Hypothesis holds.
Proof. Assume first that the Continuum Hypothesis holds. Exhaust X by an
(cid:83)
inclusion increasing sequence of countable subspaces, X = X . Let
(cid:83)
α∈ω1 α
c: X → ω be a map which is an injection on each set X \ X . We
α β∈α β
claim that c is a Hamel decomposition. Indeed, suppose that a ⊂ X is a finite
linearlydependentset. Fixalinearcombinationofelementsofaaddingupto0.
(cid:83)
Letα∈ω bethelargestordinalsuchthatthesetX \ X containssome
1 α β∈α β
element of a with a nonzero coefficient in the linear combination. This element
cannot be unique, since then it would be expressible as a linear combination of
(cid:83)
the subspace X , an impossibility. So a contains at least two elements in
β∈α β
(cid:83)
the set X \ X ; thus, a cannot be monochromatic, as c is injective on
α β∈α β
this set.
On the other hand, suppose that the Continuum Hypothesis does not hold,
and let c: X → ω is a map; we must produce a nontrivial monochromatic
linear combination adding up to zero. Let M be an elementary submodel of
cardinality ℵ of a large structure, containing the map c. Use the failure of
1
the Continuum Hypothesis to produce a point x ∈ X \M. Use a counting
0
argument to find distinct points y ,y ∈X∩M and a number n∈ω such that
0 1
c(x −y ) = c(x −y ) = n. Use the elementarity of the model M to find
0 0 0 1
a point x ∈ X ∩M such that c(x −y ) = c(x −y ) = n. Note that the
1 1 0 1 1
points z = x −y ,z = x −y and z = x −y ,z = x −y are pairwise
0 0 0 1 0 1 2 1 0 3 1 1
distinct, they attain the same color n, and z −z −z +z = 0. The proof is
0 1 2 3
complete.
Definition8.1.18. LetX beaBorelvectorspaceoveracountablefieldΦ. The
Hameldecompositionforcing P isthesetofallfunctionspsuchthatdom(p)isa
countablesubspaceofX,rng(p)⊂ω,andpisaΓ-coloringondom(p)whereΓis
theHamelhypergraph. Theorderingisdefinedbyq ≤pifp⊂q,andthereisno
nontriviallinearcombinationofaq-monochromaticsetelementsofdom(q)with
result in dom(p), and for every dom(p)-coset e⊂dom(q) distinct from dom(p),
theset{n∈ω: thereexistsalinearcombinationofaq-monochromaticsetwith
(cid:83)
result in φ·e} belongs to the ideal J.
φ∈Φ

8.2. DISCONTINUOUS HOMOMORPHISMS 177
It is not difficult to see that P is a σ-closed Suslin poset. We now classify its
balanced conditions.
Theorem 8.1.19. Let X be a Borel vector space over a countable field Φ. Let
Γ be the Hamel hypergraph and let P be the Hamel decomposition forcing.
1. If c: X →ω is a Γ-coloring, the pair (cid:104)Coll(ω,X),cˇ(cid:105) is balanced;
2. if (cid:104)Q,τ(cid:105) is a balanced pair, then there is a Γ-coloring c: X →ω such that
the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,X),cˇ(cid:105) are equivalent;
3. distinct Γ-colorings yield inequivalent balanced pairs.
In particular, the Continuum Hypothesis is equivalent to the statement that P
is balanced.
As the proof of Theorem 8.1.19 is nearly literally the same as the one for The-
orem 8.1.12, we dare to leave it to the patient reader.
Example 8.1.20. Let X be the (non-Polishable) group of finite subsets of an
uncountable Polish space X with the symmetric difference operation. View X
asavectorspaceoverthebinaryfield. Letc: X →ω beaHameldecomposition
of X. The restriction c(cid:22)[Y]2 →ω is a decomposition of the clique graph on Y
into countably many sets with no monochromatic cycle.
8.2 Discontinuous homomorphisms
Another task which can be handled by balanced posets derived from simplicial
complexes is the adding of discontinuous homomorphisms between topological
structures. In this section, we treat the case of Polish groups. The problem
of the existence of discontinuous homomorphisms from one Polish group to an-
other has been studied for decades. In ZFC, some groups such as the unitary
group [95] or the group of homeomorphisms of the unit circle [77] cannot be
homomorphically mapped to another Polish group in a discontinuous way. In
a ZF+DC context, existence of discontinuous homomorphisms has interesting
consequences: ingeneral,itimpliesthatthechromaticnumberoftheHamming
graphH is2[76],forsomespecificgroupsitimpliestheexistenceofanonprin-
2
cipal ultrafilter [90, Theorem 4.1]. For an exposition, see [75]. In this section,
we provide a balanced forcing adding a discontinuous homomorphism of Polish
groups in a certain common special case.
Definition 8.2.1. Let Γ and ∆ be Polish groups. The simplicial complex
K(Γ,∆) on X × Y consists of all finite sets a ⊂ X × Y which are subsets
of a homomorphism from X to Y. We will write P(Γ,∆) for the associated
Γ,∆-homomorphism poset of countable K(Γ,∆)-sets ordered by inclusion.
As it was the case in Section 8.1, it seems to be difficult to evaluate the com-
plexity of the complex K(Γ,∆) without having additional information on the
nature of the two groups. In this section, we will deal with a very special case
which nevertheless resolves some interesting problems.

178 CHAPTER 8. OTHER FORCINGS
Theorem 8.2.2. Let Γ,∆ be abelian Polish groups on respective Polish spaces
X,Y. Suppose that ∆ is divisible. Then the poset P(Γ,∆) is Suslin and
1. for every homomorphism h: Γ → ∆, the pair (cid:104)Coll(ω,X ×Y),hˇ(cid:105) is bal-
anced;
2. for every balanced pair (cid:104)Q,τ(cid:105) there is a homomorphism h: Γ → ∆ such
that the pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,X ×Y),hˇ(cid:105) are equivalent;
3. distinct homomorphisms yield inequivalent balanced virtual conditions.
In particular, the poset P(Γ,∆) is balanced.
Proof. Write K = K(Γ,∆) and P = P(Γ,∆). For the Suslinness of P, it is
enough to argue that the simplicial complex K is Borel. For that, note that
a finite partial function a ⊂ X ×Y belongs to K if and only if for every Z-
combinations Σ n γ =Σ n γ of elements of P, it is the case that Σ n a(γ )=
i i i j j j i i i
Σ n a(γ ). Theleft-to-rightimplicationisclear, sincetherighthandsideholds
j j j
for every homomorphism from Γ to ∆. For the right-to-left implication, note
that the assumption on the right hand side implies that a can be extended to a
homomorphism from the subgroup generated by dom(a) to ∆, which then can
be extended to a homomorphism of all of Γ to ∆ by the divisibility assumption
on ∆ and Baer’s criterion [3].
For (1), suppose that V[H ],V[H ] are mutually generic extensions of the
0 1
groundmodelV anda ,a ∈Karefinitefunctionsintherespectivemodelssuch
0 1
that a ∪h and a ∪h are K-sets. We need to show that a ∪a ∈K. Towards
0 1 0 1
a contradiction, suppose that this fails, and write a = a ∪a . By the work
0 1
of the previous paragraph, there must be a Z-combinations Σ n γ = Σ n γ
i i i j j j
such that Σ n a(γ ) (cid:54)= Σ n a(γ ). Note that elements of both a ,a must be
i i i j j j 0 1
used in these combinations. Rearranging the combinations, we may assume
that the left combination uses only elements from a and the right one uses
0
only elements of a . By the product forcing theorem, γ = Σ n γ = Σ n γ
1 i i i j j j
must belong to V. Since both a and a form a K-set with the homomorphism
0 1
h, the outputs Σ n a(γ ),Σ n a(γ ) must both be equal to h(γ), and therefore
i i i j j j
cannot be distinct, a contradiction.
This also means that P forces that the union of the generic filter is a total
homomorphismfromΓto∆;thenamefortheunionwewilldenotebyh˙ . For
gen
(2), let (cid:104)Q,τ(cid:105) be a balanced pair. Strengthening τ if necessary, we may assume
that for each point γ ∈ Γ∩V Q (cid:13) τ(γˇ) ∈ dom(τ). Now, fix a point γ ∈ Γ.
By a balance argument, for every basic open set O ⊂ ∆ it must be the case
that either Q (cid:13) τ(γ) ∈ O˙ or Q (cid:13) τ(γ) ∈/ O˙. This means that there is a single
point δ(γ)∈∆ which is in the intersection of all open sets O ⊂∆ for which the
former option prevails; it must be the case that Q(cid:13)τ(γ)=δ(γ). The function
h: γ (cid:55)→ δ(γ) must be a homomorphism from Γ to ∆. Clearly Q (cid:13) τ ≤ hˇ; by
Proposition 5.2.4, the pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,X ×Y),hˇ(cid:105) are equivalent.
Finally, (3) is obvious. For the last sentence, note that every condition
p∈P canbeextendedtoahomomorphismfromΓto∆bytheworkofthefirst
paragraph.

8.3. AUTOMORPHISMS OF P(ω) MODULO FINITE 179
Example 8.2.3. Suppose that Γ,∆ are abelian Polish groups, with Γ tor-
sion free and uncountable and ∆ divisible–the case Γ = R and ∆ = R/Z is
of particular interest. Then the poset P = P(Γ,∆) forces the generic homo-
morphism to be discontinuous. To see this, let p ∈ P be a condition. Let
(cid:104)γ : i ≤ ω(cid:105) be a sequence of elements of Γ which are linearly independent
i
over dom(p) and such that limγ = γ . Pick distinct elements δ,δ and let
i ω ω
q =p∪{(cid:104)γ ,δ(cid:105): i∈ω,(cid:104)γ ,δ (cid:105)}. It is immediate that q is a K(Γ,∆)-set, and it
i ω ω
forces γ to be a point of discontinuity of the generic homomorphism.
ω
8.3 Automorphisms of P(ω) modulo finite
Automorphisms of the Boolean algebra P(ω) modulo finite have been investi-
gated for decades. The simply definable ones are trivial [98] and the Proper
Forcing Axiom implies that downright all automorphisms of the algebra are
trivial [83]. It turns out that there is a natural balanced poset for adding a
nontrivial automorphism of the Boolean algebra B =P(ω) modulo finite.
Definition 8.3.1. The automorphism poset P consists of pairs p = (cid:104)B ,π (cid:105)
p p
where B ⊂ B is a countable subalgebra and π is its automorphism. The
p p
ordering is that of coordinatewise reverse inclusion.
The automorphism poset is clearly σ-closed and Suslin. By a simple density
argument, it adds a nontrivial automorphism of the algebra B. This is an
immediate consequence of the following observation.
Fact 8.3.2. [9, Theorem 2.3] Let C ⊂B be a countable algebra and π: C →C
be an automorphism. Let χ: B → B be an automorphism. Then there is an
automorphism η: B →B extending π and not equal to χ.
The balanced virtual conditions in the poset P are naturally classified by au-
tomorphisms of the algebra B. Let π: B → B be such an automorphism, and
considertheColl(ω,B)-nameτ forthe(setofallconditionsstrongerthanthe)
π
condition (cid:104)BV,πˇ(cid:105) ∈ P. The following theorem provides the key classification
information.
Theorem 8.3.3. Let P be the automorphism poset.
1. For every automorphism π of B, the pair (cid:104)Coll(ω,B),τ (cid:105) is balanced in
π
P;
2. for every balanced pair (cid:104)Q,τ(cid:105) there is an automorphism π of B such that
the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,B),τ (cid:105) are equivalent;
π
3. distinct automorphisms yield inequivalent balanced conditions.
In particular, the poset P is balanced.

180 CHAPTER 8. OTHER FORCINGS
Proof. Item (1) is actually the most demanding part. Suppose that V[H ],
0
V[H ] are mutually generic extensions of V, and p = (cid:104)B ,π (cid:105) ∈ V[H ] and
1 0 0 0 0
p =(cid:104)B ,π (cid:105)∈V[H ] are Boolean algebras extending BV and automorphisms
1 1 1 1
extending π respectively. Let C be the subalgebra of BV[H0,H1] generated by
B ∪B . We will find an automorphism of C extending π ∪π , providing a
0 1 0 1
common lower bound of the conditions p ,p .
0 1
Claim 8.3.4.
1. If a ∈B , a ∈B and c∈BV are such that a ∧a ≤c, then π (a )∧
0 0 1 1 0 1 0 0
π (a )≤π(c) holds;
1 1
2. If a ,b ∈B and a ,b ∈B and a ∧a ≤b ∧b , then π (a )∧π (a )≤
0 0 0 1 1 1 0 1 0 1 0 0 1 1
p (b )∧π (b ) holds;
0 0 1 1
3. If a ,bi for i∈n belong to B , a ,bi for i∈n belong to B , and a ∧a ≤
0 0 0 1 0 1 0 1
(cid:87) (bi ∧bi) holds, then π (a )∧π (a )≤ (cid:87) (π (bi)∧π (bi)) holds.
i 0 1 0 0 1 1 0 0 1 1
Proof. For (1), note that a −c and a −c are disjoint sets in the mutually
0 1
generic models V[H ] and V[H ], and so by Proposition 1.7.8 there are ground
0 1
model sets d ,d such that a −c ≤ d , a −c ≤ d , and d ∧d = 0. Then
0 1 0 0 1 1 0 1
π (a )−π(c)≤π(d ) since π is an automorphism of B extending π. For the
0 0 0 0 0
same reason π (a )−π(c) ≤ π(d ) holds; moreover, π(d )∧π(d ) = 0 follows
1 1 1 0 1
fromthefactthatπisanautomorphism. For(2),theinequalitya ∧a ≤b ∧b
0 1 0 1
yields (a ∧b )∧(a −b ) = 0. Since a ∧b ∈ V[H ] and a −b ∈ V[H ]
0 0 1 1 0 0 0 1 1 1
and the two extensions are mutually generic, by Proposition 1.7.8 there has to
be a ground model set c ⊂ ω such that a ∧b ≤ c and c∧(a −b ) = 0.
0 0 1 1
For the same reason, there is a ground model set d ⊂ ω such that a ∧b ≤ d
1 1
and d∧(a \b ) = 0. The choice of c shows that a ∧a ≤ c and moreover
0 0 0 1
a ∧c≤b ;forthesamereason,a ∧a ≤danda ∧d≤b holds. Intotal,writing
1 1 0 1 0 0
e=c∧d, we have a ∧a ≤e, a ∧e≤b , and a ∧e≤b . By the first item,
0 1 0 0 1 1
π (a )∧π (a ) ≤ π(e) follows. Moreover, since π and π are automorphisms,
0 0 1 1 0 1
the inequalities π (a )∧π(e) ≤ π (b ) and π (a )∧π(e) ≤ π (b ) hold. The
0 0 0 0 1 1 1 1
conclusion of (2) is then at hand.
For (3), for each nonempty set t ⊂ n let ct = (cid:86) bi − (cid:87) bi; these are
i∈t 0 i∈/t 0
pairwisedisjointsetsinV[H ]. Writealsodt = (cid:87) bi; thesearesetsinV[H ].
0 i∈t 1 1
Now, a ∧a ⊂ (cid:87) ct, and by (2) π (a )∧π (a ) ≤ (cid:87) π (ct) holds. For each
0 1 t 0 0 1 1 t 0
t⊂n,a ∧a ∧ct ⊂dt holds,andby(2)π (a )∧π (a )∧π (c )⊂π (d )holds.
0 1 0 0 1 1 0 t 1 t
The conclusion of (3) follows.
Now, express each element of the algebra C as a disjunction of conjunctions of
elements of B and B , and define χ( (cid:87) (ai ∧ai))= (cid:87) (π (ai)∧π (ai)) where
0 1 i 0 1 i 0 0 1 1
ai ∈B and ai ∈B . Claim 8.3.4(3) shows that the definition of χ(c) does not
0 0 1 1
dependonthechoiceoftherepresentationoftheelementc∈C asadisjunction
of conjunctions. The map χ: C → C preserves ordering by (3) of Claim 8.3.4
and therefore is an automorphism of the algebra C as desired.
Foritem(2)ofthetheorem,extendτ ifnecessarysothatQ(cid:13)τ =(cid:104)C,χ(cid:105)for
some algebra C containing BV and some automorphism χ of C. By a balance

8.4. KUREPA FAMILIES 181
argument, for each element b ∈ B there must be an element π(b) ∈ B such
that Q (cid:13) χ(ˇb) = π(b). It is immediate that π is an automorphism of B and
Q(cid:13)(cid:104)C,χ(cid:105)≤(cid:104)BV,πˇ(cid:105). Item (2) then follows from (1) and Proposition 5.2.4.
Finally, item (3) is obvious. For the last sentence, apply (1) with Fact 8.3.2.
8.4 Kurepa families
The notion of a Kurepa family on a set is an old one [61]; it appears intermit-
tently in modern set theory [94], [24, Section 7]. In this section, we show how
to force a cofinal Kurepa family on a Polish space with a balanced poset.
Definition 8.4.1. Let X be a set.
1. A Kurepa family is a set A ⊂ [X]ℵ0 such that for every countable set
b⊂X, the set {a∩b: a∈A} is countable;
2. the family is cofinal if for every countable set b ⊂ X there is a set a ∈ A
such that b⊂a.
ThemaintaskofthissectionistoshowhowacofinalKurepafamilyforagiven
Polish space can be added by balanced forcing.
Definition 8.4.2. LetX beanuncountablePolishspace. TheKurepa poset P
is a poset of all countable sets p⊂[X]ℵ0 closed under finite intersections. The
ordering is defined by q ≤p if p⊂q and for every a∈q and b∈p, a∩b∈p.
Clearly the poset P does not depend on the choice of the uncountable Polish
space X up to isomorphism. Clearly, P is a σ-closed Suslin forcing. If G⊂P is
(cid:83)
a generic filter, then a simple genericity argument shows that G is a cofinal
Kurepa family on X which is closed under finite intersections. For every set
A ⊂ P(X) closed under finite intersections note that Aˇ is a Coll(ω,P(X))-
name for an element of the Kurepa poset. It turns out that if X ∈ A then the
pair(cid:104)Coll(ω,P(ω)),Aˇ)(cid:105)isbalanced,andallbalancedpairsareuptoequivalence
of this form. This is the content of the following theorem.
Theorem 8.4.3. LetX beanuncountablePolishspaceandletP betheKurepa
poset on X.
1. if A ⊂ P(X) is a set containing X and closed under finite intersections,
then the pair (cid:104)Coll(ω,P(X)),Aˇ(cid:105) is balanced;
2. if (cid:104)Q,τ(cid:105) is a balanced pair for P then there is a set A ⊂ P(X) closed
under finite intersections and containing X such that the balanced pairs
(cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,P(X)),Aˇ(cid:105) are equivalent;
3. distinct sets as in (1) yield inequivalent balanced conditions.
In particular, the poset P is balanced.

182 CHAPTER 8. OTHER FORCINGS
Proof. For (1), fix a set A ⊂ P(X) closed under finite intersections and con-
taining the set X. Suppose that V[H ],V[H ] are mutually generic extensions
0 1
of the ground model V in which the set P(X)∩V is countable. Suppose that
p ∈ V[H ] and p ∈ V[H ] are conditions stronger than A; we must show
0 0 1 1
that p ,p ∈ P are compatible, in other words that p ∪ p ∈ P. To this
0 1 0 1
end, let a ∈ p and a ∈ p be sets; we must show that a ∩a ∈ p ∩p .
0 0 1 1 0 1 0 1
To see this, first the product forcing theorem shows that a ∩ a ⊂ V ∩ X
0 1
holds. Second, both sets a ∩V ∩X and a ∩V ∩X must belong to A, since
0 1
V ∩X ∈ A and A ≤ p ,p . Since A is closed under finite intersections, we see
0 1
thata ∩a =(a ∩V)∩(a ∩V)∈A⊂p ∩p holds. Therefore,theconditions
0 1 0 1 0 1
p ,p are compatible as desired.
0 1
(2)ismorechallenging. Let(cid:104)Q,τ(cid:105)beabalancedpairintheposetP. With-
outlossofgeneralitywemayassumethatQ(cid:13)|P(X)∩V|=ℵ . Strengthening
0
the condition τ repeatedly in the Q-extension if necessary, we may assume that
for each set a ⊂ X in the ground model, either a ∈ τ or there is b ∈ τ such
that a∩b ∈/ τ. A balance argument shows that for each set a ⊂ X in the
ground model, the largest condition in Q decides which alternative prevails.
Let A ⊂ P(X) be a set of all sets a ⊂ X for which the former alternative pre-
vails. We will show that A is a set closed under finite intersections containing
X, and Q (cid:13) Aˇ ≥ τ. The desired equivalence of (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,P(X)),Aˇ(cid:105)
then follows from Proposition 5.2.4.
The closure of the set A under finite intersections follows immediately from
the fact that Q forces τ to be closed under finite intersections. To see that
X ∈ A holds, suppose towards a contradiction that it fails; so there must be a
Q-nameσ forasubsetofX suchthatQ(cid:13)σ ∈τ andσ∩V ∈/ τ. Strengthenthe
name τ if necessary to contain a set which contains X ∩V as a subset, and let
η be a Q-name for such a set in τ. Let H ,H ⊂Q be mutually generic filters,
0 1
let p =τ/H and p =τ/H , and let a =η/H and a =σ/H . By a mutual
0 0 1 1 0 0 1 1
genericity argument, a ∩a = (a ∩V)∩(a ∩V) = a ∩V. It follows that
0 1 0 1 1
a ∩a ∈/ p and so p ,p are incompatible conditions in P, contradicting the
0 1 1 0 1
balance assumption.
Finally, to show that Q(cid:13)τ ≤Aˇ, suppose towards a contradiction that this
fails. Passing to a condition in Q if necessary we may find a set b ∈ A and a
Q-name σ such that Q (cid:13) σ ∈ τ and σ∩ˇb ∈/ Aˇ. Now proceed similarly to the
previous paragraph. Strengthen the name τ if necessary to contain a set which
contains X ∩V as a subset, and let η be a Q-name for such a set in τ. Let
H ,H ⊂ Q be mutually generic filters, let p = τ/H and p = τ/H , and let
0 1 0 0 1 1
a = η/H and a = σ/H . By a mutual genericity argument, a ∩b∩a =
0 0 1 1 0 1
(a ∩b)∩(a ∩b) = a ∩b. Now, if a ∩b ∈ V, then a ∩b ∈ A, contradicting
0 1 1 1 1
the choice of the name σ. Thus, it must be the case that a ∩b∈/ V, and by a
1
mutualgenericityargumenta ∩b∈/ V[H ]. Itfollowsthata ∩b∩a ∈/ p andso
1 0 0 1 0
p ,p are incompatible conditions in P, contradicting the balance assumption.
0 1
Finally,(3)isobvious. ThebalanceoftheposetP followsfrom(1): ifp∈P
is a condition then (cid:104)Coll(ω,X),p∪{X∩V}(cid:105) is a balanced pair below p.

8.5. SET MAPPINGS 183
8.5 Set mappings
In this section, we develop posets for adding interesting set mappings. Let
n∈ω. Aset mapping (ofarityn)onasetX isjustafunctionf: [X]n →P(X)
such that f(a)∩a = 0 holds for every set a ∈ [X]n. A free set for f is a set
b ⊂ X such that f(a)∩b = 0 holds for all a ∈ [b]n. Set mappings without
large free sets have been investigated by Komj´ath ??? and others. It is possible
to add such mappings on Polish spaces by balanced forcing. We start with an
interesting limiting result.
Proposition8.5.1. (ZF)LetX beanuncountablePolishspace. Ifthereisaset
mapping f: [X]2 →X<ℵ0 without a free triple, then there is a countable-to-one
function from X to ω .
1
Proof. For each x∈X let M be the model of sets hereditarily ordinally defin-
x
able from x and f. Let ≤ be the pre-ordering on the space X defined by y ≤x
if y ∈M .
x
First,weclaimthat≤islinear. Toproveit,supposetowardsacontradiction
that x ,x ∈ X are ≤-incomparable elements. Let x ∈ X be an ordinally
0 1 2
definable point which does not belong to the finite set f(x ,x ). Then x ∈/
0 1 1
f(x ,x ) since x is not definable from x , and x ∈/ f(x ,x ) since x is not
0 2 1 0 0 1 2 0
definable from x . Thus, the set {x ,x ,x } is a free triple for f, contradicting
1 0 1 2
the initial choice of f.
Second, we claim that if y < x are points in X then M |= M ∩ X is
x y
a countable set. Suppose towards a contradiction that this fails. Working in
the model M , let N be a countable elementary submodel of a large structure
x
containing x,y and f (cid:22) M . Since M contains uncountably many reals from
x y
the point of view of M , there is a point x ∈M \N. Let x ∈M ∩N be any
x 0 y 1 y
point which does not belong to f(x,x ). As in the first paragraph, {x,x ,x }
0 0 1
is a free triple for f, contradicting the initial choice of f.
Case 1. There is a point x such that M contains uncountably many elements
x
of X. By the previous two paragraphs, M contains all points of X. As ZFC
x
proves that existence of a set mapping with finite values and no free triple is
equivalenttothecontinuumhypothesisandM isamodelofZFCcontainingf
x
asanelement, weconcludethatM containsaninjectionfromX toωMx =ω .
x 1 1
This proves the proposition in this case.
Case2. Case1fails. Inthiscase,lethbethemaponX definedbyh(x)=ωMx.
1
By the failure of Case 1, the range of h is a subset of ω . It is also a countable-
1
to-one map. Suppose towards a contradiction that for some ordinal α∈ω , the
1
set A = {y ∈ X: h(y) = α} is uncountable. Let y ∈ A be any point, and use
the case assumption to find y ∈ A such that x ∈/ M . By the linearity of ≺, it
y
follows that y < x. By the previous work, the reals of M are a countable set
y
in M , violating the assumption that the two models have the same ω . The
x 1
proposition follows in this case as well.
Proposition 8.5.1 shows that we cannot hope to produce a set mapping with
finite values with no free triple, as such a mapping yields an uncountable se-

184 CHAPTER 8. OTHER FORCINGS
quence of F -classes. However, other options for set mappings are achievable in
2
balanced extensions.
Definition 8.5.2. Let X be an uncountable Polish space. The fat set mapping
forcing is the poset P of all functions p such that for some countable set d(p)⊂
X, p: [d(p)]2 → P(d(p)) is a set mapping without free triples. The ordering is
defined by q ≤p if d(p)⊂d(q) and p⊂q.
It is clear that P is a σ-closed Suslin forcing. The union of the P-generic set if
a set mapping with countable values and no free triples.
Theorem 8.5.3. Let P be the fat set mapping forcing.
1. Iff: [X]2 →P(X)isanysetmappingwithoutfreetriples,then(cid:104)Coll(ω,X),fˇ(cid:105)
is a balanced pair;
2. if (cid:104)Q,τ(cid:105) is any balanced pair, there is a set mapping f: [X]2 → P(X)
without free triples such that the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,X),fˇ(cid:105)
are equivalent;
3. distinct set mappings on X without free triples yield inequivalent balanced
pairs.
In particular, the poset P is balanced.
Proof. For(1),itisclearthatColl(ω,X)(cid:13)fˇ∈P isacondition. LetV[G ],V[G ]
0 1
be mutually generic extensions of V, and let p ∈ V[G ],p ∈ V[G ] be condi-
0 0 1 1
tions containing f as a subset. To find a lower bound of p ,p in V[G ,G ],
0 1 0 1
let p be the function defined by d(p) = d(p ) ∪ d(p ), p ∪ p ⊂ p, and if
0 1 0 1
{x ,x } ⊂ d(p) is a pair such that x ∈ d(p )\V and x ∈ d(p )\V then
0 1 0 0 1 1
p(x ,x ) = d(p)\{x ,x }. We must show that p is a common lower bound of
0 1 0 1
p ,p .
0 1
Firstofall,p ∪p isindeedafunction,sinceanypairaindom(p )∩dom(p )
0 1 0 1
is already in the ground model V by the product forcing theorem, and then
p (a) = p (a) = f(a). Second, we must verify that p has no free triple. Let
0 1
b ⊂ d(p) be a triple. If b ⊂ d(p ) or b ⊂ d(p ) holds, then b is not free because
0 1
p ,p containnofreetriples. Otherwise,bcanbelistedas{x ,x ,x }suchthat
0 1 0 1 2
x ∈d(p )\V andx ∈d(p )\V; thenx ∈p(x ,x )bythedefinitionofpand
0 0 1 1 2 0 1
b is not free either.
For (2), let (cid:104)Q,τ(cid:105) be a balanced pair. Strengthening Q and τ if necessary,
we may assume that Q(cid:13)V ∩X ⊂d(τ) holds. By a balance argument, for any
pointsx ,x ,y ∈X inthegroundmodel,Q(cid:13)yˇ∈τ(xˇ ,xˇ )orQ(cid:13)yˇ∈/ τ(xˇ ,xˇ )
0 1 0 1 0 1
holds. Let f: [X]2 → P(X) be the function defined by y ∈ f(x ,x ) if the
0 1
former alternative in the previous sentence prevails. It is clear that f contains
no free triple since τ is forced to contain none. Thus, it will be enough to show
that Q(cid:13)fˇ⊂τ.
Suppose towards a contradiction that this fails. Then there must be a con-
dition q ∈ Q and points x ,x ∈ X such that q (cid:13) τ(xˇ ,xˇ ) (cid:54)= fˇ(xˇ ,xˇ ).
0 1 0 1 0 1

8.5. SET MAPPINGS 185
Let G ,G ⊂ Q be mutually generic filters containing the condition q and
0 1
let p = τ/G ,p = τ/G . By the initial choice of the function f, there
0 0 1 1
must be points y ,y ∈ X \V such that y ∈ p (x ,x ) and y ∈ p (x ,x ).
0 1 0 0 0 1 1 1 0 1
By the product forcing theorem, y ∈/ V[G ] and y ∈/ V[G ] holds. Thus,
0 1 1 0
p (x ,x )(cid:54)=p (x ,x )andp ,p areincompatible,contradictingthebalanceof
0 0 1 1 0 1 0 1
the pair (cid:104)Q,τ(cid:105).
(3) is obvious. For the last sentence, suppose that p ∈ P is a condition.
Consider the set mapping f: [X]2 → P(X) defined by f(x ,x ) = p(x ,x ) if
0 1 0 1
both x ,x ∈ X belong to d(p), and f(x ,x ) = X \{x ,x } otherwise. It is
0 1 0 1 0 1
not difficult to check that f is a set mapping without free triples. By item (1),
f represents a balanced virtual condition below p.
Definition 8.5.4. Let X be an uncountable Polish space. A thin set mapping
forcing isaposetP ofallfunctionspsuchthatforsomecountablesetd(p)⊂X,
p: [d(p)]3 →[d(p)]<ℵ0 is a set mapping without a free quadruple. The ordering
is defined by q ≤p if d(p)⊂d(q) and p⊂q.
Theorem 8.5.5. Let P be the thin set mapping forcing.
1. If f: [X]3 → [X]<ℵ0 is any set mapping without free quadruples, then
(cid:104)Coll(ω,X),fˇ(cid:105) is a balanced pair;
2. if (cid:104)Q,τ(cid:105) is any balanced pair, there is a set mapping f: [X]3 → [X]<ℵ0
withoutfreequadruplessuchthatthebalancedpairs(cid:104)Q,τ(cid:105)and(cid:104)Coll(ω,X),fˇ(cid:105)
are equivalent;
3. distinct set mappings on X without free quadruples yield inequivalent bal-
anced pairs.
In particular, the poset P is balanced if and only if 2ℵ0 ≤ℵ
2
.
Proof. For (1), it is clear that Coll(ω,X) (cid:13) fˇ ∈ p holds. For the balance,
suppose that V[G ],V[G ] are mutually generic extensions and p ∈ V[G ],
0 1 0 0
p ∈ V[G ] are conditions extending f. To construct the lower bound p of
1 1
p ,p , in the model V[G ,G ] choose an enumeration {z : n ∈ ω} of d(p )∪
0 1 0 1 n 0
d(p ). Let p be the function on [d(p )∪d(p )]3 defined by p ,p ⊂ p and if
1 0 1 0 1
x ,x ,x ∈ d(p )∪d(p ) are pairwise distinct points such that x ∈ d(p )\V
0 1 2 0 1 0 0
and x ∈d(p )\V, then p(x ,x ,x ) is the set of those points of d(p )∪d(p )
1 1 0 1 2 0 1
which are enumerated before one of the points x ,x ,x . We must show that p
0 1 2
is a lower bound of p ,p .
0 1
Firstofall,p ∪p isindeedafunction,sinceanypairaindom(p )∩dom(p )
0 1 0 1
is already in the ground model V by the product forcing theorem, and then
p (a) = p (a) = f(a). Second, we must verify that p has no free quadruple.
0 1
Let b ⊂ d(p) be a quadruple. If b ⊂ d(p ) or b ⊂ d(p ) holds, then b is not
0 1
free because p ,p contain no free qudruples. Otherwise, b can be listed as
0 1
{x ,x ,x ,x } such that x ∈ d(p )\V, x ∈ d(p )\V and x is enumerated
0 1 2 3 0 0 1 1 2
after x ; then x ∈p(x ,x ,x ) by the definition of p and b is not free either.
3 3 0 1 2

186 CHAPTER 8. OTHER FORCINGS
The proof of (2) is literally copied from the proof of Theorem 8.5.3(2). (3)
isobvious. Forthelastsentence, useanoldresultofKuratowskiandSierpin´ski
[34]: for every number n ≥ 2, 2ℵ0 ≤ ℵ
n−1
holds if and only if there is a set
mapping f: [2ω]n →[2ω]<ℵ0 without a free set of size n+1. Thus, if 2ℵ0 >ℵ
2
,
by (2) there are no balanced conditions and P is not balanced. On the other
hand, suppose that 2ℵ0 ≤ ℵ
2
holds, and let p ∈ P be a condition. To produce
a balanced virtual condition stronger than p, let g: [X]3 → [X]<ℵ0 be a set
mapping without a free set of size 4. Enumerate the set d(p) by (cid:104)x : i ∈ ω(cid:105)
i
and let f: [X]3 → [X]<ℵ0 be a function defined by f(a) = p(a) if a ⊂ d(p),
f(a) = g(a) if a∩d(p) = 0, and f(a) = g(a)∪{x : i ∈ n} where n is the
i
smallest number such that x ∈ dom(a), for sets a such that a (cid:54)⊂ d(p) and
n
a∩d(p)(cid:54)=0. It is not difficult to see that f is a set mapping without a free set
of size 4 such that p ⊂ f; therefore, by (1) it represents a balanced condition
stronger than p.
8.6 Saturated models on quotient spaces
Onecanusequotientsimplicialcomplexforcingstoaddstructurestothevarious
quotient spaces as long as the structures satisfy a well-known amalgamation
property from model theory. We will first review the definitions. For first order
structures M,N in the same language, a map π: M → N is an morphism if
it is an injection from dom(M) to dom(N) which transports all relations and
functions of M to the corresponding relations and functions in N.
Definition 8.6.1. [30]AFraiss´e class isaclassF offinitestructuresinafixed
finite first order language such that
1. F is closed under isomorphism and under induced substructures;
2. (jointembeddingproperty)wheneverN ,N ∈F arestructuresthenthere
0 1
is M ∈F containing both N ,N as induced substructures;
0 1
3. (amalgamation)wheneverM,N ,N ∈F arestructuresandπ : M →N
0 1 0 0
and π : M → N are morphisms, then there is a structure K ∈ F and
1 1
morphisms χ : N →K and χ : N →K such that χ ◦π =χ ◦π .
0 0 1 1 0 0 1 1
We will tacitly assume that our Fraiss´e classes contain arbitrarily large finite
structures. Fraiss´e classes are prominent in model theory [41, Theorems 5.3.3
and 5.3.5], Ramsey theory [71, 23], and topological dynamics [53, 106]. The
classes we can handle satisfy a well-known stronger version of amalgamation:
Definition 8.6.2. A Fraiss´e class F satisfies strong amalgamation if for when-
ever M,N ,N ∈ F are structures and π : M → N and π : M → N are
0 1 0 0 1 1
morphisms, then there is a structure K ∈ F and morphisms χ : N → K and
0 0
χ : N →K such that χ ◦π =χ ◦π , and rng(χ )∩rng(χ )=(χ ◦π)(cid:48)(cid:48)M.
1 1 0 0 1 1 0 1 0
Definition 8.6.3. Let F be a Fraiss´e class in a finite relational language.

8.6. SATURATED MODELS ON QUOTIENT SPACES 187
1. An F-structure is a structure M in the same language as F such that for
every finite set a⊂dom(M), M (cid:22)a∈F;
2. Let E be a Borel equivalence relation on a Polish space X. The E,F-
Fraiss´e poset P consists of conditions p where p is an F-structure whose
domain is a countable subset of the quotient space X/E. The ordering is
defined by q ≤p if dom(p)⊂dom(q) and p=q (cid:22)dom(p).
It is obvious that the poset P introduces a F-structure on the space X/E,
denoted by M˙ . It is not difficult, but at the same time also not particularly
gen
natural, to describe the poset P(F,E) as a quotient simplicial complex poset:
the vertices of the simplicial complex K will be finite F-structures on the E-
quotient space, and a finite set a of vertices belongs to K if all structures in a
areinducedsubstructuresofasinglefiniteF-structureontheE-quotientspace.
It is obvious that the posets P(F,E) and P are naturally co-dense; however,
K
we will never use the simplicial complex presentation of P(F,E). To describe
thebalancedconditionsintheposetP(F,E),supposethatM isanF-structure
on the virtual E-quotient space X∗∗. Let τ be a Coll(ω,(cid:105) )(cid:105) name for the
M ω1
condition π(cid:48)(cid:48)M where π is the map from the virtual space (X∗∗)V to the E-
quotient space of the extension which maps each virtual class to its realization.
Theorem 2.5.6 provides the necessary assurance that the map π is well-defined
and its range is a countable set.
Theorem 8.6.4. Let F be a Fraiss´e class in a finite relational language which
satisfies strong amalgamation. Let E be a Borel equivalence relation on a Polish
space X. Then in the E,F-Fraiss´e poset P,
1. for every F-structure M on X∗∗, the pair (cid:104)Coll(ω,(cid:105) ),τ (cid:105) is balanced;
ω1 M
2. for every balanced pair (cid:104)Q,τ(cid:105) there is a F-structure M on X∗∗ such that
the pairs (cid:104)Coll(ω,(cid:105) ),τ (cid:105) and (cid:104)Q,τ(cid:105) are equivalent;
ω1 M
3. distinct F-structures on X∗∗ yield inequivalent balanced conditions.
In particular, P is balanced.
Proof. For(1),supposethatM isaF-structureonX∗∗. LetR ,R bearbitrary
0 1
posetsandσ ,σ arerespectiveR ×Coll(ω,(cid:105) )-andR ×Coll(ω,(cid:105) )-names
0 1 0 ω1 1 ω1
for elements of P such that in the respective posets σ ≤ τ and σ ≤ τ is
0 M 1
forced. Let H ,H be mutually generic filters on the respective posets and let
0 1
p = τ /H , p = σ /H and p = σ /H ; we need to show that p ,p are
M 0 0 0 0 1 1 1 0 1
compatible in the poset P.
For this, first note that by the mutual genericity, dom(p ) ∩ dom(p ) =
0 1
dom(p). Bytheassumptiononthenamesσ ,σ itisthecasethatp (cid:22)dom(p)=
0 1 0
p (cid:22) dom(p) = p. Write c = dom(p )∪dom(p ). By the strong amalgamation
1 0 1
property of the Fraiss´e class F, for each finite set a ⊂ c there is a structure
N ∈F suchthatdom(N )=aandwritinga =a∩dom(p )anda ∩dom(p ),
a a 0 0 1 1
N (cid:22) a = p (cid:22) a and N (cid:22) a = p (cid:22) a both hold. Let U be an ultrafilter on
a 0 0 0 1 1 1 1

188 CHAPTER 8. OTHER FORCINGS
[c]<ℵ0 such that for each finite set a ⊂ c the set {b: a ⊂ b} is in the ultrafilter
U. Let N be the structure on c which is the U-integral of the structures N . It
a
is immediate that N (cid:22)dom(p )=p and N (cid:22)p =p ; the closure of the Fraiss´e
0 0 1 1
class under substructures shows that N is a F-structure. It is the desired lower
bound of the conditions p ,p .
0 1
For (2), note that for each relation R in the language of the Fraiss´e class
F and every tuple a of virtual E-classes, it must be the case that either Q (cid:13)
τ (cid:13) a belongs to the relation R in the generic structure M˙ , or Q (cid:13) τ (cid:13) a
gen
does not to the relation R in the generic structure M˙ by the balance of the
gen
pair (cid:104)Q,τ(cid:105). Let M be the structure on the virtual E-quotient space consisting
of those tuples for which the former alternative occurs. It is immediate that
Q×Coll(ω,(cid:105) ) (cid:13) τ ≤ τ in the separative quotient of the poset P. The
ω1 M
equivalence of the two pairs follows from Proposition 5.2.4.
Now,(3)isobvious. Forthelastsentence,supposethatp∈P isacondition.
For each finite set a⊂X∗∗, choose a structure N ∈F such that dom(N )=a
a a
and N
a
(cid:22)(dom(p)∩a)=p(cid:22)(dom(p)∩a). Let U be an ultrafilter on [X∗∗]<ℵ0
such that for each finite set a ⊂ X∗∗ the set {b: a ⊂ b} is in the ultrafilter U.
Let N be the structure on X∗∗ which is the U-integral of the structures N .
a
It is immediate that N (cid:22) dom(p) = p; the closure of the Fraiss´e class under
substructures shows that N is a F-structure. The pair (cid:104)Coll(ω,(cid:105) ),τ (cid:105) is a
ω1 N
balanced virtual condition below p.
Example 8.6.5. Let E be a Borel equivalence relation on a Polish space X.
LetP betheposetofalllinearorderingsoncountablesubsetsoftheE-quotient
space. The poset is designed to add a linear ordering on the quotient space.
Since the Fraiss´e class of finite linear orderings has the strong amalgamation
property, the poset P is balanced, and its balanced conditions are classified by
linear orders on the virtual E-quotient space.
Example8.6.6. LetE beaBorelequivalencerelationonaPolishspaceX. Let
P betheposetofalltournamentsoncountablesubsetsoftheE-quotientspace.
The poset is designed to add a tournament on the quotient space. Since the
Fraiss´e class of finite tournaments has the strong amalgamation property, the
poset P is balanced, and its balanced conditions are classified by tournaments
on the virtual E-quotient space.
The Fraiss´e posets can be viewed as a particularly well-behaved subclass of a
significantlylargerclassobtainedfromstandardamalgamationconstructionsin
model theory.
Definition8.6.7. LetT beacompletefirst-ordertheoryincountablelanguage,
withinfinitemodels. LetE beaBorelequivalencerelationonaPolishspaceX.
The poset P consists of structures p satisfying the theory T whose domain is
TE
a countable subset of the E-quotient space. The ordering is that of elementary
substructure: q ≤ p if the domain of p is a subset of the domain of q, and p is
an elementary substructure of q.

8.6. SATURATED MODELS ON QUOTIENT SPACES 189
It is immediate that the union of the structures in the generic filter is a count-
ably saturated model of the theory T on the E-quotient space. To classify the
balanced virtual conditions, we use the following definition.
Definition 8.6.8. A balanced theory is a complete consistent theory S in the
language of T plus a constant for each virtual E-class which contains T and
asserts than no elements other than the virtual E-class constants are algebraic
over those constants.
Suppose that S is a balanced theory. Let τ be the Coll(ω,(cid:105) )-name for the
S ω1
set of all countable models p ∈ P such that dom(p) contains the set p of
TE 0
realizations of all ground model virtual E-classes and p |= S. It is not difficult
toseethatτ isanameforananalytic,nonempty,andopensubsetoftheposet
S
P .
TE
Theorem 8.6.9. Let T be a complete first-order theory in countable language,
with infinite models. Let E be a Borel equivalence relation on a Polish space X.
1. ForeverybalancedtheoryS,thepair(cid:104)Coll(ω,(cid:105) ),τ (cid:105)isbalancedinP ;
ω1 S TE
2. for every balanced pair (cid:104)Q,τ(cid:105) there is a balanced theory S such that the
balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,(cid:105) ),τ (cid:105) are equivalent;
ω1 S
3. distinct balanced theories yield inequivalent balanced pairs.
In particular, the poset P is balanced.
TE
Proof. For (1), suppose that S is a balanced theory, V[H ],V[H ] are mutually
0 1
generic extensions of the ground model, and p ,p ∈P are conditions in the
0 1 TE
respective models in the set given by the name τ . We must show that there is
S
a model q ∈ P in which both models p ,p of T are elementary. Note that
TE 0 1
dom(p )∩dom(p ) is exactly the set of all realizations of ground model virtual
0 1
E-classes by the mutual genericity assumption. Use the algebraicity clause of
Definition 8.6.8 and a textbook amalgamation theorem [41, Theorem 5.3.5] to
conclude that in V[H ,H ] there is a countable model q of T and elementary
0 1
embeddings j : p →q and j : p →q such that j ,j coincide on the set r of
0 0 1 1 0 1
realizations of virtual E-classes from the ground model, and the sets j(cid:48)(cid:48)(p \r)
0 0
and j(cid:48)(cid:48)(p \r) are disjoint. It is easy to see that such a model q can be realized
1 1
insuchawaythatitsdomainisasetofE-classesandtheembeddingsj ,j are
0 1
both identity maps. Then q is the sought lower bound of the conditions p ,p .
0 1
For (2), let (cid:104)Q,σ(cid:105) be a balanced pair. Strengthening the name σ and the
poset Q if necessary, we may assume that σ is in fact a name for a single
element of P as opposed to an analytic subset of P and that σ is forced
TE TE
to contain the realization of every virtual E-class in the ground model. By a
balance argument, for every formula φ((cid:126)x) and every tuple(cid:126)c of virtual E-classes
of the same length as (cid:126)x, it must be the case that either Q (cid:13) σ |= φ((cid:126)c) or
Q(cid:13)σ |=¬φ((cid:126)c). Let S be the set of all formulas and tuples of virtual E-classes
φ((cid:126)c)forwhichtheformeroptionprevails. WeneedtoshowthatS isabalanced
theory and the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,(cid:105) ),τ (cid:105) are equivalent.
ω1 S

190 CHAPTER 8. OTHER FORCINGS
Claim 8.6.10. Q forces that no element of σ which is not a realization of a
virtual E-class is algebraic over a tuple of virtual E-classes from the ground
model.
Proof. Suppose towards a contradiction that this fails, and let q ∈ Q be a
condition, let η be a Q-name for an element of σ which is not a realization of a
virtual E-class, and let φ be a formula,(cid:126)c a tuple of virtual E-classes and n∈ω
be a natural number such that q (cid:13)σ |= there are precisely n many x such that
φ(x,(cid:126)c) holds, and η is one of them. Let H ,H ⊂Q be mutually generic filters
0 1
over the ground model, both containing q, and let p = σ/H and p = σ/H .
0 0 1 1
We will show that p ,p have no lower bound in the poset P , reaching a
0 1 TE
contradiction with the balance assumption on the pair (cid:104)Q,σ(cid:105).
Suppose then that q is such a lower bound. By elementaricity, q must see
exactlynmanysolutionstoφ(x,(cid:126)c),andallsolutionsinp andinp aresolutions
0 1
in q. Now, p already sees n many solutions, and η/H is another solution in
0 1
p which does not belong to p or even to V[H ]. Thus, q in fact sees at least
1 0 0
n+1 many solutions,a contradiction.
It follows that S is a balanced theory, and also that Coll(ω,(cid:105) )×Q(cid:13)σ ∈τ .
ω1 S
The equivalence of the balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,(cid:105) ),τ (cid:105) then follows
ω1 S
from Proposition 5.2.4.
(3) is obvious. For the last sentence, suppose that p∈P is a condition–a
TE
countablemodelofthetheoryT. BytheupwardsL¨owenheim–Skolemtheorem,
there is a model M of the theory T on the virtual E-quotient space in which p
is an elementary submodel. Let S be the diagram of M and observe that S is
a balanced theory and its corresponding balanced condition is below p.
Example8.6.11. LetT bethetheoryofdenselinearorderswithoutendpoints.
The notion of algebraicity is trivial in the theory T, and T has elimination of
quantifiers. It follows that the balanced theories are exactly the linear orders
on the set of virtual E-classes. This should be compared to Example 8.6.5.
8.7 Non-DC variations
All of the partial orders exhibited so far are either σ-closed or ℵ -distributive,
0
and therefore their corresponding extensions of the symmetric Solovay model
satisfy DC, the Axiom of Dependent Choices. This is normaly viewed as highly
desirable,asDCisakeytoolfordevelopingmathematicalanalysisanddescrip-
tive set theory as we know them today. However, balanced forcing can be used
to generate extensions of the symmetric Solovay model in which DC fails. We
include one striking example.
Definition 8.7.1. Let X be an uncountable Polish space. The finite-countable
poset P associated with X consists of pairs p = (cid:104)a ,b (cid:105) where a ⊂ X is a
p p p
finite set, b ⊂ X is a countable set, and a ∩b = 0. The ordering is that of
p p p
coordinatewise reverse inclusion.

8.8. SIDE CONDITION FORCINGS 191
The finite-countable poset is rather worthless in the ZFC context. The lack
of control over the finite part means that it collapses ℵ . Namely, for every
1
sequence(cid:104)x : α∈ω (cid:105)ofdistinctpointsofX,theset{α∈ω : (cid:104){x },0(cid:105)belongs
α 1 1 α
tothegenericfilteronP}isforcedtobecofinalinω ofordertypeω. However,
1
thefinite-countableposetprovidesaparticularlyeasyanswertoanoldquestion
of Woodin: is there a Suslin forcing which is not c.c.c. and yet has no perfect
antichain? Thefinite-countableposetisnotc.c.c.asitcollapsesℵ . Ontheother
1
hand, it does satisfy ℵ -c.c. in ZFC, and so by a straightforward absoluteness
2
argument cannot contain a perfect antichain. This should be contrasted with
the convoluted answer to Woodin’s question given in [46].
In the ZF+DC context, the finite-countable poset is much better behaved,
as is clear from the following theorem. The generic filter will add a partition of
the space X into two sets, one of which does not contain an infinite countable
subsetandtheothercontainsnoperfectsubset. Suchapartitionclearlyviolates
DC.
In order to classify the balanced conditions in the finite-countable poset, we
needapieceofnotation. Whenevera⊂X isafiniteset,letτ betheColl(ω,X)-
a
name for a condition in the poset P which is the pair (cid:104)a,(X∩V)\a(cid:105).
Theorem 8.7.2. Let X be a Polish space and P the associated finite-countable
poset.
1. For every finite set a⊂X, the pair (cid:104)Coll(ω,X),τ (cid:105) is balanced in P;
a
2. for every balanced pair (cid:104)Q,τ(cid:105) there is a finite set a ⊂ X such that the
balanced pairs (cid:104)Q,τ(cid:105) and (cid:104)Coll(ω,X),τ (cid:105) are equivalent;
a
3. distinct finite sets yield inequivalent balanced pairs.
Proof. For (1), suppose that V[H ],V[H ] are mutually generic extensions of
0 1
the ground model V and p = (cid:104)a ,b (cid:105) ∈ V[H ] and p = (cid:104)a ,b (cid:105) ∈ V[H ] are
0 0 0 0 1 1 1 1
conditions stronger than p¯= (cid:104)a,(X ∩V)\a. We have to show that p ,p are
0 1
compatible, which is to say that a ∩b = a ∩b = 0 holds. Suppose towards
0 1 1 0
a contradiction that for example x∈a ∩b is a point. By the product forcing
0 1
theorem, x∈V[H ]∩V[H ]=V. If x∈a then x∈b is impossible as p ≤p¯,
0 1 1 1
and if x∈/ a then x∈a is impossible as p ≤p¯. A contradiction!
0 0
For (2), let τ = (cid:104)a˙,b˙(cid:105) where a˙,b˙ are Q-names for disjoint subsets of X.
A balance argument show that for each point x ∈ X, either Q (cid:13) xˇ ∈ a˙ or
Q(cid:13)xˇ∈b˙. Leta⊂X bethesetofallpointsx∈X forwhichthefirstalternative
prevails. It is immediate that a is a finite set and Q×Coll(ω,X) (cid:13) τ ≤ τ .
a
Proposition5.2.4showsthenthatthebalancedpairs(cid:104)Q,τ(cid:105)and(cid:104)Coll(ω,X),τ (cid:105)
a
are equivalent, proving (2). (3) is immediate.
8.8 Side condition forcings
Attempts to force uncountable subsets of Polish spaces with a lack of internal
structure often converge to a kind of a side condition poset. Posets of this kind

192 CHAPTER 8. OTHER FORCINGS
are not covered by the previous sections. In this section, we outline several
examples.
Definition 8.8.1. Let X be a Polish space. Let F(X) denote the Effros Borel
space of all closed subsets of X [55, Section 12.C]. Let I ⊂F(X) be a Borel set
(cid:83)
suchthat I =X andI isnotacountableunionofelementsofI. TheposetP
I
consists of pairs p=(cid:104)a ,b (cid:105) where a ⊂X and b ⊂I are countable sets. The
p p p p
(cid:83)
ordering on P is defined by q ≤p if a ⊂a , b ⊂b , and ( b )∩a \a =0.
I p q p q p q p
It is immediate that P is a σ-closed Suslin forcing. It is designed to add an
I
uncountable set which has countable intersection with every element of I. For
the classification of balanced conditions, whenever a ⊂ X is a set, write τ for
a
the Coll(ω,X)-name for the pair (cid:104)aˇ,b˙(cid:105) where b˙ is the name for the set of all
ground model coded sets in I.
Theorem 8.8.2. Let X be a Polish space and let I ⊂F(X) be a Borel set such
(cid:83)
that I =X. Then
1. for every set a⊂X, the pair (cid:104)Coll(ω,X),τ (cid:105) is balanced;
a
2. for every balanced pair (cid:104)Q,σ(cid:105) there is a set a ⊂ X such that the pairs
(cid:104)Q,σ(cid:105) and (cid:104)Coll(ω,X),τ (cid:105) are equivalent;
a
3. distinct subsets of X yield nonequivalent balanced pairs.
In particular, the poset P is balanced.
I
Proof. Towards(1),unravelingthedefinitions,itissufficientshowthefollowing.
Suppose that R ,R are posets and σ ,σ are respective names for countable
0 1 0 1
subsetsofX suchthatR (cid:13)σ ∩ (cid:83) (I∩V)=0andR (cid:13)σ ∩ (cid:83) (I∩V)=0;then
0 0 1 1
R ×R (cid:13)σ ∩ (cid:83) (I∩V[G˙ ])=0andσ ∩ (cid:83) (I∩V[G˙ ])=0whereG˙ ,G˙ arethe
0 1 0 1 1 0 0 1
respective product names for the generic filters on the 0th and 1st coordinate.
This, however, is immediate. We will show that R × R (cid:13) σ ∩ (cid:83) (I ∩
0 1 0
V[G˙ ]) = 0; the proof of the other assertion is symmetric. Suppose towards a
1
contradiction that η is an R -name for an element of σ , χ is an R -name for
0 0 1
an element of I, and (cid:104)r ,r (cid:105)∈R ×R is a condition forcing that η ∈χ holds.
0 1 0 1
Let M be a countable elementary submodel of a large structure containing all
objects named so far, let g ⊂R ∩M be a filter generic over M containing the
1 1
condition r , and let F = χ/g . Since F is a closed set in I ∩V, there must
1 1
be a basic open set O ⊂ X and a condition r(cid:48) ≤ r such that O∩F = 0 and
0 0
r(cid:48) (cid:13) η ∈O˙. Bythegenericityofthefilterg andtheforcingtheoremapplied
0 R0 1
in the model M, there must be a condition r(cid:48) ≤r such that r(cid:48) (cid:13) O∩χ=0.
1 1 1 R1
Clearly, (cid:104)r(cid:48),r(cid:48)(cid:105)(cid:13)η ∈/ χ, contradicting the initial choice of (cid:104)r ,r (cid:105).
0 1 0 1
Towards(2),let(cid:104)Q,σ(cid:105)beabalancedpair;enlargingtheposetQifnecessary
we may assume that Q collapses the size of the ground model continuum to ℵ ;
0
strengthening the condition σ we may assume that b is forced to contain all
σ
ground model coded elements of I. By a balance argument, for every point
x ∈ X it is the case that either Q (cid:13) xˇ ∈ a or Q (cid:13) xˇ ∈/ a . Let a ⊂ X be the
σ σ

8.8. SIDE CONDITION FORCINGS 193
set of all those elements of X for which the former alternative prevails. We will
show that Q×Coll(ω,X) (cid:13) σ ≤ τ , which implies the equivalence of σ and τ
a a
by Proposition 5.2.4.
To prove the inequality σ ≤ τ , it is enough to show that Q (cid:13) (a \V)∩
a σ
(cid:83)
( (I ∩V))=0. Suppose towards a contradiction that this fails, and let q ∈Q
beacondition,ηbeaQ-nameforanelementofa \V andF ∈I∩V beaclosed
σ
set such that q (cid:13)η ∈F˙. Let G ,G ⊂Q be mutually generic filters containing
0 1
the condition q. By a mutual genericity argument, the point η/G does not
0
belong to a , while it does belong to F and F ∈ b . This means the
σ/G1 σ/G1
conditionsσ/G ,σ/G areincompatibleinP, violatingthebalanceassumption
0 1
on (cid:104)Q,σ(cid:105).
(cid:83)
Finally, (3) is immediate from the assumption that X = I.
Example 8.8.3. Let X =2ω, let Γ be the graph connecting points x,y ∈X if
theleastnumbersuchthatx(n)(cid:54)=y(n)iseven. LetI bethecollectionofclosed
Γ-cliquesandclosedΓ-anticliques. TheposetP addsagenericuncountableset
I
such that every Γ-clique or anticlique is countable. This exhibits a balanced
extension in which OCA fails, cf. Example 12.2.16.
Example 8.8.4. Let X = ωω and let I be the collection {x ≤ y: x ∈ X} for
all functions y ∈ ωω, where ≤ is the everywhere domination ordering on ωω.
The poset P adds a dominating subset of ωω which has only countably many
I
elements below any given function y ∈ωω. A set like this must fail to have the
Baire property. In a rather different language, Shelah [81] showed that in the
P -extension of the Solovay model every set is Lebesgue measurable, showing
I
that ZF+DC plus the statement “every set of reals is Lebesgue measurable”
does not imply that every set has the Baire property.
In the case when I is the collection of closed nowhere dense subsets of X,
there is a more sophisticated variation of the poset P . For a natural number
I
n ∈ ω, a set s ⊂ (2ω)n, and a partial function h: n → 2ω write s = {g ∈
h
(2ω)n\dom(h): h∪g ∈s}.
Definition8.8.5. TheLusinposet P isthepartialorderofallpairsp=(cid:104)a ,b (cid:105)
p p
where a ⊂2ω is a countable E -invariant set and b is a countable set of pairs
p 0 p
(cid:104)s,a(cid:105)wheres⊂(2ω)n isaclosednowheredensesubsetof(2ω)n forsomen∈ω,
a⊂a is an E -invariant set, and for each partial function h: n→a \a whose
p 0 p
range consists of pairwise non-E -related elements, if dom(h) = n then h ∈/ s,
0
and if dom(h) (cid:54)= n then the set s is nowhere dense in the space (2ω)n\dom(h).
h
The order is that of coordinatewise reverse inclusion.
It is not difficult to check that P is a σ-closed Suslin partial ordering. The
poset adds an E -invariant Lusin subset of 2ω–an uncountable set which inter-
0
sects every nowhere dense set in a countable set. The generic set has a similar
property in all finite powers though, and in Example 12.2.17 it serves an even
more refined purpose. The balance of P is an immediate consequence of the
following classification theorem. For any E -invariant set a ⊂ 2ω, let τ be the
0 a
Coll(ω,2ω)-nameforthecondition(cid:104)aˇ,b(cid:105)∈P wherebisthesetofallpairs(cid:104)s,a(cid:105)

194 CHAPTER 8. OTHER FORCINGS
where s is a ground model coded closed nowhere dense subset of (2ω)n in the
ground model for some n∈ω.
Theorem 8.8.6. Let P be the Lusin poset.
1. For every E -invariant set a⊂X, the pair (cid:104)Coll(ω,X),τ (cid:105) is balanced;
0 a
2. for every balanced pair (cid:104)Q,σ(cid:105) there is a set a ⊂ X such that the pairs
(cid:104)Q,σ(cid:105) and (cid:104)Coll(ω,X),τ (cid:105) are equivalent;
a
3. distinct subsets of X yield nonequivalent balanced pairs.
In particular, the poset P is balanced.
Proof. WriteS =Coll(ω,2ω). For(1),letR ,R beposetsandσ ,σ beR ×S
0 1 0 1 0
andR ×S-namesrespectivelysuchthatR ×S (cid:13)σ ≤τ andR ×S (cid:13)σ ≤τ .
1 0 0 a 1 1 a
Let G ⊂ R ×S and G ⊂ R ×S be mutually generic filters; we must show
0 0 1 1
that the conditions p =σ /G ,p =σ /G ∈P are compatible.
0 0 0 1 1 1
To this end, write p = (cid:104)a ,b (cid:105) and p = (cid:104)a ,b (cid:105). Let n ∈ ω, let s ∈ (2ω)n
0 0 0 1 1 1
be a nowhere dense set, let (cid:104)a,s(cid:105)∈b ∪b be a pair, and let h: n→a ∪a be
0 1 0 1
a partial function whose range consists of pairwise non-E -related elements of
0
(a ∪a )\a. Wemustshowthateither(ifdom(h)=n)h∈/ s,or(ifdom(h)(cid:54)=n)
0 1
the set s is nowhere dense.
h
Fordefinitenessassumethat(cid:104)a,s(cid:105)∈b . Leth =h∩V[G ]andh =h\h .
0 0 0 1 0
Since p ∈ P holds, the set s is nowhere dense. By the Kuratowski–Ulam
0 h0
theorem, the set t = {k ∈ (2ω)dom(h1): s
h0∪k
is somewhere dense} is meager
and inthe model V[G ]. Now, the function h is product-Cohen generic over V
0 1
by the definition of the name τ . By a mutual genericity argument, h is also
a 1
product-Cohen generic over V[G ] and therefore does not belong to the set t.
0
Thus the set s is nowhere dense as required.
h0∪h1
For (2), suppose that (cid:104)Q,σ(cid:105) is a balanced pair. Strengthening the poset Q
or the condition σ repeatedly, we may assume that Q (cid:13) 2ω ∩V is countable,
and
• for each x∈2ω in V either x∈a or for no extension p≤σ it is the case
σ
that x∈a ;
p
• foreachn∈ω andeachclosednowheredensesets⊂(2ω)n intheground
model, either (cid:104)(a ∩V),s(cid:105) ∈ b or for no extension p ≤ σ it is the case
σ σ
that (cid:104)(a ∩V),s(cid:105)∈b ;
σ p
• foreachn∈ω andeachclosednowheredensesets⊂(2ω)n intheground
model there is a such that (cid:104)a,s(cid:105)∈b .
σ
Byabalanceargument,foreachx∈2ω inthegroundmodel,eitherQforcesthe
first clause of the first item to prevail for xˇ, or Q forces the second clause of the
first item to prevail for xˇ. Let a⊂2ω be the set of all points for which the first
option prevails; we will show that Q×S (cid:13) σ ≤ τ , showing that the balanced
a
pairs(cid:104)Q,σ(cid:105)and(cid:104)Coll(ω,2ω),τ (cid:105)areequivalentbyProposition5.2.4. Toseethe
a

8.9. WEAKLY BALANCED VARIATIONS 195
inequality,itisonlynecessarytoshowthatthesecondclauseoftheseconditem
above is impossible for any closed nowhere dense set s ⊂ (2ω)n in the ground
model. Suppose towards a contradiction that the second clause occurs. This
can only happen if there is a Q-name h˙ such that Q forces h˙: n → 2ω to be a
partialmapsuchthatrng(h)consistsofpairwisenon-E -equivalent,non-ground
0
model elements of a such that either (if dom(h)=n) h∈s or (if dom(h)(cid:54)=n)
σ
the set s contains a nonempty open set. In either case, let G ,G ⊂ Q be
h 0 1
mutuallygenericfilters,andusethethirditemtofindaseta∈V[G ]suchthat
0
(cid:104)a,s(cid:105) ∈ b . Then by mutual genericity the set rng(h˙/G ) consists of points
σ/G0 1
whicharenotina. Thismeansthattheconditionsσ/G ,σ/G areincompatible
0 1
in P, contradicting the balance assumption on the pair (cid:104)Q,σ(cid:105).
(3) is immediate. For the last sentence, if p ∈ P is a condition, it is not
difficult to see that S forces pˇto be compatible with τ . The name for a lower
ap
bound is a balanced virtual condition below p.
8.9 Weakly balanced variations
There are a number of restrictions on the balanced extensions of the Solovay
model–Corollaries 9.1.2, 9.1.5 or Theorems 14.1.1 or 14.2.1 are good examples.
Transcending these restrictions requires reaching for a weakly balanced forcing.
The weakly balanced arguments are invariably more complicated than the bal-
anced ones, and we never obtain a classification of weakly balanced classes. We
include two examples reminiscent of the side condition forcings of Section 8.8.
The first poset adds an injection from the E-quotient space to the E -quotient
0
space, where E is any give Borel equivalence relation on a Polish space. For
a pinned equivalence relation E this is possible to do with a balanced forcing,
see Theorem 6.6.3; in the general case, this is impossible to do with balanced
forcing by Theorem 9.1.1.
Definition 8.9.1. Let E be a Borel equivalence relation on a Polish space X.
The Lusin collapse forcing P is the poset of all triples p = (cid:104)a ,b ,f (cid:105) where
E p p p
(cid:104)a ,b (cid:105) is a condition in the Lusin forcing of Definition 8.8.5, and f is an
p p p
injection from the E-space to the set of E -classes represented in a . The order
0 p
is that of coordinatewise reverse inclusion.
It is not difficult to see that P is a σ-closed Suslin partial order and if G⊂P is
(cid:83)
a generic filter then f = f is a total injection from the E-quotient space
p∈G p
totheE -quotientspace. ItisinstructivetoviewtheposetP asanaturaltwo-
0 E
step iteration. The first step is the (balanced) Lusin poset of Definition 8.8.5
adding a subset A of the E -quotient space. In the second step, an injection of
0
the E-quotient space into A is added by straightforward countable approxima-
tions. The projection from P into the Lusin poset is given by the projection
E
of conditions in p into the first two coordinates.
Theorem 8.9.2. Let E be a Borel equivalence relation on a Polish space X.
The Lusin collapse forcing of |E| to |E | is weakly balanced.
0

196 CHAPTER 8. OTHER FORCINGS
Proof. Write P =P . Let p∈P be a condition; we must find a virtual weakly
E
balanced condition p¯ ≤ p. Let p¯ = (cid:104)Coll(ω,2ω),(cid:104)aˇ ,ˇb,fˇ(cid:105)(cid:105) where b is the set
p p
of all pairs (cid:104)a ,s(cid:105) where s ⊂ (2ω)n is a closed nowhere dense set coded in the
p
ground model for some n ∈ ω. It is immediate that p¯is a virtual condition; it
will be enough to show that p¯is weakly balanced.
Before we proceed, we must fix some notation and terminology. Let V[G]
be a generic extension of V, and in V[G] let f be a function from the virtual
E-quotient space to the quotient E -space. If M is an intermediate model of
0
ZF between V and V[G], write f|M for the following set. Let γ be the smallest
ordinal such that in M, every E-pin is equivalent to an E-pin of set-theoretic
ranksmallerthanγ;suchanordinalexistssincebyTheorem2.5.6thereareonly
set many virtual E-classes in V[G]. Let f|M be the set of all pairs (cid:104)(cid:104)Q,τ(cid:105),y(cid:105)
such that (cid:104)Q,τ(cid:105) ∈ M is an E-pin of rank smaller than γ, y ∈ 2ω, and for
some virtual E-class c ∈ dom(f), y ∈ f(c) and (cid:104)Q,τ(cid:105) ∈ c. The transfinite
analysis off isthesequenceofmodelsM ofZFgivenbytherecursiveformula
α
M =V((cid:104)f|M : β ∈α(cid:105));notethatalwaysM =V andthemodelsM forman
α β 0 α
inclusion-increasing sequence. The function f has a heart if there is an ordinal
α such that
• for every ordinal β ∈ α and every E-pin (cid:104)Q,τ(cid:105) ∈ M there is a class
β
c∈dom(f) with (cid:104)Q,τ(cid:105)∈c;
(cid:83)
• foreveryvirtualE-classc∈dom(f),ifc∩M (cid:54)=0thenc∩ M (cid:54)=0.
α β∈α β
Note that once such an ordinal α is reached then M = M for all ordinals
δ α
δ ≥ α. If the function f has a heart, then the least ordinal α as above is its
depth. The heart of f is the pair (cid:104)M,h(cid:105) where M =M and h=f|M.
α
WeapplytheabovetransfiniteanalysisalsotoconditionsinP. AnyE-class
c will be identified with the virtual E-class of all E-pins (cid:104)Q,τ(cid:105) such that for
some (all) x ∈ c, Q (cid:13) τ E xˇ; thus, a partial function on the E-quotient space
is viewed as a partial function on the virtual E-quotient space. The heart of a
condition in P is the heart of its last coordinate. The following two key claims
control the behavior of hearts of conditions below p¯.
Claim 8.9.3. Every condition q ∈ P can be strengthened in some generic ex-
tension to a condition r ≤q which has a heart.
Proof. Let V[G] be a generic extension of V, and let q ∈ V[G] be a condition
in P. Work in V[G]. By transfinite recursion on β ≤ω define a finite support
1
iteration (cid:104)R : β ≤ ω ,Q˙ : β < ω (cid:105) of c.c.c. forcings and R -names τ so that
β 1 β 1 β β
R forces the following:
β
(cid:83)
• τ =0, γ ∈β implies τ ⊂τ , and if β is limit then τ = τ ;
0 γ β β γ∈β γ
• τ is a partial function from the virtual E-quotient space to the E -
β 0
quotient space which has a heart (cid:104)M ,τ |M (cid:105) of depth β and dom(τ )
β β β β
contains exactly those virtual E-classes represented in dom(τ |M );
β β

8.9. WEAKLY BALANCED VARIATIONS 197
• Q˙ is the finite support product of copies of Cohen forcing on 2ω indexed
β
by all the virtual E-classes in M which are not represented in (cid:83) M˙
β γ∈β γ
and do not belong to dom(f ), and τ is the function τ together with
q β+1 β
the function sending each virtual E-class in M as above to the E -class
β 0
of the corresponding Cohen real, and sending every virtual E-class in M
β
which is dom(f ) to the E -class indicated by f .
q 0 q
WriteR=R . LetH ⊂RbeafiltergenericoverV[G]; thus,themodelsV[G]
ω1
and V[G][H] have the same ω . In V[G][H], write f = τ /H for all β ≤ ω
1 β β 1
and f =f . Consider the transfinite analysis (cid:104)M : β ∈ω (cid:105) of f, starting with
ω1 β 1
M = V. Since the function f is countable, a counting argument shows that
0 q
there has to be an ordinal β ∈ ω such that every virtual E-class represented
1
in M and in dom(f ) is already represented in M . Thus, the transfinite
β+1 q β
analysis of the function f ∪f equals to (cid:104)M : γ ≤ α(cid:105) and (cid:104)M ,f |M (cid:105) is its
q β γ β β β
heart. Considerthetriple(cid:104)a ∪rng(f ),b ,f ∪f (cid:105). Itisnotdifficulttoseethat
q β q q β
it is a virtual condition in P stronger than q. In a suitable generic extension, it
turns into a condition r ≤q with heart (cid:104)M ,f |M (cid:105).
β β β
Claim 8.9.4. Let r ≤ p¯ be a condition in P in some generic extension with
heart (cid:104)M,h(cid:105). Then
1. the theory of the model M with parameters in V and the parameter h
depends only on the depth of r;
(cid:83)
2. everyrealinM belongstosomeV[b]wherebisafinitesubsetof rng(h).
Proof. Fix an ordinal α. It turns out that the hearts of conditions ≤p¯of depth
α are all generated in the same way. Work in V. By transfinite recursion on
β ≤α defineafinitesupportiteration(cid:104)R : β ≤α,Q˙ : β <α(cid:105)ofc.c.c.forcings
β β
and R -names τ so that R forces the following:
β β β
(cid:83)
• τ =0, γ ∈β implies τ ⊂τ , and if β is limit then τ = τ ;
0 γ β β γ∈β γ
• τ is a partial function from the virtual E-quotient space to the E -
β 0
quotient space which has a heart (cid:104)M ,τ |M (cid:105) of depth β and dom(τ )
β β β β
contains exactly those virtual E-classes represented in dom(τ |M );
β β
• if β = 0 then Q is the finite support product of copies of Cohen forcing
0
on2ω indexedbyallthevirtualE-classesinM =V whichdonotbelong
0
to dom(f ), and τ is the function f together with the function sending
p 1 p
each virtual E-class in V as above to the E -class of the corresponding
0
Cohen real;
• ifβ >0thenQ˙ isthefinitesupportproductofcopiesofCohenforcingon
β
2ω indexedbyallthevirtualE-classesinM whicharenotrepresentedin
β
(cid:83) M˙ , and τ is the function τ together with the function sending
γ∈β γ β+1 β
each virtual E-class in M as above to the E -class of the corresponding
β 0
Cohen real.

198 CHAPTER 8. OTHER FORCINGS
We will show that if r ≤p¯is a condition with heart (cid:104)M,h(cid:105) of depth α, then
in some forcing extension there is a filter H ⊂ R generic over V such that
α
writing (cid:104)N,k(cid:105) for the heart of τ /H, then (cid:104)M,h(cid:105)=(cid:104)N,k(cid:105). This will prove the
α
first item since the theory of (cid:104)M,h(cid:105) (with parameter h and other parameters in
the ground model) is then exactly the collection of those statements which R
α
forces to be true in the heart of τ . The second item of the claim ???
α
The following claim just restates the information from the previous claim in a
form that will be useful later.
Claim 8.9.5. Let r ≤ p¯ be a condition in P in some generic extension with
heart (cid:104)M,h(cid:105). Then
1. every E-class in dom(f ) is either a realization of a virtual E-class in
r
dom(h) or it is not a realization of any virtual E-class in M;
2. every finite tuple c of pairwise E -unrelated elements of a \ (cid:83) rng(h)) is
0 r
product Cohen-generic over M.
Proof. The first item is an immediate consequence of the definition of the
heart. For the second item, we use the fact that r ≤ p¯. Let n = |c|. Every
closed nowhere dense subset s⊂(2ω)n in the model M belongs to some model
V[d] where d is a finite tuple of pairwise E -unrelated elements of (cid:83) rng(h)\
0
(cid:83)
rng(f ))byClaim8.9.4(2). Bythechoiceofthevirtualconditionp¯,thetuple
p
c∪disproductCohen-genericoverV,andbytheproductforcingtheoremc∈/ s.
We have just shown that c does not belong to any closed nowhere dense subset
of (2ω)n in the model M; that is, c is product Cohen-generic over M.
Finally, we are ready to conclude the proof of Theorem 8.9.2. Let Q ,Q be
0 1
posets in V, with names σ ,σ for conditions in P stronger than p¯. We must
0 1
find, insomegenericextension, filtersG ⊂Q andG ⊂Q separatelygeneric
0 0 1 1
over the ground model such that the conditions σ ,σ are compatible in P. By
0 1
Claim8.9.3,wemayassumethatQ (cid:13)σ hasheartofdepthαˇ andQ (cid:13)σ has
0 0 0 1 1
heartofdepthαˇ . Fordefiniteness,assumethatα ≤α . Movetosomeforcing
1 0 1
extension (such as the Q -extension) where there is a condition r ≤ p¯ with a
1
heart of depth α . Let M be the models arising in the transfinite analysis of
1 β
r, and let N =M ,h =f |N and N =M ,h =f |N . Thus, (cid:104)N ,h (cid:105) is
0 α0 0 r 0 1 α1 1 r 1 1 1
a heart of the condition r; note that (cid:104)N ,h (cid:105) is also a heart of a condition ≤p¯,
0 0
namely the condition obtained from r by restricting the function f to the set
r
of E-classes which are realizations of the virtual classes in dom(h ).
0
NotethatinthemodelN , thereexistsaposetS andanameη forafilter
0 0 0
onQ genericoverV suchthatS forcestheheartofσ /η tobe(cid:104)N ,h (cid:105). This
0 0 0 0 0 0
occurs because this statement is true in the heart of σ and the theory of the
0
hearts depends only on the height by Claim 8.9.4(1). Similarly, in the model
N there exists a poset S and a name η for a filter on Q generic over V such
1 1 1 1
that S forces the heart of σ /η to be (cid:104)N ,h (cid:105). Let H ⊂S and H ⊂S be
1 1 1 1 1 0 0 1 1

8.9. WEAKLY BALANCED VARIATIONS 199
filters mutually generic over the model N . Let G = η /H and G = η /H ;
1 0 0 0 1 1 1
we claim that the conditions σ /G and σ /G are compatible in P as desired.
0 0 1 1
Toseethis,writeσ /G =(cid:104)a ,b ,f (cid:105)andσ /G =(cid:104)a ,b ,f (cid:105). Toshowthat
0 0 0 0 0 1 1 1 1 1
thesetwoconditionsarecompatible,wemustarguethat(cid:104)a ,b (cid:105)and(cid:104)a ,b (cid:105)are
0 0 1 1
compatible as conditions in the Lusin forcing, and then show that f ∪f is an
0 1
injectionfromE-quotientspacetotheE -space. ThecompatibilityintheLusin
0
forcing is nearly identical to the proof of Theorem 8.8.6(1) and we omit it. To
show that f ∪f is an injection from the E-quotient space to the E -quotient
0 1 0
space, suppose that c ∈ dom(f ) and c ∈ dom(f ) are E-classes and work to
0 0 1 1
prove the equivalence f (c ) = f (c ) ↔ c = c . By Claim 8.9.5(1) there are
0 0 1 1 0 1
two cases:
• c isarealizationofavirtualE-classd∈dom(h ). Thenf (c )=h (d)=
0 0 0 0 0
h (d) and either c =c in which case f (c )=h (d)=f (c ), or c (cid:54)=c
1 1 0 1 1 1 0 0 1 0
and then f (c )(cid:54)=h (d) since the function f is an injection.
1 1 1 1
• c is not a realization of a virtual E-class in N . By a mutual genericity
0 0
argument then, c is not an E-class represented in the model N [H ];
0 1 1
in particular c (cid:54)= c . By Claim 8.9.5(2), the E -class f (c ) consists of
0 1 0 0 0
points Cohen generic over N . By a mutual genericity argument it must
0
be distinct from the E -classes in N [H ]; in particular, f (c )(cid:54)=f (c ).
0 1 1 0 0 1 1
This completes the proof.
The following poset introduced in [63] adds an infinite maximal disjoint family,
ataskimpossibletoperformwithbalancedforcingbyTheorem14.1.1. Ityields
amodelofZF+DCwherethereisaninfiniteMADfamilyandeverysetofreals
is Lebesgue measurable by Example 14.3.6.
Definition 8.9.6. The MAD forcing P consists of all pairs p = (cid:104)a ,b (cid:105) such
p p
that a
p
⊂ [ω]ℵ0 is an infinite countable almost disjoint family, and b
p
is a
countable set of pairs (cid:104)s,a(cid:105) such that s is a partition of ω into finite sets and
a ⊂ a is a countable set. Moreover, for every pair (cid:104)s,a(cid:105) ∈ b and every finite
p p
(cid:83)
set d ⊂ a \a, there are infinitely many sets e ∈ s such that d∩e = 0. The
p
set P is ordered by coordinatewise reverse inclusion.
It is clear that the MAD forcing is Suslin and σ-closed. The union of the first
coordinates of conditions in the generic filter is forced to be a maximal almost
disjoint family by an elementary density argument.
Theorem 8.9.7. The MAD forcing is weakly balanced.
Proof. Suppose that p ∈ P is a condition, and write b = b ∪{(cid:104)s,a (cid:105): s is a
p p
ground model partition of ω into finite sets}. It is clear that for any poset
Q collapsing the size of the continuum to ℵ , Q (cid:13) (cid:104)aˇ ,ˇb(cid:105) is a condition in P
0 p
stronger than p. It will be enough to show that the pair (cid:104)Q,(cid:104)aˇ ,ˇb(cid:105)(cid:105) is weakly
p
balanced in P.
To this end, suppose that R ,R are partial orders and σ ,σ are respective
0 1 0 1
R - and R -names for conditions in P extending (cid:104)a ,b(cid:105); We must produce, in
0 1 p

200 CHAPTER 8. OTHER FORCINGS
some generic extension, filters H ⊂ R and H ⊂ R separately generic over
0 0 1 1
the ground model such that the conditions σ /H and σ /H are compatible in
0 0 1 1
P. The following claim is key.
Claim 8.9.8. For every i ∈ 2, the following holds. Whenever r ∈ R is a
i
condition and η for j ∈ω are names for elements of a \a , there is a number
j σi p
(cid:83)
n∈ω such that for every m∈ω there is a strengthening of r forcing η ∩
j∈m j
[n,m)=0.
Proof. For definiteness let i = 0. Suppose towards a contradiction that the
claim fails for a condition r ∈ R and names η for j ∈ m. Then, there is a
0 j
partitionsofω intofiniteintervalssuchthatr
(cid:13)(cid:83)
η ∩b(cid:54)=0foreveryb∈s.
j∈b j
This shows that r (cid:13)σ (cid:54)≤(cid:104)a ,b(cid:105), contradicting the initial assumptions.
0 p
Let V[K] be a generic extension collapsing a sufficiently large cardinal and
work in V[K]. An inductive application of the claim makes it possible to find
filters H ⊂ R and H ⊂ R separately generic over the ground model, and a
0 0 1 1
(cid:83)
partition ω = c of ω into finite sets such that, writing σ /H =(cid:104)a ,b (cid:105) and
j j 0 0 0 0
σ /H =(cid:104)a ,b (cid:105), we have:
1 1 1 1
(cid:83)
• for every x ∈ a \a , x ⊆ {c : j even} up to finitely many exceptions
0 p j
(cid:83)
and similarly for every x∈a \a , x⊆ {c : j odd} up to finitely many
1 p j
exceptions;
• for every infinite collection s ∈ V[H ] of pairwise disjoint subsets of ω,
0
there is e ∈ s which is a subset of some c for j even, and similarly for
j
every infinite collection s∈V[H ] of pairwise disjoint subsets of ω, there
1
is e∈s which is a subset of some c for j odd.
j
We claim that the filters work as required. This is clearly the same as showing
that the pair (cid:104)a ∪a ,b ∪b (cid:105) belongs to P, since then it is a lower bound of
0 1 0 1
both (cid:104)a ,b (cid:105) and (cid:104)a ,b (cid:105). First of all, the first item above immediately shows
0 0 1 1
that a ∪a is an almost disjoint family. To confirm the “moreover” demand
0 1
in the definition of the poset P for the pair (cid:104)a ∪ a ,b ∪ b (cid:105), suppose that
0 1 0 1
(cid:104)s,a(cid:105)∈b ∪b ; for definiteness assume that (cid:104)s,a(cid:105)∈b . Let d⊂(a ∪a )\a be
0 1 0 0 1
(cid:83)
a finite set; we must produce infinitely many e∈s such that d∩e=0.
Write d = d∩a and d = d\d . Since the pair (cid:104)a ,b (cid:105) is a condition in
0 0 1 0 0 0
(cid:83)
the poset P, there are infinitely many sets e∈s such that d ∩e=0. By the
0
(cid:83)
second item above, there must be infinitely many e ∈ s such that d ∩e = 0
0
and e⊂c for some even number j ∈ω. By the first item above, there must be
j
(cid:83)
infinitely many sets e among them such that d ∩e=0. For all such e∈s, it
1
(cid:83)
is the case that d∩e=0. This completes the proof.
ThedefinitionoftheMADforcingmayseemodd,sinceitskipsthemostobvious
choice: the poset Q of all infinite countable almost disjoint families ordered by
reverse inclusion. However, the following remains open:
Question 8.9.9. Is the poset Q weakly balanced?

Chapter 9
Preserving cardinalities
9.1 The well-ordered divide
ThemainfeatureofthebalancedSuslinforcingisthatitdoesnotaddanywell-
ordered sequences of elements of the symmetric Solovay model. In particular,
thebalancedextensionsoftheSolovaymodelarebarreninthesenseof[39,22].
This has a number of cardinality corollaries for the resulting extensions. The
following theorem is stated in terms of Convention 1.7.16.
Theorem 9.1.1. In cofinally balanced extensions of the symmetric Solovay
model W, every well-ordered sequence of elements of W belongs to W.
Proof. LetP beaSuslinforcing. LetκbeaninaccessiblecardinalsuchthatP is
balanced cofinally below κ. Let W be a symmetric Solovay model derived from
κandworkinW. Foraformulaφofthelanguageofsettheory,elementy ∈2ω,
and a set v ∈ V, write u(φ,y,v) for the unique set x such that W |= φ(x,y,v)
if such a unique x exists; otherwise, write u(φ,y,v) = 0. Suppose towards a
contradictionthatthereisaconditionp∈P,anordinalαandaP-nameτ such
that p forces τ to be an α-sequence of elements of W which does not belong
to W. The name τ is definable from some real parameter z ∈ 2ω and some
elements of the ground model. Find an intermediate model V[K] which is an
extension of the ground model by a poset of size <κ such that p,z ∈V[K] and
P is balanced in V[K].
Work in V[K]. Let p¯be a balanced virtual condition in P below p. Since
in W, τ is forced not to belong to W, there must be in V[K] an ordinal β ∈α
and a posets R of size <κ, R-names σ ,σ for conditions in P stronger than p¯,
0 1
R-names η ,η for elements of 2ω, ground models elements v ,v , and formulas
0 1 0 1
φ ,φ such that R(cid:13)Coll(ω,<κ)(cid:13) the following:
0 1
• σ (cid:13) τ(βˇ)=u(φ ,η ,v );
0 P 0 0 0
• σ (cid:13) τ(βˇ)=u(φ ,η ,v );
1 P 1 1 1
• u(φ ,η ,v )(cid:54)=u(φ ,η ,v ).
0 0 0 1 1 1
201

202 CHAPTER 9. PRESERVING CARDINALITIES
Working in the model W, let H ,H ⊂ R be mutually generic filters, and
0 1
for bits b,c ∈ 2 let p = σ /H ∈ P and y = η /H ∈ 2ω. By the third
bc b c bc b c
item above, in the model V[K][H ,H ] there must be a bit c ∈ 2 such that
0 1
Coll(ω,< κ) (cid:13) u(φ ,y ,v ) (cid:54)= u(φ ,y ,v ). The conditions p ,p ∈ P are
0 00 0 1 1c 1 00 1c
compatible in W by the balance of the condition p¯, with a lower bound q ∈
P. Since W is the symmetric Solovay extension of the model V[K][H ], the
0
forcing theorem applied with that model yields that q (cid:13) τ(βˇ) = u(φ ,η ,v ).
0 0 0
Since W is the symmetric Solovay extension of V[K][H ], the forcing theorem
1
applied with V[K][H ] yields that q (cid:13)τ(βˇ)=u(φ ,y ,v ). Finally, since W is
1 1 1c 1
thesymmetricSolovayextensionofV[K][H ][H ], u(φ ,y ,v )(cid:54)=u(φ ,y ,v )
0 1 0 00 0 1 1c 1
holds in W. Thus, the condition q forces two distinct values to the name τ(βˇ),
an impossibility.
Corollary 9.1.2. In a cofinally balanced extension of a symmetric Solovay
model, there is no transfinite uncountable sequences of pairwise distinct Borel
sets of bounded rank.
Proof. Since cofinally balanced extensions add no countable sequences of ele-
ments of the Solovay model W by Theorem 9.1.1, all Borel sets in W[G] belong
to W and have the same Borel rank there as in W[G]. Thus, an uncountable
sequence of distinct Borel sets of bounded Borel rank in W[G] would have to
belong to W by Theorem 9.1.1 again. However, there are no such sequences in
the Solovay model W by a result of Stern [87].
Corollary 9.1.3. LetE beaBorelequivalencerelationonaPolishspaceX. In
cofinally balanced extensions of the symmetric Solovay model, ℵ (cid:54)≤|E| holds.
1
Proof. An ω -sequence of distinct E-classes would constitute an ω -sequence of
1 1
distinct Borel sets of Borel rank bounded by the rank of E. Such sequences are
ruled out by the previous corollary.
Corollary9.1.3guaranteesthatinbalancedextensionsofthesymmetricSolovay
model, the Friedman–Stanley jump divide is preserved. This follows from a
humble ZF result of independent interest.
Proposition 9.1.4. (ZF) Let X be a set and E an equivalence relation on X
with all classes countable. If |Xℵ0|≤|E| then |HC|≤|E|.
Proof. Let g be an injection from the set of all countable subsets of X to E-
classes. Define a function h from the collection of hereditarily countable sets to
E-classes by ∈-recursion: h(a) = g( (cid:83) h(cid:48)(cid:48)a). By induction on the minimum of
the rank a and b argue that a(cid:54)=b implies that h(a)(cid:54)=h(b). Thus the function
h is an injection and the statement of the proposition follows.
Corollary 9.1.5. LetE beaBorelequivalencerelationonaPolishspaceX. In
cofinally balanced extensions of a symmetric Solovay model, |E+|(cid:54)≤|E| holds.

9.1. THE WELL-ORDERED DIVIDE 203
Proof. Suppose towards a contradiction that |E+| ≤ |E| holds in the exten-
sion. The Proposition yields |HC| ≤ |E|. Clearly, ℵ ≤ |HC| holds in ZF,
1
and the concatenation of the cardinal inequalities contradicts the conclusion of
Corollary 9.1.3.
If one wishes to add well-ordered sequences of some objects in the Solovay
model and maintain control, it is possible to use weakly balanced forcing. The
following theorem, stated in terms of Convention 1.7.16, shows that there will
be no uncountable sequences of reals in the resulting extension.
Theorem 9.1.6. InweaklybalancedextensionsofthesymmetricSolovaymodel
W, every set of ordinals belongs to W.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin poset such that P
is weakly balanced below κ. Let W be the symmetric Solovay model derived
from κ and work in the model W. Let p ∈ P be a partial order and let τ be a
P-name for a set of ordinals; we have to find a strengthening of the condition p
which decides the membership of every ordinal in the set τ. To this end, note
that both p,τ are definable from a parameter z ∈ 2ω and some parameters in
the ground model.
Let V[K] be an intermediate generic extension obtained by a poset of size
< κ such that z ∈ V[K]. Working in the model V[K], let p¯ be a weakly
balanced virtual condition in the poset P, below the condition P. We claim
that for every ordinal α, it is the case that Coll(ω,< κ) (cid:13) p¯ decides in P the
membershipoftheordinalαˇ inthesetτ. Supposetowardsacontradictionthat
thisisnotthecase. Thentheremustbeanordinalα,posetsR ,R ofsize<κ,
0 1
and R - and R -names σ and σ for elements of p stronger than p¯such that
0 1 0 1
R (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)αˇ ∈/ τ and R (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)αˇ ∈τ.
0 0 1 1
Work in W again. Use the weak balance of p¯ to find filters H ⊂ R and
0 0
H ⊂R separatelygenericoverV[K]suchthattheconditionsp =σ /H and
1 1 0 0 0
p = σ /H are compatible in P. Since W is a symmetric Solovay extension
1 1 1
of both models V[K][H ] and V[K][H ], p (cid:13) αˇ ∈/ τ and p αˇ ∈ τ. Thus, the
0 1 0 1
common lower bound of p ,p must force two contradictory statements, which
0 1
is impossible.
ItisimpossibletostrengthentheconclusionofTheorem9.1.6tosequencesof
elementsoftheSolovaymodel. ForanyBorelequivalencerelationE onaPolish
spaceX,Theorem8.9.2producesaweaklybalancedextensionofthesymmetric
Solovaymodelinwhich|E|≤E . InthenaturalcaseE =F ,Proposition9.1.4
0 2
applied in the resulting model shows that |HC|≤|E | there, in particular there
0
isanω -sequenceofE -classes. NotethattheconclusionofCorollary9.1.5fails
1 0
as well in the model.
As the last remark in this section, many preservation theorems in this book
can be combined since the various properties of the posets concerned are pre-
served under product. In view of the many mutual consistency results concern-
ingZFCsuchasthosecontainedin[100],onecanaskforexamplewhetherthere
can Σ2 sentences φ and φ such that both ZF+DC+φ and ZF+DC+φ are
1 0 1 0 1

204 CHAPTER 9. PRESERVING CARDINALITIES
consistent with the statement ψ asserting the nonexistence of an uncountable
sequence of pairwise distinct reals, while ZF+DC+φ +φ implies ¬ψ. The fol-
0 1
lowing two examples provide an affirmative answer, in the second case φ +φ
0 1
even implies that the reals are well-ordered in ordertype ω .
1
Example 9.1.7. Let φ be the statement “there is an uncountable sequence
0
of E -classes” and let φ be the statement “there is an E -transversal”. The
0 1 0
conjunction ψ∧φ holds in the abovementioned weakly balanced extension of
0
the Solovay model. The conjunction ψ∧φ holds in the balanced extension of
1
the Solovay model adding an E -transversal with countable approximations by
0
Corollary9.1.2. Finally, theconjunctionφ ∧φ immediatelyimplies¬ψ inZF.
0 1
Thisexampleshowsthataproductofabalancedandaweaklybalancedforcing
is not necessarily weakly balanced.
Example 9.1.8. Letφ bethestatement“thereisanacyclicdecompositionof
0
2ω” as in Definition ??. Let X =(2ω)ω and let A⊂X be the set of all x∈X
such that Turing reducibility linearly orders rng(x). Let E =F (cid:22)A and let φ
2 1
be the statement “|E| ≤ |2ω|”. The theories ZF+DC+φ and ZF+DC+φ are
0 1
separately consistent with ψ, but the theory ZF+DC+φ +φ implies that the
0 1
reals are well-ordered of ordertype ω .
1
Proof. Let P be the acyclic decomposition forcing of Definition ??. It is bal-
0
ancedifCHholdsbyTheorem??, andsobyTheorem9.1.1theP -extensionof
0
the symmetric Solovay model contains an acyclic decomposition of 2ω while it
doesnot contain anyuncountable sequence ofpairwise distinctreals. Let P be
1
the collapse poset of E to 2ω of Definition 6.6.2. Since the virtual E-classes are
classified by subsets of 2ω linearly ordered by Turing reducibility and each such
set can have size at most ℵ
1
, it follows that λ(E)=2ℵ1 and by Corollary 6.6.4
theposetP
1
isbalancedif2ℵ0 =2ℵ1 holds. ByTheorem9.1.1,theP
1
extension
of the symmetric Solovay model satisfies |E| ≤ |2ω| while it does not contain
anyuncountablesequenceofpairwisedistinctreals. NotethattheposetsP ,P
0 1
arebalancedunderincompatibleassumptionsadditionaltoZFC,andasaresult
ZFC proves that the product P ×P is not balanced.
0 1
Now, argue in the theory ZF+DC+φ +φ . Let c: [2ω]2 → ω be an acyclic
0 1
decomposition, and let f be an injection from the E-quotient space to 2ω. Let
M be the model of sets hereditarily ordinally definable from the parameters
c,f. As is well-known, M is a model of ZFC. Since c (cid:22) M ∈ M is an acyclic
decomposition in M, by Proposition ?? M satisfies CH. The argument will be
complete if we show that 2ω ⊂M.
We first show that M contains uncountably many reals. Suppose towards
contradictionthatthisfails. WorkinginM,writeκ=ωM andfindanuncount-
1
able sequence (cid:104)x : α ∈ κ(cid:105) of elements of 2ω which is increasing in the Turing
α
reducibility order. Consider the injective map g: P(κ)∩M → 2ω defined by
g(b)=f({x : α∈b}); note that the definition is enabled by the initial contra-
α
dictory assumption. The map g is definable, therefore belongs to M and in M,
it witnesses 2ℵ1 ≤2ℵ0, in contradiction with the Continuum Hypothesis.
Now, we are ready to show that 2ω ⊂ M. Suppose that x ∈ 2ω is a point.
Since M contains uncountably many elements of 2ω, there must be distinct

9.2. THE SMOOTH DIVIDE 205
pointsy ,y ∈2ω∩M suchthatc(x,y )=c(x,y )=nforsomenumbern∈ω.
0 1 0 1
There cannot be any other point x(cid:48) ∈ 2ω such that c(x(cid:48),y ) = c(x(cid:48),y ) = n,
0 1
because the sequence x,y ,x(cid:48),y would form a monochromatic cycle. Thus, x
0 1
is defined by the demand c(x,y ) = c(x,y ) = n and so it is an element of M
0 1
as desired.
9.2 The smooth divide
A basic result in the theory of analytic equivalence relations says that there is
noBorelreductionfromE totheidentityon2ω. Abasicconcernofourtheory
0
then is when |E | > |2ω| holds in the balanced extensions of the symmetric
0
Solovay model. The take home lesson of this section is that if P is a balanced
Suslin poset whose balanced conditions are naturally organized into a compact
Hausdorffspace,thenintheP-extensionofthesymmetricSolovaymodel,|E |>
0
|2ω| indeed holds. There are other ways to preserve the inequality |E | > |2ω|
0
discussed in Chapter 11, but the compactness arguments are the most elegant
and cover a lot of ground.
Definition 9.2.1. ASuslinposetP iscompactly balanced ifthereisadefinable
compactHausdorfftopologyT onthesetB ofallequivalenceclassesofbalanced
virtual conditions such that
1. for every p∈P the set {p¯∈B: p¯≤p}⊂B is nonempty and T-closed.
Moreover, if V[H ]⊂V[H ] are generic extensions of V then
0 1
2. foreverybalancedvirtualconditionp¯ ∈V[H ]thereisabalancedvirtual
0 0
condition p¯ ∈V[H ] such that p¯ ≤p¯ holds;
1 1 1 0
3. the relation {(cid:104)p¯
0
,p¯
1
(cid:105) ∈ BV[H0] ×BV[H1]: p¯
1
≤ p¯
0
} is closed in TV[H0] ×
TV[H1].
The definition seems to be obscure at the first reading, but it is fully justified
by the natural compact Hausdorff topologies present in the examples. One
rather (intentionally) unclear feature is the definability of the topology T. It
is central in that otherwise the definition would have no content and the key
item (3) could not be stated without it. The definition is allowed to have real
parameters. However, the nature of the definition of T is left undetermined.
In the examples, the topology T is typically nonseparable, and the compact
Hausdorff space (cid:104)B,T(cid:105) can be in principle very complicated. The following
theoremisthemainresultofthissection. ItsstatementusesConvention1.7.16.
Theorem 9.2.2. In compactly balanced extensions of the symmetric Solovay
model, |E |>|2ω| holds.
0
The proof uses a technical tool which has been studied in its own right: the
Vitali forcing, also called E -forcing in [48, Section 10.9] or in [101, Section
0

206 CHAPTER 9. PRESERVING CARDINALITIES
4.7.1], where it was isolated for the first time. To define it, consider the σ-ideal
I on 2ω generated by Borel partial E -transversals, and let Q be the poset of
0
Borel I-positive sets ordered by inclusion. As every poset of this form, Q adds
a generic point in 2ω–the unique point which belongs to all Borel sets in the
generic filter [101, Proposition 2.1.2].
Fact 9.2.3. Let Q be the Vitali forcing and let G⊂Q be a generic filter. Then
1. [101, Theorem 4.7.3] every real in V[G] is the image of the generic point
x under a ground model Borel function (Q is proper);
gen
2. [84, Proposition 4.5] for every set a ⊂ ω in V[G], either a or its comple-
ment contain a ground model infinite set (Q adds no independent reals);
3. [103, Theorem2.11] every real definable in V[G] from [x
gen
]E
0
and ground
model parameters belongs to the ground model.
Proof of Theorem 9.2.2. Let κ be an inaccessible cardinal. Suppose that P is a
SuslinforcingsuchthatP iscompactlybalancedbelowκ. LetW beasymmetric
SolovaymodelderivedfromκandworkinW. Towardsacontradiction,assume
thatp∈P isaconditionandτ isaP-nameforaninjectionfromtheE -classes
0
to 2ω. Both p,τ are definable from some real parameter z ∈ 2ω. Let V[K] be
an intermediate generic extension of V obtained by a forcing of size < κ such
that z ∈V[K] holds, and work in the model V[K].
Let Q be the poset of infinite subsets of ω, ordered by inclusion. Let Q
0 1
be the Vitali forcing of Borel subsets of 2ω on which E is not smooth, ordered
0
by inclusion. Let (cid:104)U,y(cid:105) be an object Q ×Q -generic over the model V[K];
0 1
that is, U is an ultrafilter on ω and y ∈ 2ω is a point. By the σ-closure of Q ,
0
the models V[K] and V[K][U] have the same reals, in particular they evaluate
the definition of the Vitali forcing in the same way and so y is a Vitali-generic
point over V[K][U] by the product forcing theorem. By Fact 9.2.3(2), and a
genericity argument, the ultrafilter U still generates an ultrafilter on ω in the
model V[K][U][y].
Now,workinthemodelV[K][U]. Letp¯ ≤pbeabalancedvirtualcondition
0
below p. Let also χ be any Q -name for a balanced virtual condition in P in
1
themodelV[K][U][y]belowp¯ . Thisispossibleby(2)ofDefinition9.2.1. Note
0
that the model V[K][U][y] has more reals than V[K][U]; thus, the balance of
the condition p¯ does not necessarily transfer from V[K][U] to V[K][U][y] and
0
p¯ may have to be improved in a nontrivial way to get a balanced condition
0
in V[K][U][y]. For each n ∈ ω, let y ∈ 2ω be the binary sequence obtained
n
from y by replacing its first n entries by 0. Note that for each n ∈ ω, y is
n
still Q -generic over V[K][U], and V[K][U][y] = V[K][U][y ]. In the model
1 n
V[K][U][y], let p¯ be the U-limit of the sequence χ/y for n ∈ ω. By (3) of
1 n
Definition 9.2.1, it is the case that p¯ ≤p¯ ≤p. Note also that the definition of
1 0
p¯ does not depend on y per se, but only on the E -class of y. The treatment
1 0
dividesintotwocasesaccordingtothefateofthevalueτ([y]E
0
)asforcedbyp¯
1
,
and a contradiction is reached in each case.

9.2. THE SMOOTH DIVIDE 207
Case 1. In the model V[K][U][y], there is no point u∈2ω such that Coll(ω,<
κ) (cid:13) p¯
1
(cid:13)
P
τ([y]E
0
) = uˇ. In such a case, there have to be disjoint basic
open subsets O ,O of 2ω, posets R ,R of size < κ, and respective R ,R -
0 1 0 1 0 1
names σ ,σ for conditions in P stronger than p¯ such that R (cid:13) Coll(ω,<
0 1 0
κ) (cid:13) σ (cid:13)
P
τ([y]E
0
) ∈ O
0
, and similarly for subscript 1. In the model W, let
H ⊂ R and H ⊂ R be filters mutually generic over the model V[K][U][y]
0 0 1 1
andconsidertheconditionsσ /H ,σ /H ∈P. Bythebalanceofthecondition
0 0 1 1
p¯ ,theconditionsσ /H ,σ /H arecompatible. Theforcingtheoremappliedin
1 0 0 1 1
bothmodelsV[K][U][y][H ]andV[K][U][y][H ]nowsaysthatinW,theirlower
0 1
boundforcesτ([y]E
0
)tobelongsimultaneouslytoO
0
andtoO
1
,animpossibility.
Case 2. There is a point u∈2ω in V[K][U][y] such that Coll(ω,<κ)(cid:13)p¯ (cid:13)
1 P
τ([y]E
0
) = uˇ. This point u is clearly unique, and since p¯
1
is definable from
[y]E , so is u. By Fact 9.2.3(3), u ∈ V[K][U] holds. Working in V[K][U], let
0
q ∈Q
1
be a condition forcing Coll(ω,<κ)(cid:13)p¯
1
(cid:13)
P
τ([x
gen
]E
0
)=uˇ, where x
gen
istheQ -nameforitsgenericpoint. LetH ,H ⊂Qbefiltersmutuallygeneric
1 0 1
over V[K][U] containing the condition q. Let y0,y1 ∈ 2ω be the respective
genericpoints;observethaty0,y1arenotE -relatedbymutualgenericity. Write
0
also p0 = p¯ /H and p1 = p¯ /H . These are two virtual conditions in P
1 0 1 1
strengthening p¯ . By the balance of p¯ , they are compatible in the poset P.
0 0
Then, in the model W, their lower bound forces that τ([yˇ0]E )=τ([yˇ1]E )=uˇ.
0 0
This contradicts the assumption that τ was forced to be an injection.
Example 9.2.4. LetP betheposetofP(ω)modulofinite. ByTheorem7.1.2,
the balanced virtual conditions are classified by nonprincipal ultrafilters on ω.
Equip the set of balanced classes by the topology of the remainder βω. It is
immediate that the topology witnesses the fact that P is compactly balanced.
Corollary 9.2.5.
1. LetP betheposetP(ω)modulofinite. IntheP-extensionofthesymmetric
Solovay model, |E |>|2ω|;
0
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a Ramsey ultrafilter on ω, and yet |E |>|2ω|.
0
Example 9.2.6. Let A be a Ramsey sequence of finite structures and P the
A
associated σ-closed poset as in Definition 7.3.1. Theorem 7.3.4 provides a clas-
sification of the balanced virtual conditions: they correspond to Ramsey se-
quencesofultrafiltersontherespectivedomainsetsD forn∈ω. Sequencesof
n
ultrafiltersofthistypeformaclosedsubsetoftheproduct (cid:81) D∗ oftherespec-
n n
tive compact sequences of ultrafilters, and so form a compact Hausdorff space.
Claim 7.3.6 confirms the extension property Definition 9.2.1(2). It follows that
the poset P is compactly balanced.
A
The conjunction of Examples 9.2.6 and 7.3.8 now yields the following:
Corollary 9.2.7. Let k ∈ω be a number.

208 CHAPTER 9. PRESERVING CARDINALITIES
1. Let P be the poset P where A is a sequence enumerating all finite ordered
A
graphs with no clique of size k. In the P-extension of the symmetric
Solovay model, |E |>|2ω|;
0
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is an ultrafilter U on ω such that U → (U,k)2 and U (cid:54)→ (U,k+1)2, and
yet |E |>|2ω|.
0
Example 9.2.8. Let P be the Fin×Fin poset of Definition 7.2.1. The poset P
is compactly balanced.
Proof. The balanced virtual conditions of P were classified in Theorem 7.2.2.
Theycorrespondtoultrafiltersonω×ω∗ whichdonotcontainthesetn×ω∗ for
any number n ∈ ω. Thus, the space of balanced virtual conditions is naturally
organizedintoadefinablecompactHausdorffspace. Itisnecessarytoverifythe
conditions (2, 3) of Definition 9.2.1. Let V[H ]⊂V[H ] be generic extensions.
0 1
We first evaluate the complexity of the order between the balanced virtual
conditions in V[H
0
] and V[H
1
]. Consider the partial map f: (ω×ω∗)V[H1] →
(ω×ω∗)V[H0] defined by f(n,U) = (cid:104)n,U ∩V[H
0
](cid:105); if U ∩V[H
0
] ∈/ V[H
0
], the
functionalvalueis leftundefined. Unraveling thedefinitions, abalancedvirtual
condition in V[H ] correspoding to an ultrafilter W on ω×ω∗ is weaker than
0 0
the balanced virtual condition in V[H ] corresponding to some ultrafilter W
1 1
on ω×ω∗ just in case for every set A ∈ W , the set f−1A belongs to W . In
0 1
view of the topology on the ultrafilter spaces, this is a closed relation.
To see that every balanced virtual condition in V[H ] can be extended to a
0
balancedvirtualconditioninV[H ],supposethatW isanultrafilteronω×ω∗
1 0
inthemodelV[H ]. Consideringthefunctionf fromthepreviousparagraph,it
0
isobviousthatthecollection{f−1A: A∈W }ofsubsetsofω×ω∗ inthemodel
0
V[H ] has the finite intersection property, and therefore can be extended to an
1
ultrafilter W . The ultrafilter W corresponds to a balanced virtual condition
1 1
in the model V[H ] stronger than the one corresponding to W .
1 0
Corollary 9.2.9.
1. Let P be the Fin×Fin poset of Definition 7.2.1. In the P-extension of the
symmetric Solovay model, |E |>|2ω|;
0
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is an ultrafilter U on ω such that ???, and yet |E |>|2ω|.
0
Question 9.2.10. Is there a Borel filter F on ω such that ZF+DC proves that
existence of a nonprincipal ultrafilter extending F implies |E |≤|2ω|?
0
Example 9.2.11. Let F be a Fraiss´e class in a finite relational language with
strongamalgamation. LetEbeaBorelequivalencerelationonaPolishspaceX.
Let P(F,E) be the poset of Definition 8.6.3 for adding a F-structure to the E-
quotient space. Then P(F,E) is compactly balanced: the balanced conditions
are classified by F-structures on the virtual quotient space X∗∗, which form a
compactsubspaceofP([X∗∗]n)wherencorrespondstothearityoftherelations

9.2. THE SMOOTH DIVIDE 209
in the language for F. It is easy to verify that the demands of Definition 9.2.1
are satisfied with the inherited topology.
Corollary 9.2.12. Let E be a Borel equivalence relation on a Polish space X.
1. LetP bethelinearizationposetforE ofExample8.6.5. IntheP-extension
of the symmetric Solovay model, |E |>2ω;
0
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds, the
E-quotient space can be linearly ordered, and yet |E |>|2ω|.
0
Another class of examples stems from posets which select a single structure on
each E-class from a compact class of structures, where E is a countable Borel
equivalence relation.
Example 9.2.13. LetX beaPolishspaceandletΓbealocallyfinitebipartite
Borel graph on X satisfying the Hall’s marriage condition. Consider the poset
P adding a perfect Γ-matching as in Example 6.2.4. The balanced virtual
conditions are classified by perfect matchings. The set of perfect matchings is
naturally viewed as a compact subset of P(Γ). It is not difficult to check that
the inherited compact topology satisfies the demands of Definition 9.2.1.
Corollary 9.2.14. Let X be a Polish space and let Γ be a locally finite bipartite
Borel graph on X satisfying Hall’s marriage condition.
1. Let P be the complete matching poset for Γ. In the P-extension of the
symmetric Solovay model, |E |>|2ω|;
0
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, Γ
has a perfect matching, and yet |E |>|2ω|.
0
Example 9.2.15. LetX beaPolishspaceandletΓbeaBorel,acyclic,locally
finite graph on X in which every vertex has degree at least 2; view Γ as a
symmetric subset of X2. Consider the poset P of Example 6.2.5, adding an
orientation of Γ in which every vertex has exactly one point in its outflow, or
in other words which selects an end to each connected component of Γ. The
balancedconditionsareclassifiedbyallsuchorientations,whichformacompact
subset of P(Γ). It is not difficult to check that the inherited compact topology
satisfies the demands of Definition 9.2.1.
This example is somewhat singular in that it is the only compactly balanced
poset for which we are able to confirm that it introduces some new cardinal
inequalities between quotient cardinals. Namely, writing E for the Γ-path-
connectednessequivalencerelation,intheP-extensionofthesymmetricSolovay
model |E| ≤ |E | must hold. To see this, consider the equivalence relation F
0
on the set D ⊂ Xω of all sequences consisting of pairwise E-equivalent points,
makingtwosuchsequences(cid:126)x ,(cid:126)x F-equivalentifsometailof(cid:126)x isequaltosome
0 1 0
tail of(cid:126)x . It is not difficult to see that F is a hypersmooth equivalence relation
1
[48, Theorem 8.3.1] with all classes countable and so by a standard result [48,

210 CHAPTER 9. PRESERVING CARDINALITIES
Theorem 8.1.1], F is Borel reducible to E . Consider the P-generic orientation
0
(cid:126)Γ of the graph Γ; each vertex has exactly one point in its outflow. For each
point x ∈ X let h(x) = (cid:104)x : i ∈ ω(cid:105) where x = x and x is the unique point
i 0 i+1
in the (cid:126)Γ-outflow of x . Then h is a (non-Borel) reduction of E to F and so in
i
the P-extension |E|≤|F|≤|E | holds.
0
Corollary 9.2.16. Let X be a Polish space and let Γ be a Borel, acyclic, locally
finite bipartite Borel graph on X in which every vertex has degree at least 2.
1. Let P be the poset selecting an end to each connected component of Γ. In
the P-extension of the symmetric Solovay model, |E |>|2ω|;
0
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a function assigning exactly one end to each connected component of Γ,
and yet |E |>|2ω|.
0
Example 9.2.17. Letn∈ω beanumber,letX beaPolishspaceandletΓbe
a locally countable Borel graph on X such that every finite subgraph of Γ has
chromatic number ≤ n. Consider the poset P adding a Γ-coloring by n colors
as described in Example 6.2.6. The balanced virtual conditions are classified
by total Γ-colorings by ≤ n-colors; these form a compact subset of nX. It is
not difficult to see that the inherited compact product topology satisfies the
demands of Definition 9.2.1.
Corollary 9.2.18. Let X be a Polish space and let Γ be a locally countable
Borel graph on X such that each finite subset of Γ has chromatic number ≤ n
for some fixed number n∈ω.
1. Let P be the coloring poset for Γ. In the P extension of the symmetric
Solovay model, |E |>|2ω|;
0
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, Γ
has chromatic number ≤n, and yet |E |>|2ω|.
0
Question 9.2.19. IsthereaBorelgraphGonaPolishspaceX suchthateach
finite subgraph of G has chromatic number ≤ n, and ZF+DC proves that if G
has finite chromatic number then |E |≤|2ω|?
0
Example 9.2.20. LetΓ,∆beabelianPolishgroups,with∆divisibleandcom-
pact. LetP(Γ,∆)betheposetaddingahomomorphismfromΓto∆asisolated
in Definition 8.2.1. As proved in Theorem 8.2.2, the balanced conditions are
classified by homomorphisms from Γ to ∆. The space of homomorphisms is
a closed subset of ∆Γ equipped with the product topology. It is not difficult
to see that the demands of Definition 9.2.1 are met. Let us elaborate on the
extension property (2). If h: Γ→∆ is a homomorphism in some generic exten-
sion V[H ] then it can be extended to a homomorphism in any larger forcing
0
extension V[H ] by the divisibility of ∆ and Baer’s criterion [3]. Note that the
1
group ∆ remains abelian and divisible in all generic extensions by Mostowski
absoluteness.

9.2. THE SMOOTH DIVIDE 211
Corollary 9.2.21. Let Γ,∆ be Polish abelian groups, with Γ uncountable and
torsion free, and ∆ divisible and compact.
1. In the P(Γ,∆) extension of the symmetric Solovay model, |E |>|2ω|;
0
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a discontinuous homomorphism from Γ to ∆, and yet |E |>|2ω|.
0
Proof. RecalfromExample8.2.3thatthegenerichomomorphismaddedbythe
poset P(Γ,∆) is discontinuous. Other than that, the corollary follows from
Theorem 9.2.2.
The assumption that ∆ be compact cannot be dropped entirely from the state-
ment of the corollary by the following ZF observation:
Proposition 9.2.22. (ZF+DC) Let Y be a separable Banach space. If there is
a discontinuous homomorphism h: Y → Y then there is an E -transversal, in
0
particular |E |≤|2ω|.
0
Proof. The discontinuity of the homomorphism and the DC assumption yield
a sequence (cid:104)y : n ∈ ω(cid:105) of elements of Y such that |y | > Σ |y | and
n n m>n m
|h(y ) > 2|h(y )|. Now, for every x ∈ 2ω let g(x) = Σ{y : x(n) = 1} ∈ Y.
n+1 n n
Let d ⊂ 2ω be any E -class. The homomorphism assumptions on h show that
0
thefunctiong (cid:22)disinjectiveandalso,thenormsofthepointsinh◦g(d)diverge
toinfinity. Thus,dcontainsafinitesubsetofpointswhoseh◦g-imageshavethe
smallestpossiblenorm, andonecanletx ∈dbethelexicographicallysmallest
d
point in d the norm of whose h◦g-image is as small as possible. The set {x : d
d
is an E -class} is an E -transversal.
0 0
Example9.2.23. TheKurepaposetP onaPolishspaceX ofDefinition8.4.2is
compactlybalanced. Toseethis,equip2X,identifiedwithP(X),withtheusual
product topology, refer to Theorem 8.4.3 to argue that the balanced conditions
are classified by subsets of P(X) closed under intersections and containing X,
and observe, that sets of this type form a closed and therefore compact subset
of P(X). The properties (1-3) of Definition 9.2.1 are easily verified for this
topology.
Corollary 9.2.24. Let X be a Polish space.
1. IntheKurepaposetextensionofthesymmetricSolovaymodel,|E |>|2ω|;
0
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a Kurepa family on X, and yet |E |>|2ω|.
0
As a final remark in this section, the consistency results obtained here can be
combinedusingthecountablesupportproduct. Thebalancedvirtualconditions
in a countable product of posets are simply sequences of balanced virtual con-
ditions in each coordinate (Theorem 5.2.9). A product of Hausdorff compact
spacesisHasudorffcompactagain;thus,aproductofcountablymanycompactly

212 CHAPTER 9. PRESERVING CARDINALITIES
balanced forcings with full support is compactly balanced again. However, the
machineryofChapter11(whichcanalsobeusedtoshowthatthesmoothdivide
ispreservedincertainextensions)seemstobeincompatiblewiththecompactly
balanced approach.
9.3 The turbulent divide
We wish to transfer the ergodicity theorem 3.3.5 to cardinal inequalities in
generic extensions of the Solovay model. The following variation of balance will
be central in this effort.
Definition 9.3.1. Let P be a Suslin forcing.
1. A pair (cid:104)Q,τ(cid:105) is placid if Q (cid:13) τ ⊂ P is an analytic set and whenever
R ,R are posets and in some ambient forcing extension, H ⊂ R ×Q
0 1 0 0
and H ⊂R ×Q are filters separately mutually generic over V such that
1 1
V[H ]∩V[H ]=V,thenanytwoconditionsp ≤Στ/H andp ≤Στ/H
0 1 0 0 1 1
in the respective models V[H ],V[H ] are compatible in P.
0 1
2. The poset P is placid if below every condition p ∈ P there is a virtual
condition p¯≤p which is placid.
As an initial example, consider the poset P of countable functions from 2ω to 2
ordered by reverse inclusion. The balanced virtual conditions are classified by
totalfunctionsfrom2ω to2. Itturnsoutthateverysuchavirtualconditionp¯is
placid. IfV[H ]andV[H ]aregenericextensionssuchthatV[H ]∩V[H ]=V
0 1 0 1
and p ∈ V[H ] and p ∈ V[H ] are conditions stronger than p¯, then p ∪
0 0 1 1 0
p is a function since dom(p )\V and dom(p )\V are disjoint sets and the
1 0 1
functions p ,p agree on the entries from V. Therefore, the conditions p ,p
0 1 0 1
are compatible as desired.
Placid posets share many preservation properties. The following theorems are
statedusingthestandardConvention1.7.16. Thefirsttheoreminadditionuses
a standard parlance.
Definition 9.3.2. (ZF)Thephrase“theturbulentdivideispreserved”denotes
the following statement: Let E be an analytic equivalence relation on a Polish
spaceinducedasanorbitequivalencerelationofaturbulentPolishgroupaction.
LetF beavirtuallyplacidanalyticequivalencerelationonaPolishspace. Then
|E|(cid:54)≤|F|.
Theorem9.3.3. IncofinallyplacidextensionsofthesymmetricSolovaymodel,
the turbulent divide is preserved.
Proof. Let Γ be a Polish group, turbulently acting on a Polish space X, result-
ing in the equivalence relation E. Let F be a virtually placid orbit equivalence
relation on a Polish space Y. Let P be a Suslin forcing and let κ be an inac-
cessiblecardinalsuchthatP iscofinallyplacidbelowκ. LetW beasymmetric

9.3. THE TURBULENT DIVIDE 213
Solovay model derived from κ and work in the model W. Suppose towards
a contradiction that there is a condition p ∈ P and a P-name for a function
which is an injection from the E-quotient space to the F-quotient space. The
condition p as well as the name τ must be definable from some ground model
parameters together with a parameter z ∈ 2ω. Use the assumptions to find an
intermediate model V[K], which is obtained from V by a poset of cardinality
smaller than κ, contains z and in which the poset P is placid.
Work in the model V[K]. Let p¯ ≤ p be a virtual condition in P which is
weakly placid. Let P be the poset for adding a Cohen point of the space X.
X
Thatis,P istheposetofallnonemptyopensubsetsofX orderedbyinclusion,
X
adding a point x˙ ∈X. There must be a poset R of size <κ and P ×R-names
X
σ for an element of the poset P stronger than p¯and η for an element of Y such
that P ×R(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) τ([x˙] )=[η] . There are two cases.
X P E F
Case 1. There is a nonempty open set O ⊂ X and a condition r ∈ R such
that the name η is F-pinned below (cid:104)O,r(cid:105). In this case, let x ,x ∈ X and
0 1
H ,H ⊂R be points in O and filters on R containing r mutually generic over
0 1
the model V[K]. Let p = σ/x ,H ∈ P ∩V[K][x ][H ] and p = σ/x ,H ∈
0 0 0 0 0 1 1 1
P ∩V[K][x ][H ] and let y =η/x ,H and y =η/x ,H .
1 1 0 0 0 1 1 1
Thepointsx ,x ∈X aremutuallyCohengeneric,andsincetheirrespective
0 1
E-classes are meager, it must be the case that they are unrelated. By the case
assumption,thepointsy ,y ∈F areF-related. Bythebalanceofthecondition
0 1
p¯,theconditionsp ,p arecompatibleintheposetP. Now,theforcingtheorem
0 1
appliedinthemodelV[K]showsthatinthemodelW,thelowerboundofp ,p
0 1
forcesinP thatτ([x ] )andτ([x ] )arebothequalto[y ] ,contradictingthe
0 E 1 E 0 F
injectivity assumption on τ.
Case 2. Case 1 fails. This is to say that η is forced not to be a realization of
any F-pinned class of V[K]. Let P be the Cohen poset on the Polish group Γ
Γ
andletx ∈X andγ ∈ΓbepointsmutuallygenericforP ,P overthemodel
0 X Γ
V[K], and write x =γ·x .
1 0
Since the action of the group is a continuous open map from Γ × X to
X, the point x is P -generic over the model V[K] by Proposition 3.1.1 ap-
y X
plied in V[K]. By Theorem 3.2.2 (this is the only place where we use the
turbulence assumption), V[K][x ]∩V[K][x ] = V[K] holds. Let H ,H ⊂ R
0 1 0 1
be filters mutually generic over the model V[K][γ,x ]. By the mutual gener-
0
icity, V[K][x ][H ]∩V[K][x ][H ] = V[K] holds. Write p = σ/x ,H and
0 0 1 1 0 0 0
p =x ,H , and also y =η/x ,H and y =η/x ,H .
1 1 1 0 0 0 1 1 1
By their initial choice, the points x ,x ∈ X are E-related. By the virtual
0 1
placidity assumption on the equivalence relation F, the points y ,y ∈ Y are
0 1
not F-related: if they were, they would be realizations of some virtual F-class
inV[K],contradictingthecaseassumption. Bytheplacidityassumptiononthe
virtualconditionp¯,theconditionsp ,p haveacommonlowerbound. Now,the
0 1
forcing theorem applied in V[K] shows that in the model W, the lower bound
of p ,p forces in P that τ([x ] ) must be equal simultaneously to [y ] and
0 1 0 E 0 F
[y ] . This is a contradiction, as τ is forced to be a function.
1 F
Other preservation properties are proved in Section 12.3, respectively in Sec-

214 CHAPTER 9. PRESERVING CARDINALITIES
tion 12.2 based on the observation (Example 12.2.8) that placid forcings are
included in the much wider class of Bernstein balanced forcings.
It is now time to provide a long but not exhaustive list of examples with
their associated corollaries.
Example9.3.4. SupposethatKisaBorelsimplicialcomplexonaPolishspace
X ofBorelcoloringnumberℵ . ThentheposetP isplacid,andeverybalanced
1 K
virtual condition is placid. To see this, revisit Theorem 6.3.3 and observe that
itsproofusestheproductforcingtheoremonlytoascertainthatifV[H ],V[H ]
0 1
are mutually generic extensions of the ground model, then V[H ]∩V[H ]=V.
0 1
Example 9.3.5. SupposethatK isamodularBorelcomplexonaPolishspace
X. Every balanced virtual condition in the poset P is placid. To see this,
K
revisit the proof of Theorem 6.4.3 and note that V[H ]∩V[H ] = V was the
0 1
only feature used of the mutually generic extensions V[H ],V[H ].
0 1
Corollary 9.3.6. Let X be a Borel vector space over a countable field Φ.
1. Let P be the poset of countable subsets of X linearly independent over
Φ, ordered by reverse inclusion–Example 6.4.9. In the P-extension of the
symmetric Solovay model, the turbulent divide is preserved;
2. it is consistent relatively to an inaccessible cardinal that ZF+DC holds, X
has a basis, and yet the turbulent divide is preserved.
Corollary 9.3.7. Let Γ be a Borel graph on a Polish space X.
1. Let P be the poset of acyclic countable subsets of Γ, ordered by reverse
inclusion–Example 6.4.10. In the P-extension of the symmetric Solovay
model, the turbulent divide is preserved;
2. it is consistent relatively to an inaccessible cardinal that ZF+DC holds,
Γ contains a maximal acyclic subgraph, and yet the turbulent divide is
preserved.
Example 9.3.8. Suppose that E,F are Borel virtually placid equivalence re-
lations on the respective Polish spaces X,Y. Suppose that λ(E)≤λ(F). Then
the E,F-collapse poset of Definition 6.6.2 is placid, and every balanced condi-
tion is placid.
Example9.3.9. SupposethatE ⊂F areBorelequivalencerelationonaPolish
spacesX,withF placid. TheE,F-transversalposetofDefinition6.6.5isplacid,
and every balanced condition is placid.
Proof. TheproofofTheorem6.6.6usesonlyoneconsequenceofmutualgeneric-
ity: the two mutually generic extensions V[H ],V[H ] do not share any F-class
0 1
whichisnotrepresentedinthegroundmodel. Inthecaseofaplacidequivalence
relation E, this is implied by the assumption that V[H ]∩V[H ] = V by the
0 1
definition of placidity.

9.3. THE TURBULENT DIVIDE 215
Corollary 9.3.10. Suppose that E is a Borel placid equivalence relation on a
Polish space X..
1. In the extension of the symmetric Solovay model by the transversal poset
for E of Example 6.6.8, the turbulent divide is preserved;
2. it is consistent relatively to an inaccessible cardinal that ZF+DC holds, E
has a transversal, and yet the turbulent divide is preserved.
TheposetswhichselectastructureoneachE-classforacountableBorelequiv-
alence relation E are placid by Example 9.3.9, resulting of many corollaries of
the following kind.
Corollary 9.3.11. Suppose that E is a countable Borel equivalence relation on
a Polish space X with infinite classes.
1. In the extension of the symmetric Solovay model by the Z-action poset of
Example 6.6.10, the turbulent divide is preserved;
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds, E is
anorbitequivalenceofa(discontinuous)actionofZ, andyettheturbulent
divide is preserved.
Example 9.3.12. Suppose that F is a Fraiss´e class of structures in finite rela-
tional language, with strong amalgamation. Let E be a virtually placid equiva-
lencerelationonaPolishspaceX. LetP betheposetforaddinganF-structure
on the quotient space X with countable approximations of Definition 8.6.3.
Then P is placid, and every balanced condition is placid.
Corollary 9.3.13. Let E be a Borel virtually placid equivalence relation on a
Polish space X.
1. In the extension of the symmetric Solovay model by the linearization poset
for E of Example 8.6.5, the turbulent divide is preserved;
2. it is consistent relatively to an inaccessible cardinal that ZF+DC holds,
the E-quotient space is linearly ordered and yet the turbulent divide is
preserved.
Example 9.3.14. SupposethatX isaPolishspaceandP istheKurepaposet
on it as isolated in Definition 8.4.2. Then P is placid, and every balanced
condition is placid. To see this observe that the proof of Theorem 8.4.3 used
only the consequence V[H ]∩V[H ]=V for mutually generic filters H ,H .
0 1 0 1
Corollary 9.3.15. Let X be a Polish space.
1. In the extension of the symmetric Solovay model by the Kurepa poset, the
turbulent divide is preserved;

216 CHAPTER 9. PRESERVING CARDINALITIES
2. it is consistent relatively to an inaccessible cardinal that ZF+DC holds,
there is a Kurepa family on X, and yet the turbulent divide is preserved.
Example 9.3.16. Let X be an uncountable Polish space and P be the associ-
atedacyclicdecompositionforcingofDefinition??. Then,underCH,P isplacid
and every balanced condition is placid. To see this observe that the proof of
Theorem??usedonlytheconsequenceV[H ]∩V[H ]=V formutuallygeneric
0 1
filters H ,H .
0 1
Corollary 9.3.17. Let X be an uncountable Polish space.
1. In the extension of the symmetric Solovay model by the acyclic decompo-
sition poset, the turbulent divide is preserved;
2. it is consistent relatively to an inaccessible cardinal that ZF+DC holds,
there is an acyclic decomposition of [X]2, and yet the turbulent divide is
preserved.
We conclude this section with several non-examples.
Example 9.3.18. Let E be the equivalence relation on 2ω connecting sets
x,y if Σ{ 1 : n ∈ x∆y} is finite. E is a Borel orbit equivalence relation of a
n+1
turbulentPolishgroupaction;itiswell-knowntobepinned. LetP betheposet
of countable partial E-transversals ordered by reverse inclusion. The poset P
is balanced by Corollary 6.6.4, but not placid: in fact, it is designed to collapse
the turbulent divide as it forces |E|≤|2ω|.
Example 9.3.19. LetX beanuncountablePolishfieldandF ⊂X beacount-
able subfield. The poset P of countable subsets of X which are algebraically
independent over F, with the reverse inclusion ordering is balanced. It is not
placid by Theorem 12.3.1 below. We do not know if in the P-extension of the
symmetric Solovay model, the turbulent divide is preserved.
Example 9.3.20. The poset P of infinite subsets of ω ordered by inclusion is
balanced. It is not placid by Theorem 12.2.3 below. We do not know if in the
P-extension of the symmetric Solovay model, the turbulent divide is preserved.
9.4 The orbit divide
Itiswell-knownthatE isnotBorelreducibletoanyorbitequivalencerelation.
1
It is then tempting to think that in many models which we study, |E | cannot
1
be smaller than |E| where E is an orbit equivalence relation. This question is
with some success addressed in the present section. The following definition
connects coherent sequences of generic extensions with Suslin forcings.
Definition 9.4.1. Let P be a Suslin forcing. A nest below a condition p ∈ P
is a choice-coherent sequence (cid:104)M : n ∈ ω(cid:105) of generic extensions of V and a
n
sequence (cid:104)p¯ : n≤ω(cid:105) so that
n

9.4. THE ORBIT DIVIDE 217
1. 2ω∩M (cid:54)=2ω∩M for all n∈ω;
n n+1
2. p¯ ≤ p¯ ≤ ··· ≤ p¯ ≤ p where p¯ for each n ∈ ω is a balanced virtual
0 1 ω n
condition in M and p¯ is a balanced virtual condition in the intersection
n ω
(cid:84)
model M = M .
ω n n
Definition 9.4.2. Let P be a Suslin forcing. The poset P is nested balanced
below κ if it has a nest below every condition.
As a simple initial example, let P be the poset of all countable functions from
2ω to 2, ordered by reverse inclusion. The balanced conditions are classified by
total functions from 2ω to 2. Now, let (cid:104)M : n ∈ ω(cid:105) be a coherent sequence of
n
(cid:84)
modelsandp∈M = M beaconditioninP. Thenthefunctionsp¯ ∈M
ω n n n n
for n ≤ ω obtained in the model M from p by extending it by zero values at
n
every possible point x ∈ 2ω correspond to balanced virtual conditions in every
model M and p≥p¯ ≥···≥p¯ ≥p¯ .
n ω 1 0
To state the results of this section succintly, we establish a standard parlance.
Definition 9.4.3. (ZF) The phrase “orbit divide is preserved” denotes the
following statement. Let E be an orbit equivalence relation on a Polish space
induced as an orbit equivalence relation of a Polish group action. Then |E | (cid:54)≤
1
|E|.
The central theorem can now be stated easily using Convention 1.7.16.
Theorem9.4.4. InnestedbalancedextensionsofthesymmetricSolovaymodel,
the orbit divide is preserved.
Proof. SupposethatY isaPolishspace,ΓisaPolishgroupandΓcontinuously
acts on Y, inducing an orbit equivalence relation E. Suppose that κ is an
inaccessible cardinal and P is a Suslin poset which is nested balanced below κ.
Suppose also that W is a symmetric Solovay model derived from κ and in W,
τ is a P-name and p ∈ P is a condition forcing τ to be a function from the
E -quotient space to the E-quotient space. We must find a stronger condition
1
and two distinct E classes which are forced by the stronger condition to be
1
mapped to the same E-class.
TheobjectsΓ, Y, pandτ arealldefinableinthemodelW fromparameters
in the ground model plus a parameter z ∈ 2ω. Use the assumptions to find an
intermediate forcing extension V[K] by a poset of size <κ such that z ∈V[K]
and V[K] has a nest below p. Still working in W, find the nest. This is a
sequence (cid:104)M : n ∈ ω(cid:105) of generic extensions of V[K] together with a sequence
n
(cid:104)p¯ : n ≤ ω(cid:105) of balanced virtual conditions below p satisfying the demands of
n
Definition 9.4.1.
Use the coherence of the sequence (cid:104)M : n∈ω(cid:105) to find a well-ordering ≺ of
n
2ω in M such that for each n ∈ ω, ≺(cid:22) M ∈ M holds. Let z ∈ 2ω be the
0 n n n
≺-least element of M \M for every n ∈ ω and let x ∈ X = (2ω)ω be the
n n+1 n
point such that x (m) is the zero binary sequence if m<n and x (m)=z if
n n m
m≥n; thusx ∈M . Thepointsx ∈X forn∈ω arepairwiseE -equivalent;
n n n 1

218 CHAPTER 9. PRESERVING CARDINALITIES
𝑝̅
0
V
0
𝑝̅
1
V
1
𝑝̅
2
V
2
𝑝̅
3
V
3
𝑝̅̅̅𝜔̅
V
ω
Figure 9.1: A nest of models and balanced virtual conditions.

9.4. THE ORBIT DIVIDE 219
at the same time, they have no E -equivalent in the model M = (cid:84) M , since
1 ω n n
none of the points z belong to M .
n ω
Bytheforcingtheorem,foreachnumbern∈ω,inthemodelM theremust
n
beaposetR ofsize<κ,anR -nameσ foraconditioninP strongerthanp¯
n n n n
and an R -name η for an element of Y such that R (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)
n n n n P
τ([xˇ
n
]E
1
)=[η
n
]
E
.
Claim 9.4.5. For n∈ω, the pair (cid:104)R ,η (cid:105) is an E-pin.
n n
Proof. If this failed for some number n ∈ ω, then in the model W there would
be filters H ,H ⊂ R mutually generic over the model M such that the
0 1 n n
points y = σ /H ,y = σ /H ∈ Y are E-unrelated. Let p = σ /H and
0 n 0 1 n 1 0 n 0
p = σ /H be conditions in the poset P; they are compatible by the balance
1 n 1
of p¯ . By the forcing theorem applied in the models M [H ] and M [H ], their
n n 0 n 1
lower bound forces in P that τ([xˇ
n
]E
1
) is equal simultaneously to [yˇ
0
]
E
and
[yˇ ] . This is impossible.
1 E
Claim 9.4.6. Forn∈m∈ω, theE-pins(cid:104)R ,η (cid:105)and(cid:104)R ,η (cid:105)areequivalent.
n n m m
Proof. If this failed for some numbers n ∈ m ∈ ω, then in the model W there
would be filters H ⊂ R ,H ⊂ R mutually generic over the model M such
0 n 1 m n
thatthepointsy =σ /H ,y =σ /H ∈Y areE-unrelated. Letp =σ /H
0 n 0 1 m 1 0 n 0
and p = σ /H be conditions in the poset P; they are compatible by the
1 m 1
balance of p¯ since p ≤ p¯ ≤ p¯ by demand (2) of Definition 9.4.1. By the
m 0 n m
forcing theorem applied in the models M [H ] and M [H ], their lower bound
n 0 m 1
forces in P that τ([xˇ
n
]E
1
) = [yˇ
0
]
E
and τ([xˇ
m
]E
1
) = [yˇ
1
]
E
. This is impossible
since x E x holds.
n 1 m
By Theorem 4.3.6, there is an E-pin (cid:104)R,η(cid:105)∈M which is equivalent to all
ω
the pins (cid:104)R ,η (cid:105) for n ∈ ω. Still in M , find a poset Q generating the model
n n ω
M ,aQ-namex˙ forthesequencex ,andaQ-nameR˙ fortheposetR . Bythe
0 0 0 0
forcing theorem, there must be a condition q ∈Q which forces the following: x˙
has no E -equivalent in M , R˙ (cid:13)σ ≤p and Rˇ×R˙ (cid:13)η E η . Note that the
1 ω 0 0 ω 0 0
last statement means that the name η is E-pinned on the iteration Q(cid:22)q∗R˙ .
0 0
In the model W, let H ,H ⊂ Q (cid:22) q∗R˙ be filters mutually generic over the
0 1 0
model M , and write p = σ /H , p = σ /H , x¯ = x˙/H , x¯ = x˙/H ,
ω 0 0 0 1 0 1 0 0 1 1
y = η /H and y = η /H . The balance of the condition p implies that
0 0 0 1 0 1 ω
p ,p ∈P are compatible conditions. Since E is a pinned equivalence relation,
0 1 1
the points x¯ ,x¯ ∈ X are E -unrelated. Since the name η was pinned on the
0 1 1 0
iterationQ(cid:22)q∗R˙ ,thepointsy ,y areE-related. Intotal,inthemodelW,the
0 0 1
lower bound of the conditions p
0
,p
1
forces that τ([x¯
0
]E
1
) = τ([x¯
1
]E
1
) = [y
0
]
E
,
completing the proof.
It turns out that one large class of nested balanced posets has already been
isolated in Definition 9.2.1:
Example 9.4.7. Every compactly balanced Suslin poset is nested balanced.

220 CHAPTER 9. PRESERVING CARDINALITIES
Proof. Let P be a compactly balanced Suslin poset and p ∈ P be a condition.
LetU ⊂P(ω)modulofiniteand(cid:104)x : n∈ω(cid:105)bemutuallygenericultrafilterand
n
Sacks reals added with full support product. Let (cid:104)M : n∈ω(cid:105) be the sequence
n
of models determined by M = V[U,y : m ≥ n]; this is a choice-coherent
n m
sequence by Theorem 4.3.5 or Example 4.3.4 applied in the model V[U]. We
will produce a descending sequence of balanced virtual conditions as required
by Definition 9.4.1.
It is well known [84] that the Sacks real product adds no independent re-
als, and therefore, by a genericity argument, U generates an ultrafilter on ω
in the model M . The generating set of U is present already in the model
0
(cid:84)
M = M . For each number n ∈ ω, use the extension property (2) of Def-
ω n n
inition 9.2.1 repeatedly to find a sequence (cid:104)p¯(ω,n),p¯(m,n): m ≤ n(cid:105) such that
p¯(ω,n) is a balanced virtual condition in M , each p¯(m,n) is a balanced vir-
ω
tual condition in the model M , and p ≥ p¯(ω,n) ≥ p(n,n) ≥ p¯(n−1,n) ≥
m
p¯(n−2,n) ≥ ...; also, demand that each virtual condition p¯(m,n) is selected
≺-leastwhere≺inM issomecoherentwell-orderingofthesetofvirtualcondi-
0
tions on P. It is not difficult to see that the resulting system is coherent in the
sensethatforeachn≤ω,thesystem(cid:104)p(m,k): m=ωandk ∈ωork ≥m≥n(cid:105)
belongs to the model M .
n
Finally, use the compactness of the space of balanced virtual conditions to
define p¯ for n ≤ ω to be the U-limit of the sequence (cid:104)p¯(n,k): k ≥ n(cid:105). Each
n
p¯ is a balanced virtual condition in the model M , m ≤ n ≤ ω implies that
n n
p¯ ≤ p¯ ≤ p by the closedness demands (1) and (3) of Definition 9.2.1. It
m n
follows that the sequence (cid:104)p¯ : n≤ω(cid:105) is as required in Definition 9.4.1.
n
Corollary 9.4.8.
1. LetP betheposetP(ω)modulofinite. IntheP-extensionofthesymmetric
Solovay model, the orbit divide is preserved.
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a Ramsey ultrafilter on ω, and the orbit divide is preserved.
Proof. This is a conjunction of Example 9.2.4 and Theorem 9.4.4.
Question 9.4.9. Is there a Borel (or even F ) ideal I on ω such that the
σ
existence of an ultrafilter disjoint from I implies in ZF+DC that |E |≤|E| for
1
some orbit equivalence relation E?
Corollary 9.4.10. Let E be a Borel equivalence relation on a Polish space X.
1. In the extension of the Solovay model by the E-linearization poset of Ex-
ample 8.6.5, the orbit divide is preserved.
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, the
E-quotient space is linearly ordered, and the orbit divide is preserved.
Proof. ThisisaconjunctionofExample8.6.5,Example9.2.11andTheorem9.4.4.

9.4. THE ORBIT DIVIDE 221
Corollary 9.4.11. Let Γ,∆ be abelian Polish groups, with Γ uncountable and
torsion-free and ∆ compact, nontrivial, and divisible.
1. Let P(Γ,∆) be the poset of Definition 8.2.1. In the P(Γ,∆)-extension of
the symmetric Solovay model, the orbit divide is preserved.
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds,
there is a discontinuous homomorphism from Γ to ∆, the orbit divide
is preserved.
Proof. This is a conjunction of Example 9.2.20 and Theorem 9.4.4.
Question9.4.12. DoestheexistenceofadiscontinuoushomomorphismfromR
to R imply in ZF+DC that |E |≤|E| holds for some orbit equivalence relation
1
E, or for E =F in particular? That E has a countable complete section?
2 1
Corollary 9.4.13. Let X be a Polish space.
1. In the extension of the Solovay model by the Kurepa poset of Defini-
tion 8.4.2, the orbit divide is preserved.
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a Kurepa family on X, and the orbit divide is preserved.
Proof. This is a conjunction of Example 9.2.23 and Theorem 9.4.4.
Another group of nested balanced posets is obtained from orbit equivalence
relations:
Example 9.4.14. Let E ⊂F be Borel equivalence relations on a Polish space
X suchthatF ispinnedandBorelreducibletoanorbitequivalencerelation. Let
P be the E,F-transversal poset of Definition 6.6.5. Then P is nested balanced.
Proof. ByTheorem6.6.6,thebalancedvirtualconditionsareclassifiedbyfunc-
tions selecting, for each F-class, a single virtual E-class which is forced to be a
subsetoftheF-class. Letp∈P beacondition. Tofindanestbelowp,consider
any choice-coherent sequence (cid:104)M : n ∈ ω(cid:105) consisting of generic extensions of
n
the ground model such that for every n ∈ ω, 2ω ∩M \M (cid:54)= 0–the choice-
n n+1
coherent sequence of models obtained from the infinite product of Sacks reals
will do. Let ≺ be a coherent well-ordering of the space X. To find a coherent
sequence of balanced virtual conditions, in the model M consider the function
0
f on the F-quotient space defined as follows: if c is an F-class mentioned in
p, let f(c) be the E-class d ⊂ c which p selects. If c is a class represented in
M but not mentioned in p, then let f(c) be the E-class of the ≺-first repre-
ω
sentative of c in the model M . If n ∈ ω is the largest number such that c is
ω
represented in M , then let f(c) be the E-class of the ≺-first representative of
n
c in the model M . Now, by Theorem 4.3.6, this defines the function f on all
n
F-equivalence classes represented in M . It is also clear that for each n ≤ ω,
0
f (cid:22) M ∈ M . For each n ≤ ω, let p¯ be the virtual balanced condition in the
n n n
model M associated with the function f (cid:22)M by Theorem 6.6.6. The system
n n
(cid:104)M : n∈ω,p¯ : n≤ω(cid:105) is the sought nest below p.
n n

222 CHAPTER 9. PRESERVING CARDINALITIES
Corollary 9.4.15. Let E be a Borel pinned orbit equivalence relation on a
Polish space X.
1. Let P be the transversal poset of Example 6.6.8. In the P-extension of the
symmetric Solovay model, the orbit divide is preserved.
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, E
has a transversal, and the orbit divide is preserved.
Proof. This is a conjunction of Example 9.4.14 and Theorem 9.4.4.
The posets selecting a structure on each E-class for a countable Borel equiva-
lence relation E are always nested balanced by virtue of Example 9.4.14. The
following is a sample corollary.
Corollary 9.4.16. Let E be a countable Borel equivalence relation on a Polish
space X, with all orbits infinite.
1. Let P be the Z-action poset of Example 6.6.10. In the P-extension of the
symmetric Solovay model, the orbit divide is preserved.
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds, E is
induced as an orbit equivalence relation of a discontinuous Z-action, and
the orbit divide is preserved.
The determination of the nested balanced status of the posets adding a
maximal K-set for a Borel simplicial complex K is much more challenging. The
ultimatelimitationisthesurprisingCorollary9.4.30below,showinginZF+DC
that if R has a Hamel basis, then E has a complete countable section, and
1
therefore |E |≤|F | holds. Thus, we have to resort to partial results.
1 2
Example 9.4.17. Let Γ be a Borel graph on a Polish space X with Borel
coloringnumberℵ . LetP =P betheposetofcountableΓ-anticliquesordered
1 Γ
by reverse inclusion. Then P is nested balanced.
Proof. Let p ∈ P be a condition; we must produce a nest below p ∈ P. Let
(cid:104)M : n∈ω(cid:105) be a choice-coherent sequence of generic extensions such that M
n 0
is an extension of the ground model by proper forcing, and for all n∈ω the set
2ω∩M \M isnonempty. Wewillshowthatthereisasequence(cid:104)p : n∈ω(cid:105)
n n+1 n
of balanced conditions satisfying the demands of Definition 9.4.1.
Theorem 6.3.3 classified the balanced conditions in the poset P in terms of
weakly maximal Γ-anticliques. Thus, it will be enough to produce a set A⊂X
in the model M which contains p as a subset and such that for each n ≤ ω,
0
the set A∩M belongs to M and is a weakly maximal Γ-anticlique there. To
n n
cut the notational clutter, we ignore the condition p ∈ P. Let (cid:126)Γ be a Borel
orientationofΓsuchthatthe(cid:126)Γ-outflowo(y)ofeveryvertexy ∈X iscountable.
Consider the set B ⊂ X of all points x ∈ X for which there is a countable set
a⊂X such that

9.4. THE ORBIT DIVIDE 223
• either for every countable set b⊂X there is y ∈/ b such that x∈o(y)⊂a;
• or for every countable set b ⊂ X there is y ∈ X such that (cid:104)y,x(cid:105) ∈(cid:126)Γ and
o(y)\a is a nonempty set disjoint from b.
A careful complexity computation shows that the set B is Σ1. The following
2
claim uses the properness assumption:
Claim 9.4.18. Whenever n∈ω is a number and y ∈X∩M \M is a point
n n+1
and (cid:104)y,x(cid:105)∈(cid:126)Γ, then x∈B or x∈M \M .
n n+1
Proof. Supposethatx∈M ; wemustshowthatx∈B. Theseto(y)∩M
n+1 n+1
is countable in M ; by the properness assumption, it is covered by a set a ∈
n
M which is countable in M . We claim that a is a witness to x ∈ B.
n+1 n+1
Indeed, if o(y)⊂M then x∈B by the first item in the definition of B–the
n+1
point y is not in M and so it does not belong to any countable set in M .
n+1 n+1
On the other hand, if o(y) ⊂ M then x ∈ B by the second item in the
n+1
definition of B–the nonempty set o(y)\a is disjoint from any countable set in
M .
n+1
Now, work in M . Let ≺ be a coherent well-ordering of P(X), and for every
0
number n ∈ ω let C ∈ M be the ≺-least maximal Γ-anticlique in the set
n n
(X \ B) ∩ M \ M . Let also C ∈ M be the ≺-maximal Γ-anticlique
n n+1 ω ω
(cid:83)
in (X ∩ M ) \ B extending p. Let A = C ; we claim that for each
ω n≤ω n
n≤ω, the set A∩M belongs to M and is weakly maximal there. Note that
n n
A∩M ∈M followsimmediatelyfromthecoherenceofthechoicesabove. The
n n
claimimpliesthatA∩M isaΓ-anticliqueandsoamaximalΓ-anticliqueinthe
n
set(X\B)∩M . Itfollowsdirectlyfromthedefinitionofaweaklymaximalset
n
(Definition 6.3.2) that A∩M is a weakly maximal set in M as desired.
n n
Corollary 9.4.19. LetΓbeaBorelgraphonaPolishspaceX ofBorelcoloring
number ℵ .
1
1. In the P extension of the symmetric Solovay model and the orbit divide
Γ
is preserved;
2. itisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a maximal Γ-anticlique and the orbit divide is preserved.
Example 9.4.20. Let X be a Polish space and let G be a Borel graph on X.
Let K be the Borel simplicial complex on G of finite acyclic subsets of G, and
let P =P . Then P is nested balanced.
K
Proof. Let Q for each m ∈ ω be the countable support product of ℵ many
m 1
Sacks posets, and for each n ∈ ω let R be the countable support product
n
Π Q , with the natural projection maps. Let H ⊂ R be a generic filter,
m≥n m 0 0
andforeachn∈ω letH =H∩R . ByExample4.3.4andTheorem4.3.5, the
n n
sequence (cid:104)V[H ]: n∈ω(cid:105) is a choice-coherent sequence of models of ZFC; write
n
(cid:84)
M =V[H ] and M = M . In view of Theorem ??, to complete the proof
n n ω n n

224 CHAPTER 9. PRESERVING CARDINALITIES
of the example it will be enough for an arbitrary condition p ∈ P ∩V to find
sets A ⊂ G for m ≤ ω forming an inclusion-descending sequence such that
m
p⊂A and M |=A ⊂G is a maximal acyclic subset of G for every m≤ω.
ω m m
WriteX =X∩M ,andforeachm<nwriteX =X ∪(X∩M \M ).
ω ω mn ω m n
The following elusive claim is the main reason for the choice of the posets Q .
m
Claim9.4.21. Letl<m<nbenaturalnumbersandx ,x ∈X bevertices.
0 1 mn
If x ,x are connected by a path in the graph G(cid:22)X , then they are connected
0 1 ln
by a path in the graph G(cid:22)X .
mn
Proof. It will be enough to show that if x ,x are connected by a path in the
0 1
graph G(cid:22)X whose vertices except for x ,x all belong to X , then they are
ln 0 1 lm
connected by a path in the graph G (cid:22) X . To this end, work in M and let
mn m
A = {a ∈ [X]<ℵ0: there is a G-path connecting x
0
,x
1
using only the vertices
in a}.
ThesetA⊂[X]<ℵ0 isBorel. Itcannotbepuncturedbyacountablesetbya
Mostowski absoluteness argument: in the model M there is a G-path between
l
x ,x using no vertices in M and therefore no vertices in any given countable
0 1 m
setinM . Bytheworkonpuncturesets[16,Theorem21]appliedinthemodel
m
M ,thereisaperfectsetB ⊂AinthemodelM consistingofpairwisedisjoint
m m
sets. By a standard fusion argument with the product of Sacks forcing, there is
a countable set c of Sacks reals added by the filter H such that B has a code
m
inthemodelV[c]⊂M . SincetheposetQ isaproductofuncountablymany
m m
copies of Sacks forcing, in M there has to be an element a ∈ B which does
m
not belong to the model M [c]⊂M . Since the sets in B are pairwise disjoint,
n m
every element of a would reconstruct a over the model M [c]. Therefore, no
n
element of a belongs to the model M [c]; in particular, a∩M =0 and a yields
n n
the desired G-path between x and x using only vertices in X .
0 1 mn
Let ≺ be a coherent well-ordering of all subsets of G in M . Let A ⊂ G
0 ω
be a maximal acyclic subset of G in the model M such that p ⊂ A . For
ω ω
each m ∈ ω, let A ∈ M be the ≺-first set in the model M which is a
mm+1 m m
maximal acyclic subset of G(cid:22)X and extends A .
mm+1 ω
Now, by induction on n−m, for m<n define A ∈M to be the ≺-first
mn m
setinthemodelM whichisamaximalacyclicsubsetofG(cid:22)X andextends
m mn
both A and A . To see that this is possible, simultaneously argue by
m+1,n m,n−1
induction on n−m that if m≤m(cid:48) <n(cid:48) ≤n then A ⊂A and moreover,
m(cid:48)n(cid:48) mn
thesetA ∪A doesnotcontainacycle. Theformerstatementisclear.
m+1,n m,n−1
The latter statement requires the claim. A putative cycle c⊂A ∪A
m+1,n m,n−1
hastocontainsomeedgesfrombothsetsbytheacyclicityinductionhypothesis.
Choose an inclusion-maximal contiguous part d ⊂ c of the cycle consisting of
edges in A \A . The end-nodes of d, denote them by x ,x , must
m,n−1 m+1,n 0 1
be distinct because the cycle must use some edges from the set A as well.
m+1,n
It must also be the case that x ,x ∈ X ∩X = X . The
0 1 m,n−1 m+1,n m+1,n−1
path d connects the nodes x ,x in the graph G (cid:22) X ; by the claim then,
0 1 m,n−1
they have to be connected by a path in the graph G (cid:22) X as well, and
m+1,n−1

9.4. THE ORBIT DIVIDE 225
therefore by a path e in the set A . Then e∪d forms a cycle in the set
m+1,n−1
A , violating the induction hypothesis.
m,n−1
(cid:83)
In the end, let A = A . It is clear from the coherence of the
m n>m mn
well-ordering ≺ that A ∈ M . The construction also guarantees that M |=
m m m
A ⊂ G is a maximal acyclic subset, and m < n implies A ⊂ A . The proof
m n m
is complete.
Corollary 9.4.22. Let X be a Polish space and let G be a Borel graph on X.
1. Let P be the poset of Example 6.4.10 for adding a maximal acyclic subset
of G. In the P-extension of the symmetric Solovay model, the orbit divide
is preserved;
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds, G
has a maximal acyclic subset, and the orbit divide is preserved.
Example 9.4.23. Let Γ be a Borel graph on a Polish space X of countable
coloring number. The coloring poset P = P of Definition 8.1.1 is nested bal-
Γ
anced.
Proof. We identify P with its dense Suslin subset identified in Theorem 8.1.2.
Let p ∈ P be a condition, and let (cid:104)M : n ∈ ω(cid:105) be a nontrivial choice coherent
n
(cid:84)
sequence of generic extensions of V, with M = M . We will produce a
ω n n
decreasing sequence (cid:104)p¯: n ≤ ω(cid:105) of balanced virtual conditions below p for the
respective models M . Let (cid:104)a : n ≤ ω(cid:105) be a recursive sequence of pairwise
n n
disjoint infinite subsets of ω.
Claim 9.4.24. Fix n≤ω. In the model M , there is a total Γ coloring d: X →
n
ω which extends p and at all points x∈X\dom(p), d(x)∈a .
n
(cid:83)
Proof. Work in M . Fix a coloring e: X → ω. Let a = b be a partition
n n i i
of a into infinitely many sets of size m. Let d: X → ω be a function such
n
that p ⊂ d and for all x ∈/ X \dom(p), d(x) is a number in e(x) which is not
one of the (fewer than m many) colors {p(y): (cid:104)x,y(cid:105) ∈ Γ}. This is the desired
coloring.
Let ≺ be a coherent wellordering of P(X ×ω), and for each n ≤ ω let d be
n
the≺-leastcoloringasintheclaiminthemodelM . Finally, inthemodelM ,
n 0
define a map c: X → ω as follows: c(x) = d (x) if x ∈/ dom(p) and n ≤ ω is
n
the largest number such that x∈M , and c(x)=p(x) if x∈dom(p). It is not
n
difficult to check that c is a Γ-coloring extending p. Moreover, the coherence of
thewell-ordering≺guaranteesthatforeachn≤ω,c(cid:22)M ∈M holds. Ineach
n n
model M for n≤ω, the coloring c(cid:22)M is associated with a balanced virtual
n n
condition p¯ for the poset P by Theorem 8.1.2. The sequence (cid:104)p¯ : n ≤ ω(cid:105) is
n Γ n
as desired.
Corollary 9.4.25. Let Γ be the graph on R2 connecting points x ,x if they
0 1
have a nonzero rational distance.

226 CHAPTER 9. PRESERVING CARDINALITIES
1. In the P -extension of the symmetric Solovay model, the orbit divide is
Γ
preserved;
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, the
chromatic number of Γ is countable, and the orbit divide is preserved.
Example 9.4.26. Let X be a Borel vector space over a countable field Φ. Let
P be the 3-Hamel decomposition forcing of Definition 8.1.11. The poset P is
nested balanced.
Proof. LetJ betheidealonωfromwhichtheposetP isconstructed. Letp∈P
be any condition. Let (cid:104)M : n≤ω(cid:105) be a generic choice-coherent sequence such
n
that for every n∈ω, the set 2ω∩M \M is nonempty. Let ≺ be a coherent
n n+1
well-orderingofallfunctionsfromX toω. Let{a : n≤ω}∈V beacollection
n
(cid:83)
of pairwise disjoint infinite sets such that a ∈J. Use Claim 8.1.14 in each
n n
model M to show that in M , there is a 3-Hamel decomposition extending p
n n
suchthatallpointsnotindom(p)getacolorintheseta ;letd bethe≺-least
n n
such a coloring. Now, working in M , let c : X → ω be the map defined by
n n
c (x)=d (x) if x∈M , and c (x)=d (x) if x∈M \M .
n ω ω n m m m+1
We claim that c is a 3-Hamel decomposition. To see this, suppose that
n
x ,x ,x are distinct nonzero points points in a nontrivial linear combination
0 1 2
resulting in 0. Let m ≤ ω be the largest index such that one of the points,
say x , is in M . Either all three points are in M but not in M and
0 m m m+1
then the triple is not monochromatic as d is a Γ-coloring. Or, the other two
m
points are in M \M for some k <m. In such a case the triple is again not
k k+1
monochromatic: either x ∈ dom(p) and then the failure of monochromaticity
0
followsfromtheassumptionthatd isa3-Hameldecomposition,orx ∈/ dom(p)
k 0
and then c (x )∈a and c (x )∈a and the sets a ,a are disjoint.
n 0 m n 1 k m k
Now, it is not difficult to see that (cid:104)c : n ∈ ω(cid:105) is a coherent sequence of
n
3-Hamel decompositions. A 3-Hamel decomposition is a balanced condition for
P by Theorem ??. Finally, p ≥ c ≥ ··· ≥ c ≥ c ≥ c holds in the poset P
ω 2 1 0
as the sets a for n≤ω all belong to the ideal J. Thus, (cid:104)M ,c : n≤ω(cid:105) is the
n n n
required nest below the condition p.
Corollary 9.4.27. Let X be a Borel vector space over a countable field Φ. Let
P be the 3-Hamel decomposition forcing of Definition 8.1.11.
1. Let P be the 3-Hamel decomposition forcing. In the P-extension of the
symmetric Solovay model, the orbit divide is preserved;
2. itisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is 3-Hamel decomposition of X, and the orbit divide is preserved.
In view of Example 8.1.15 it is consistent relative to an inaccessible cardinal
that ZF+DC holds, the orbit divide is preserved, and there is a decomposition
of R2 into countably many pieces neither of which contains the vertices of an
equilateral triangle.

9.4. THE ORBIT DIVIDE 227
Now it is time to show that the existence of certain combinatorial objects
implies that the orbit divide breaks. In the following theorem and corollaries,
we neglect the real parameter necessary to define the Polish spaces in question.
For the rest of the section, put X =(2ω)ω.
Theorem 9.4.28. (ZF)SupposethatthereisaPolishspaceY andasetA⊂Y
such that the preordering ≤ on X, defined by x ≤ x if x ∈ L[x ,A], is well-
1 0 1 0
founded. Then there is a countable complete section for E .
1
Proof. For each point x ∈ X and each number m ∈ ω, write x\m for the
element of X defined by (x\m)(n) = x(n) if n ≥ m, and (x\m)(n) =the
infinite sequence of zeroes if m < n. For each number m ∈ ω write M (x)
m
for the model L[x\m,A]. By the well-foundedness assumption, there must be
n ∈ ω such that for all m ≥ n the models M (x) are the same. Note that if
m
x ,x ∈ X are E -related points, the stable value of the models M (x ) and
0 1 1 m 0
M (x ) is the same. We would like to define the complete section D ⊂ X
m 1
(cid:84)
by setting x ∈ D if x belongs to M (x). The stabilization feature shows
m m
that D has nonempty intersection with each E -class. However, a more precise
1
definition of the complete section is necessary to make the conclusion that the
intersection with each E -class is countable.
1
ObservefirstthatbyastandardcondensationargumentthemodelM (x)is
m
a model of ZFC+CH, and its constructibility ordering orders its elements of X
in ordertype ωMm(x). For natural numbers n≤m∈ω define ρ (x) to be the
1 nm
indexofx\nintheconstructibilitywell-orderingofM (x)ifx\n∈M (x),and
m m
let ρ (x) = 0 otherwise. Let α(x) = limsup sup ρ (x). The definition
nm n m≥n nm
of the ordinal α(x) does not depend on the choice of x within its equivalence
class by the stabilization assumption. Also, α(x) is a countable ordinal. To see
this,workinthemodelM (x)andevaluatetheordinalα(x)there. SinceM (x)
0 0
is a model of choice, its ω is regular and so α(x)∈ωM0(x). Since ωM0(x) ≤ω ,
1 1 1 1
the countability of α(x) follows.
Finally, let C = {x ∈ X: ∃n x = x\n and for all m ≥ n, x\n ∈ M (x)
m
and ρ (x)≤α(x)}. To see that the set C meets every E class in a nonempty
nm 1
countable set, let z ∈X be arbitrary. The definition of the ordinal α(z) shows
that there is a number n ∈ ω such that for all m ≥ n, z \n ∈ M (z) and is
m
enumerated before α(z) there; clearly, letting x = z \n we get x ∈ C ∩[z]E .
1
Also, note that C ∩[z]E
1
⊂ {x ∈ X: ∃n x ∈ M
n
(z) and the index of x in the
constructibility well-ordering of M (z) is ≤ α(z)} and observe that the latter
n
set is countable as the ordinal α(z) is countable.
Corollary 9.4.29. (ZF) Let Y be an uncountable Polish space. If there is an
acyclic decomposition of [Y]2 then E has a countable complete section.
1
Inparticular,inZFtheexistenceofanacyclicdecompositionimplies|E |≤|F |.
1 2
Proof. Let c: [Y]2 →ω be the acyclic decomposition. Fix a countable basis for
thespaceY andletA={(cid:104)z ,z ,O,m(cid:105): z ,z ∈Z aredistinctpoints,O ⊂Y is
0 1 0 1
a basic open set, m∈ω, and there is y ∈O such that c(y,z )=c(y,z )=m}.
0 1

228 CHAPTER 9. PRESERVING CARDINALITIES
Let ≤ be the preordering on X defined by x ≤x if x ∈L[x ,A]. In view of
1 0 1 0
Theorem 9.4.28 it will be enough to show that ≤ is well-founded.
To do this, consider the map π: X → ω defined by π(x) = ωL[x,A]. It
1 1
will be enough to show that x < x implies π(x ) ∈ π(x ). Suppose towards
1 0 1 0
contradiction that this fails for some x < x , and write M = L[x ,A] and
1 0 1 1
M =L[x ,A]. Since M is a class of M , it must be the case that ωM1 ≤ωM0;
0 0 1 0 1 1
by the contradictory assumption, the equality in fact prevails. Thus, in the
model M the set Y ∩M is an uncountable proper subset of Y ∩M . Let
0 1 0
y ∈Y ∩(M \M ) be an arbitrary point.
1 0
By a counting argument in the model M there must be a number m ∈ ω
0
and distinct points z ,z ∈Y ∩M such that c(y,z )=c(y,z )=m. If y ∈Y
0 1 1 0 1
was the unique point satisfying these equalities then it can be constructed from
A and the points z ,z ; as such, it would belong to the model M , which is not
0 1 1
the case. Thus, there is a point y(cid:48) ∈ Y distinct from y such that c(y(cid:48),z ) =
0
c(y(cid:48),z ) = m. However, then the 4-cycle consisting of edges connecting the
1
vertices z ,y,z ,y(cid:48),z in this order is monochromatic, a contradiction.
0 1 0
Corollary 9.4.30. (ZF) Let Y be an uncountable Polish vector space over a
countable field Φ. If there is a basis for Y over Φ then there is a countable
complete section for E .
1
In particular, in ZF the existence of a Hamel basis for R over Q implies |E |≤
1
|F |.
2
Proof. Let d be an invariant complete metric on Y. Let B ⊂ Y be a basis for
Y over F. Let A = {(cid:104)y,O : i ∈ k(cid:105): y ∈ Y,O ⊂ Y are basic open sets and
i i
there are points y ∈ O ∩b such that y is a linear combination of y : i ∈ k
i i i
with nonzero coefficients in Φ}. Define a preordering on the space X by setting
x ≤x if x ∈L[x ,A,B]. It will be enough to show that the preordering ≤ is
1 0 1 0
well-founded. A reference to Theorem 9.4.28 then concludes the proof.
Suppose towards contradiction that the ordering ≤ is ill-founded. The first
orderofbusinessistoproduceasequence(cid:104)x : n∈ω(cid:105)suchthatforeachm∈ω,
n
(cid:104)x : n≥m(cid:105)∈L[x ,A,B] and x ∈/ L[x ,A,B]. To do this, let x ∈X be
n m m m+1 0
anyelementsuchthatthereisastrictlydecreasinginfinitesequencein≤below
x , and by recursion define x ∈ X to be the first (in the constructibility
0 n+1
ordering of L[x ,A,B]) point in L[x ,A,B] such that x ∈/ L[x ,A,B] and
n n n n+1
there is a strictly decreasing sequence in ≤ below x . The point here is that
n+1
the ordering is defined in an absolute way, and its well-foundedness is absolute
into the models concerned.
(cid:84)
Write M for the model L[x ,A,B] and M for M . As an initial ob-
n n ω n n
servation, note that the set B∩M is a basis in M : for every y ∈Y ∩M , the
n n n
unique linear combination of elements of B with nonzero coefficients yielding y
canbeconstructedfromy andC,sobelongstoM . Now,byrecursiononi∈ω
n
build points y ∈ Y and numbers n ∈ ω so that n = 0 and for every i ∈ ω,
i i 0
y ∈ M is the first point in the constructibility well-ordering of M which is
i ni ni
within d-distance 2−i of the zero element of Y and does not belong to M .
ni+1
Such a point must exist since the 2−i-neighborhood of the zero element is an

9.5. THE E DIVIDE 229
Kσ
uncountable open subset of the Polish space Y, and M does not contain all
ni+1
reals of M . The point y is expressed as a unique linear combination φ of
ni i i
elements of B∩M . Finally, let n ∈ ω be the first number n greater than
ni i+1
n such the linear combination φ uses no elements of the set M \M .
i i n ω
Note that for each i ∈ ω the sequence (cid:104)y ,n : j ≥ i(cid:105) belongs to the model
j j
M . Let z = Σ y = lim Σ y . The limit exists as the metric d is
ni i j≥i j k k≥j≥i k
invariant and complete and the points y converge to zero fast. It is also clear
i
that z ∈ M , and z −z = y . Since z ∈ M and y ∈/ M both
i ni i i+1 i i+1 ni+1 i ni+1
hold, we conclude that z ∈/ M holds.
i ni+1
Now,thepointz ∈Y canbeexpressedasalinearcombinationψofelements
0
of B ∩M . Let i ∈ ω be a number so large that the combination ψ uses no
0
elementsofM \M . Observethatz =z −Σ y andthelinearcombinations
ni ω i 0 j<i j
φ yielding the points y for j ∈i use no elements of M \M . In other words,
j j ni ω
thepointz ∈M canbeexpressedasalinearcombinationofelementsofB\M
k k 0
which uses no elements of M \M . This combination (after cancellations) is
ni ω
uniqueasB isabasis,anditusesonlyelementsofM sinceB∩M isabasis
ni ni
inM . Thus,itusesonlyelementsofM ,soz ∈M . Thisontradictsthelast
ni ω i ω
sentence of the previous paragraph.
Note that the Polish assumption on the vector space Y is necessary in Corol-
lary 9.4.30. One can consider the (non-Polishable) group Y of finite subsets of
2ω equipped with the symmetric difference operation as a vector space over the
binaryfield. ThisvectorspacehasabasisinZF,namelythesetofallsingletons.
Thus, the existence of the basis for this particular vector space does not imply
in ZF the existence of a complete countable section for E .
1
9.5 The E divide
K
σ
Recall that E is the equivalence relation on the space of all functions in
Kσ
ωω pointwise dominated by the identity function, connecting functions x ,x
0 1
if the function x −x is bounded. The central position of this equivalence
0 1
relationisdocumentedbythefactthatitisK , andthateveryK -equivalence
σ σ
relation is Borel reducible to it by a result of Rosendal [74]. It is well-known
that the equivalence relation Eω is not Borel reducible to E [48, Lemma
0 Kσ
6.1.1], and among the equivalence relations classifiable by countable structures,
it even has a central place in this regard. In this section, we show that in
certain extensions of the symmetric Solovay model, this non-reducibility result
is translated to a cardinality preservation result. The reader should note that
in ZF, the inequality |E | ≤ |2ω| implies |Eω| ≤ |(2ω)ω| = |2ω|, and therefore
0 0
preserving the E -divide is strictly more difficult than preserving the smooth
Kσ
divide.
The preservation of the relation |Eω|(cid:54)≤|E | uses the following generaliza-
0 Kσ
tion of the mutual genericity motivated by Proposition 1.7.8.
Definition 9.5.1. Let V[H ],V[H ] be generic extensions in some ambient
0 1
extension of V. We say that V[H ],V[H ] are mutually generic over a pod if
0 1

230 CHAPTER 9. PRESERVING CARDINALITIES
1. for every ordinal α, V ∩V[H ]∩V[H ]∈V[H ]∩V[H ];
α 0 1 0 1
2. for any disjoint sets a ∈ V[H ] and a ∈ V[H ] which are subsets of
0 0 1 1
V[H ]∩V[H ], there are disjoint sets b ,b ∈ V[H ]∩V[H ] such that
0 1 0 1 0 1
a ⊂b and a ⊂b .
0 0 1 1
The pod is the intersection V[H ]∩V[H ].
0 1
It is not hard to see that the first item implies that the intersection V[H ]∩
0
V[H ] is a model of ZF, since it is weakly universal and closed under the G¨odel
1
functions[45,Theorem13. 9]. IftheintersectionisinfactamodelofZFC,then
the extensions V[H ],V[H ] are mutually generic over it by Proposition 1.7.8.
0 1
However, we will be interested exactly in the situations where the intersection
fails to satisfy even DC. The following is a simple observation which will be
critical later.
Proposition 9.5.2. Let V[H ],V[H ] be extensions mutually generic over a
0 1
pod. EveryE -classrepresentedinbothV[H ],V[H ]isrepresentedinV[H ]∩
Kσ 0 1 0
V[H ].
1
Proof. Let x ∈ V[H ] and x ∈ V[H ] be points in ωω below the identity
0 0 1 1
function which are E -related. Find a natural number m∈ω such that for all
Kσ
k ∈ω, |x (k)−x (k)|≤m. Leta ⊂ω×ω bethesetx , andleta ⊂ω×ω be
0 1 0 0 1
the set {(cid:104)k,l(cid:105): |l−x (k)|>m}. Thus, a ∈V[H ] and a ∈V[H ] are disjoint
1 0 0 1 1
sets, and therefore can be separated by some disjoint sets b ,b ⊂ ω ×ω in
0 1
V[H ]∩V[H ]bythemutualgenericityassumption. Theverticalsectionsofthe
0 1
set b are all nonempty and the function y ∈2ω, which for each n∈ω indicates
0
the smallest element of the vertical section (b ) , belongs to V[H ]∩V[H ].
0 n 0 1
Since y ∩a = 0, it must be the case that y is E -related to both x ,x as
1 Kσ 0 1
desired.
The conclusion of the proposition fails for such simple pinned equivalence rela-
tionsasEω, andthisisexactlythepointexploitedinthissection. Wewillneed
0
a notion of pod balance.
Definition 9.5.3. A Suslin poset P is pod balanced if for every pair V[H ],
0
V[H ] of extensions mutually generic over a pod and every pair of conditions
1
p ∈ V[H ] and p ∈ V[H ], if p ,p ∈ P are incompatible, then there are
0 0 1 1 0 1
analytic sets A ,A ⊂ P coded in V[H ] ∩ V[H ] such that ΣA , ΣA are
0 1 0 1 0 1
incompatible in P and p ,ΣA are compatible and p ,ΣA are compatible.
0 0 1 1
Theorem 9.5.4. In compactly balanced, pod balanced extensions of the sym-
metric Solovay model, |Eω|(cid:54)≤|E | holds.
0 Kσ
Proof. Themaintechnicaltoolusedintheproofisthecountablesupportprod-
uctQofcountablymanycopiesoftheVitaliforcing. Wefirststudytheproduct
Q in its own right.
Fact 9.5.5. The poset Q is proper, bounding, and adds no independent reals.

9.5. THE E DIVIDE 231
Kσ
Proof. The first two assertions are well-known, and follow for example from [?,
Theorem 5.6] or [101, Theorem 5.2.6]. The third assertion is more difficult. It
can be derived from the work of [84, Section 4], and it appears explicitly in the
forthcoming [104].
The poset Q is designed to add an interesting model of ZF. In the Q-extension,
let (cid:104)x : n∈ω(cid:105) be the sequence of points Vitali-generic over the ground model
n
added by the product Q. Let A ⊂ ω × 2ω be the relation consisting of all
pairs (cid:104)n,x(cid:105) such that x is E -related to x . For each number n ∈ ω, let V be
0 n n
the model of all sets hereditarily definable from x for m ∈ n, A, and some
m
parametersinthegroundmodel. Also,letM bethemodelofallsetshereditarily
definablefromthesetAanditselements, andparametersinthegroundmodel.
We have the following:
Claim 9.5.6. 1. V ⊂V ⊂V ⊂···⊂M;
0 1 2
2. the sequence (cid:104)V : n∈ω(cid:105) belongs to M;
n
(cid:83)
3. every set of ordinals in M belongs to V ;
n n
4. the model M does not contain any uniformization of the set A.
Note also that the models V satisfy the axiom of choice, while the model M
n
fails even DC, as item (3) shows.
Proof. The first item follows directly from the definitions of the models V and
n
M: if m ∈ n ∈ ω are numbers then there are fewer definitions of elements
of the model V than of elements of the model V , and certainly fewer than
m n
the definitions of elements the model M. For (2), the sequence (cid:104)V : n ∈ ω(cid:105) is
n
definablefromthesetA,sinceinthedefinitionofthemodelV itcertainlydoes
n
not matter which E -equivalents of the points x for m ∈ n one uses as the
0 m
parameters. For(3),anydefinitionofasetofordinalsinthemodelM usesonly
finitely many parameters, and then must belong to the model V for a number
n
n large enough so that the parameters of the definition are definable from x
m
for m∈n, the set A, and some elements of the ground model.
Lastly, for (4), return to the ground model and assume towards a contra-
diction that some condition in Q forces (4) to fail. Then, in the poset Q, there
mustbeaconditionq,numbersn,k ∈ω andaformulaφsuchthatq forcesthat
the formula φ uses only parameters x˙ for m ∈ n, A, and some parameters in
m
the ground model, it defines a uniformization y of the set A, and y(n) agrees
withx˙ fromk on. Let(cid:104)x : m∈ω(cid:105)beaQ-genericsequenceofpointsmeeting
n m
the condition q. By a basic analysis of the Vitali forcing in [101, Section 4.7.1],
there is also a point x(cid:48) ∈ 2ω E -related to x which differs from x at some
n 0 n n
pointpastk andsuchthat(cid:104)x : m(cid:54)=n,x(cid:48) (cid:105)isaQ-genericsequencemeetingthe
m n
condition q. Applying the forcing theorem to the two sequences (cid:104)x : m ∈ ω(cid:105)
m
and (cid:104)x : m (cid:54)= n,x(cid:48) (cid:105), we see that the formula φ should define a uniformiza-
m n
tion y of the set A such that y(n) is equal to both x and x(cid:48) beyond k. This
n n
is impossible though as the two sequences x ,x(cid:48) do differ at some point past
n n
k.

232 CHAPTER 9. PRESERVING CARDINALITIES
Now, towards the proof of the theorem. Write E = Eω and F = E . Let
0 Kσ
κ be an inaccessible cardinal. Let P be a Suslin forcing which is compactly
balanced and pod balanced below κ. Let W be a symmetric Solovay model
derived from κ and work in the model W. Let p∈P be a condition and τ be a
P-name such that p forces τ to be a function from the E-quotient space to the
F-quotient space. We must find a condition q ≤p and distinct E-classes which
are forced by q to have the same τ-image.
The condition p and the name τ must be definable from a parameter z ∈2ω
andadditionalparametersfromthegroundmodel. LetV[K]beanintermediate
forcingextensionobtainedbyaposetofsize<κsuchthatz ∈V[K]. Workingin
themodelV[K],letQ betheposetP(ω)modulofinite,andletQ betheprod-
0 1
uctofcountablymanycopiesoftheVitaliforcingasdiscussedinthepreambleof
thepresentproof. Let(cid:104)U,x : n∈ω(cid:105)beobjectsgenericoverV[K]fortheposet
n
Q ×Q ; in particular, U is an ultrafilter on ω, and (cid:104)x : n ∈ ω(cid:105) is a sequence
0 1 n
of points in 2ω. Since the poset Q is σ-closed, the models V[K] and V[K][U]
0
compute the poset Q in the same way, in particular V[K][U][x : n ∈ ω] is a
1 n
Q -extension of V[K][U] and 2ω∩V[K][U][x : n∈ω]=2ω∩V[K][x : n∈ω].
1 n n
Since (Fact 9.5.5) the poset Q adds no independent reals, a density argument
1
shows that U generates an ultrafilter in the model V[K][U][x : n∈ω].
n
Let A ⊂ ω×2ω be the relation consisting of all pairs (cid:104)n,x(cid:105) such that x is
E -related to x . In the model V[K][U][x : n ∈ ω] form the models V of all
0 n n n
sets hereditarily definable from parameters x for m ∈ n, A, and parameters
m
in the model V[K][U], and let M be the model of all sets hereditarily definable
from the set A and its elements and some other parameters in V[K][U]. Note
that by Vopˇenka’s theorem [45, page 249], the sequence (cid:104)x : n ∈ ω(cid:105) is generic
n
over the model M and the forcing adding it restores the axiom of choice in its
generic extension of M.
Thefollowingclaimmakesacriticaluseofthecompactbalanceassumption.
Claim 9.5.7. In the model M:
1. thereisasequence (cid:104)p¯ : n∈ω(cid:105) suchthat p¯ isabalancedvirtualcondition
n n
for V , and p≥p¯ ≥p¯ ≥p¯ ≥...;
n 0 1 2
2. any sequence as in (1) must have a lower bound.
Proof. Start with item (1). Working in V[K][U], fix R -names χ so that R
n n n
is the product of the first n-many copies of the Vitali forcing in the product
Q and χ is a name for a virtual balanced condition stronger than p and
1 n
than all χ for m ∈ n. This is possible by Definition 9.2.1(2). Now, in the
m
model V[K][U][x : n∈ω] for each n∈ω let p¯ be the U-limit of the sequence
n n
(cid:104)χ /(cid:104)xi : m ∈ n(cid:105): i ∈ ω(cid:105) in the compact space of virtual balanced conditions
n m
in the model V , where xi ∈ 2ω is the binary sequence obtained from x by
n m m
replacing its first i many entries with 0. The limit exists since U generates an
ultrafilter in all models V . The balanced virtual conditions p¯ for n∈ω form
n n
a decreasing sequence by Definition 9.2.1(3). Also, the definition of the limit

9.5. THE E DIVIDE 233
Kσ
𝑞
𝑝
0
𝑝
1
V[H ]
0
V[H ]
1
𝑝
3
̅
V
3
𝑝̅
2
V
2
𝑝̅
1
V
1
V
0
𝑝̅
0
Figure 9.2: A pod at work.

234 CHAPTER 9. PRESERVING CARDINALITIES
does not really depend on the sequence (cid:104)x : n∈ω(cid:105) but only on the set A, and
n
therefore (cid:104)p¯ : n∈ω(cid:105)∈M as desired.
n
Item (2) is somewhat trickier. Let N be some generic extension of M which
restores the axiom of choice. In the model N, let B be the compact Hausdorff
space of balanced conditions for P. For each number n ∈ ω, consider the
set C = {p¯ ∈ B: p¯ ≤ p¯ }. This is a nonempty and closed subset of B by
n n
Definition9.2.1(2)and(3). SincetheclosedsetsC forn∈ω formadecreasing
n
(cid:84)
sequence, a compactness argument shows that there must be some p¯∈ C .
n n
This is the required lower bound of the sequence (cid:104)p¯ : n∈ω(cid:105).
n
Work in the model M. By the forcing theorem, there must be a poset R of
rank<κrestoringtheaxiomofchoice,anR-nameσforaconditionintheposet
P strongerthanallthebalancedvirtualconditionsp¯ forn∈ω andanR-name
n
η for an element of ωω such that R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) τ([y] ) = [η] for
P E F
all functions y uniformizing the relation A. The following claim uses the pod
balance assumption.
Claim 9.5.8. There is a condition r ∈ R and a point u ∈ ωω ∩M such that
r (cid:13)η F uˇ.
Proof. Supposetowardsacontradictionthatthisfails. LetH ,H ⊂Rbefilters
0 1
mutually generic over the model M. Observe that the models M[H ],M[H ]
0 1
are generic extensions of V mutually generic over the pod M: if a ∈ M[H ]
0 0
anda ∈M[H ]aredisjointsetsofordinals,theymustbeseparatedbydisjoint
1 1
sets b ,b of ordinals in the model M by the mutual genericity over M and
0 1
Proposition 1.7.8. Now, let p =σ/H , u =η/H , p =σ/H and u =η/H .
0 0 0 0 1 1 1 1
Note that for every condition pˆ∈P ∩M, either both p ,p are below pˆor both
0 1
p ,p are incompatible with pˆ. This occurs because by Claim 9.5.6, there is a
0 1
number n ∈ ω such that pˆ∈ V , the virtual condition p¯ is either below pˆ or
n n
incompatible with it by its balance, and p ,p ≤ p¯ . By the pod balance of
0 1 n
the poset P, the conditions p ,p have a lower bound in the poset P. By the
0 1
forcing theorem in M and the initial contradictory assumption, u ,u are not
0 1
F-related to any element of M. By Proposition 9.5.2, u cannot be F-related
0
to u . Thus, the lower bound of p ,p would have to force the unique E-class
1 0 1
of all uniformizations of the set A to be mapped by τ simultaneously to [u ]
0 F
and to [u ] , which is impossible.
1 F
Now, the claim together with the forcing theorem means that there is a natural
number n ∈ ω, a point u ∈ V in ωω and in the model V a poset S of size
n n
< κ and an S-name χ for a condition in the poset P stronger than p¯ and an
S-name ξ for an element of (2ω)ω which is not E-related to any point in V
n
such that S (cid:13) Coll(ω,< κ) (cid:13) χ (cid:13) τ([ξ] ) = [uˇ] . Namely, the poset S
P E F
is a remainder of the iteration of Q and R after the first n-many Q-generic
reals are added. Let H ,H ⊂ S be filters mutually generic over the model
0 1
V = V[K][U][x : m ∈ n] and write p = χ/H , y = ξ/H , p = χ/H , and
n m 0 0 0 0 1 1
y =ξ/H . Bythebalanceofthevirtualconditionp¯ ,theconditionsp ,p have
1 1 n 0 1
a lower bound. Since the equivalence relation E is pinned, the points y ,y are
0 1

9.5. THE E DIVIDE 235
Kσ
not E-related. By the forcing theorem, the lower bound of the conditions p ,p
0 1
forcesτ([y ] )=τ([y ] )=[u] . Thisshowsthatτ cannotbeaninjectionand
0 E 1 E F
completes the proof of the theorem.
Example 9.5.9. The poset P = P(ω) modulo finite is compactly balanced
andpodbalanced. CompactbalancewasprovedinExample9.2.4. Towardsthe
podbalance,supposethatV[H ],V[H ]aregenericextensionsmutuallygeneric
0 1
overa pod and p ,p ∈P are incompatibleconditions inthe respective models,
0 1
i.e.almostdisjointsubsetsofω. Bythemutualgenericitytheremustbealmost
disjoint sets p(cid:48),p(cid:48) ∈ V[H ]∩V[H ] of natural numbers such that p ⊂ p(cid:48) and
0 1 0 1 0 0
p ⊂p(cid:48). These sets as conditions in P exemplify the pod balance.
1 1
Corollary 9.5.10. 1. LetP =P(ω)modulofinite. ThenintheP-extension
of the symmetric Solovay model, |Eω|(cid:54)≤|E | holds.
0 Kσ
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a nonprincipal ultrafilter on ω and yet |Eω|(cid:54)≤|E |.
0 Kσ
Example 9.5.11. Let K be a locally countable Borel simplicial complex on
a Polish space X. Then the poset P = P is pod balanced. To see this,
K
let V[H ],V[H ] be models mutually generic over a pod and p ∈ V[H ] and
0 1 0 0
p ∈ V[H ] are incompatible conditions. Write E = E as in Definition 6.1.3;
1 1 K
thisisacountableBorelequivalencerelationonX. Theonlywayhowp ,p can
0 1
failtobecompatibleisthatthereisanE-classcrepresentedinbothV[H ]and
0
V[H ] and finite sets a ,a ⊂b such that a ⊂p and a ⊂p and a ∪a ∈/ K.
1 0 1 0 0 1 1 0 1
Use the Mostowski absoluteness between V[H ],V[H ] and V[H ,H ] to see
0 1 0 1
that c ⊂ V[H ] ∩ V[H ] holds. Thus, the conditions p(cid:48) = a and p(cid:48) = a
0 1 0 0 1 1
witness the pod balance of the poset P.
Many posets associated with locally countable simplicial complexes are com-
pactly balanced; we get for example the following.
Corollary 9.5.12. Let Γ be a Borel locally finite graph on a Polish space X
satisfying the Hall’s marriage condition.
1. Let P be the poset adding a perfect matching to Γ with countable ap-
proximations. Then in the P-extension of the symmetric Solovay model,
|Eω|(cid:54)≤|E | holds.
0 Kσ
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, Γ
has a perfect matching, and yet |Eω|(cid:54)≤|E |.
0 Kσ
Example 9.5.13. Let P be the poset adding a linear ordering on the E -
Kσ
quotient space as in Example 8.6.5. Then the poset P is compactly balanced
and pod balanced. Compact balance was proved in Example 9.2.11. For the
pod balance, suppose that V[H ],V[H ] are extensions mutually generic over
0 1
a pod, and p ∈ V[H ], p ∈ V[H ] are incompatible conditions. Passing to
0 0 1 1
stronger conditions if necessary, we may assume that p ,p are linear orders on
0 1
some subsets of the E -quotient space. The only way how they can fail to be
Kσ

236 CHAPTER 9. PRESERVING CARDINALITIES
compatible is that there are E -classes c,d represented in both V[H ],V[H ]
Kσ 0 1
such that (cid:104)c,d(cid:105) ∈ p and (cid:104)d,c(cid:105) ∈ p . In view of Proposition 9.5.2, c,d are
0 1
represented in V[H ] ∩ V[H ] and so the conditions p(cid:48) = {(cid:104)c,d(cid:105)} and p(cid:48) =
0 1 0 1
{(cid:104)d,c(cid:105)} belong to V[H ]∩V[H ] and exemplify the pod balance.
0 1
Corollary 9.5.14.
1. Let P be the E -linearization poset. Then in the P-extension of the
Kσ
symmetric Solovay model, |Eω|(cid:54)≤|E | holds.
0 Kσ
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, the
E -quotient space is linearly ordered and yet |Eω|(cid:54)≤|E |.
Kσ 0 Kσ
Example 9.5.15. Let Γ,∆ be abelian Polish groups, with ∆ divisible. Let
P be the poset for adding a discontinuous homomorphism from ∆ to Γ as in
Definition 8.2.1. Then the poset P is compactly balanced and pod balanced.
Compact balance was proved in Example 9.2.20. For the pod balance, suppose
that V[H ],V[H ] are extensions mutually generic over a pod, and p ∈V[H ],
0 1 0 0
p ∈ V[H ] are incompatible conditions. Passing to stronger conditions if nec-
1 1
essary,wemayassumethatΓ∩V[H ]∩V[H ]⊂dom(p ),dom(p )holds. Since
0 1 0 1
Γ∩V[H ]∩V[H ] is a subgroup of Γ, the only way how p ,p can fail to be
0 1 0 1
compatible is that there is a point γ ∈ V[H ]∩V[H ] with p (γ) (cid:54)= p (γ). Let
0 1 0 1
O ,O ⊂ ∆ be basic open sets separating the values p (γ) and p (γ) and let
0 1 0 1
A = {q ∈ P: γ ∈ dom(q) and q(x) ∈ O } and A = {q ∈ P: γ ∈ dom(q) and
0 0 1
q(x)∈O }. Clearly, A ,A ⊂P are analytic sets coded in V[H ]∩V[H ], the
1 0 1 0 1
sums ΣA ,ΣA are incompatible in P, and p ≤ΣA and p ≤ΣA holds.
0 1 0 0 1 1
Corollary 9.5.16. Let Γ,∆ be abelian Polish groups, with ∆ divisible.
1. Let P be the homomorphism poset. Then in the P-extension of the sym-
metric Solovay model, |Eω|(cid:54)≤|E | holds.
0 Kσ
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a discontinuous homomorphism from Γ to ∆ and yet |Eω|(cid:54)≤|E |.
0 Kσ
This section leaves perhaps more questions open than it resolves. We content
ourselves with quoting one glaring case:
Question 9.5.17. Does the conclusion of Theorem 9.5.4 stay in force if the
assumption of pod balance on P is dropped?
9.6 The pinned divide
NounpinnedequivalencerelationcanbereducedbyaBorelfunctiontoapinned
one, see Fact 2.3.2. This feature persists to the cardinality computations in
balanced extensions of the choiceless Solovay model, with a small proviso.

9.6. THE PINNED DIVIDE 237
Theorem 9.6.1. Let E,F be Borel equivalence relations on respective Polish
spaces X,Y, E pinned and F unpinned. In a balanced extension of a symmetric
Solovay model derived from an inaccessible limit of inaccessibles, |F| (cid:54)≤ |E|
holds.
We do not know if the increase in the large cardinal strength of the large cardi-
nalhypothesisisnecessary. WedoknowthoughthatonehastoconsiderSuslin
posets which are balanced everywhere below κ as opposed to just cofinally bal-
anced. This is clear from Example 9.6.2 below.
Proof. Let κ be an inaccessible cardinal which is a limit of inaccessibles. Let P
be a Suslin poset which is balanced below κ. Let W be the symmetric Solovay
model derived from κ and work in the model W. Towards a contradiction, sup-
pose that p∈P is a condition and τ a P-name for an injection from F-classes
to E-classes. Both p,τ are definable from some parameter z ∈2ω and parame-
ters in the ground model. The assumptions imply that there is an inaccessible
cardinal λ < κ of V and a filter K ⊂ Coll(ω,< λ) generic over V such that
z ∈V[K].
Work in the model V[K]. The balanced assumption on the poset P implies
thatthereisabalancedvirtualconditionp¯≤pinP. Theorem2.7.1showsthat
E is pinned in V[K] and therefore has at most c = ℵ many virtual classes,
1
while Theorem 2.5.11 shows that F has at least 2ℵ1 many virtual classes. The
argument splits into two cases:
Case 1. For every poset R of size <κ, every R-name for a condition σ ≤p¯in
the poset P, every F-pinned R-name η for an element of X and every R-name
χ for an element of X such that R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) τ([η] ) = [χ] , the
P F E
name χ is E-pinned.
In this case, by a counting argument with the virtual E- and F-classes, it
must be the case that there are posets R ,R and respective names σ ,η ,χ
0 1 0 0 0
andσ ,η ,χ onthemsuchthatη ,η areF-pinned,χ ,χ areE-pinned,R (cid:13)
1 1 1 0 1 0 1 0
Coll(ω,< κ) (cid:13) σ (cid:13) τ ([η] ) = [χ ] and R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13)
0 P 0 F 0 E 1 1 P
τ([η ] )=[χ ] and (cid:104)R ,χ (cid:105)E¯(cid:104)R ,χ (cid:105) holds while (cid:104)R ,η (cid:105)F¯(cid:104)R ,η (cid:105) fails. Let
1 F 1 E 0 0 1 1 0 0 1 1
H ⊂ R ,H ⊂ R be filters generic over V[K], and write r = σ /H ∈ P,
0 0 1 1 0 0 0
r = σ /H ∈ P, x = χ /H ∈ X, x = χ /H ∈ X, and y = η/H ∈ Y and
1 1 1 0 0 0 1 1 1 0 0
y =η /H ∈Y. The balance of the virtual condition p¯in P implies that r ,r
1 1 1 0 1
arecompatibleinP withsomelowerboundr ∈P, andthepinnedassumptions
imply that x E x holds and y F y fails. Since W is the symmetric Solovay
0 1 0 1
extension of both models V[K][H ] and V[K][H ], the forcing theorem in these
0 1
twomodelsimpliesthatinW,r (cid:13) τ([yˇ ) )=[xˇ ] andτ([yˇ ] )=[xˇ ] ; this
P 0 F 0 E 1 F 1 E
contradicts the assumption that τ is forced to be an injection.
Case 2. Case 1 fails. Then, there has to be poset R of size <κ, every R-name
foraconditionσ ≤p¯intheposetP,everyF-pinnedR-nameηforanelementof
X and every R-name χ for an element of X such that R(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)
P
τ([η] ) = [χ] , such that the name χ is not E-pinned. In such a case, there
F E
must be filters H ,H ⊂ R mutually generic over V[K] such that the points
0 1
x = χ/H ,x = χ/H ∈ X are E-unrelated. Let r = σ/H ,r = σ/H , and
0 0 1 1 0 0 1 1

238 CHAPTER 9. PRESERVING CARDINALITIES
let y = η/H ,y = η/H ∈ Y. The balance of the virtual condition p¯implies
0 0 1 1
that the conditions r ,r ∈ P are compatible with a lower bound r, and the
0 1
pinnedassumptionsimplythaty F y holds. SinceW isthesymmetricSolovay
0 1
extension of both models V[K][H ] and V[K][H ], the forcing theorem in these
0 1
two models implies that in W, r (cid:13) τ([yˇ ] )=[xˇ ] and τ([yˇ ] )=[xˇ ] this
P 0 F 0 E 1 F 1 E
contradicts the assumption that τ is forced to be a function.
Example 9.6.2. LetA⊂X =(2ω)ω bethesetofallelementsx∈X suchthat
rng(x) is linearly ordered by Turing reducibility, and let E =F(cid:22)A. Note that
the E-quotient space is classified by subsets of 2ω which are linearly ordered by
Turing reducibility. There are uncountable sets of this form, and therefore E is
unpinned. At the same time, such sets have size at most ℵ and so the virtual
1
E-quotientspace has size 2ℵ1.
Now, let P be the collapse of E = F2 (cid:22) A to |2ω|. The poset P is balanced
if and only if 2ℵ0 =2ℵ1 by Theorem 6.6.3; in particular, it is cofinally balanced
below any inaccessible cardinal. Thus, the P-extension of the Solovay model
is a cofinally balanced extension in which the (in ZFC) unpinned equivalence
relation E has the same cardinality as 2ω.

Chapter 10
Uniformization
Thequestionwhethervariousformsofuniformizationholdinthemodelswithin
purview of this book is one of the more slippery issues we set out to resolve.
10.1 Tethered Suslin forcing
In order to prove all forms of uniformization in a clean sweep, the following
definition will be central.
Definition 10.1.1. LetP beaSuslinforcingandλbeaninfinitecardinal. The
poset P is λ-tethered if whenever V[H ],V[H ] are mutually generic extensions
0 1
of V and p ∈ V[H ], p ∈ V[H ] are incompatible conditions, then there are
0 0 1 1
incompatiblevirtualconditionsp(cid:48),p(cid:48) ∈V representedonposetsofsize<λsuch
0 1
that p ,p(cid:48) are compatible and p ,p(cid:48) are compatible. The poset P is tethered if
0 0 1 1
it is λ-tethered for some cardinal λ.
One immediate corollary of tether is that it places an upper bound on the
number of balanced classes, which we do not know how to obtain in general.
Proposition 10.1.2. Let P be a Suslin forcing and λ be an infinite cardinal.
If P is λ-tethered then there are at most 22λ many balanced classes.
Proof. LetAbethesetofallvirtualconditionsofP representedonposetsofsize
<λ. Itisamatterofelementarycardinalarithmetictoconcludethat|A|≤2λ.
Whenever p¯is a balanced virtual condition, write B = {q ∈ A: p¯≤ q}. Note
p¯
thatforeachq ∈A,ifq ∈B thenp¯≤qandifq ∈/ B thenp¯,qareincompatible.
p¯ p¯
Toprovetheproposition,itwillbeenoughtoshowthatthesetB characterizes
p¯
the balanced condition p¯.
Now suppose that p¯ ,p¯ are balanced virtual conditions such that B =
0 1 p¯0
B ; denote the common value by B and work to show that p¯ = p¯ . To this
p¯1 0 1
end, suppose that R ,R are arbitrary posets, H ⊂ R and H ⊂ R are
0 1 0 0 1 1
mutually generic filters and p ∈V[H ], p ∈V[H ] are conditions below p¯ ,p¯
0 0 1 1 0 1
respectively. In view of the definition of the equivalence of balanced pairs,
239

240 CHAPTER 10. UNIFORMIZATION
it will be enough to show that p ,p are compatible. However, if they were
0 1
incompatible, by the tether assumption there would have to be incompatible
virtual conditions p(cid:48),p(cid:48) ∈ A such that p(cid:48),p are compatible and p(cid:48),p are
0 1 0 0 1 1
compatible. By the note from the previous paragraph, it must be the case that
p(cid:48),p(cid:48) ∈B holds. But then, p(cid:48),p(cid:48) are not incompatible because p¯ ,p¯ are both
0 1 0 1 0 1
their common lower bounds.
10.2 Pinned uniformization
In this section, we show that sets whose vertical sections are E-classes for a
suitably regular equivalence relation E can be uniformized.
Definition 10.2.1. Let E be an equivalence relation on a Polish space X. E-
uniformization is the statement: if B ⊂2ω×X is a set whose vertical sections
are E-classes, then there is a function f ⊂ B such that for every y ∈ 2ω, if
B (cid:54)=0 then f(y) is defined (and is an element of B ).
y y
The central theorem of this section can now be stated using Convention 1.7.16.
Theorem 10.2.2. Let E be a pinned Borel equivalence relation on a Polish
space X. In tethered, cofinally balanced extensions of the symmetric Solovay
model, E-uniformization holds.
Toparsethestatementofthetheoremcorrectly,notethatP needstobetethered
in all forcing extensions and balanced only in cofinally many forcing extensions
belowtheinaccessiblecardinalwhichgivesrisetothesymmetricSolovaymodel.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin poset which is
balancedcofinallybelowκandtetheredbelowκ. LetW beasymmetricSolovay
modelderivedfrom κ. LetG⊂P beafiltergeneric over W andwork inW[G].
The following claim contains the key use of the tether assumption.
Claim 10.2.3. Let y ∈ W[G] be any set and let M be the class of all sets
hereditarily definable from G,y, and parameters in the ground model. Then G
contains a realization of a balanced virtual condition in M.
A tacit part of the statement of the claim is that M is a model of ZFC, and
therefore it belongs to W by Theorem 9.1.1 by the cofinal balance assumption
on the poset P; in fact, it is a generic extension of the ground model by a poset
of size <κ.
Proof. Use the tether assumption to find a cardinal λ ∈ κ such that M |= P
is λ-tethered. Working in M, let D be the set of all virtual conditions in P
represented on posets of size <λ. In W[G], let C ⊂D be the set of all virtual
conditions in the set D whose realization belongs to the generic filter G. The
set C has just been defined from the ordinal λ and the ultrafilter G, so C ∈M.
BythegenericityofthefilterG,theremustbeaconditionp∈Gwhichisbelow
all conditions in C and incompatible with all the conditions in D\C. By the

10.2. PINNED UNIFORMIZATION 241
forcing theorem, in M there have to be a poset Q of cardinality less than κ and
a Q-name τ fora conditionin P such that Q forces τ to be belowall conditions
in C and incompatible with all conditions in D\C, and such that there is a
filter H ⊂ Q generic over the model M with p = τ/H. We claim that in the
model M, the pair (cid:104)Q,τ(cid:105) is balanced.
To see this, suppose towards contradiction that R ,R are posets and K ×
0 1 0
H ⊂ R ×Q and K ×H ⊂ R ×Q are filters mutually generic over the
0 0 1 1 1
model M and p ,p are conditions in the respective models below τ/H and
0 1 0
τ/H respectively. We must show that p ,p are compatible. This, however,
1 0 1
is immediately clear from the λ-tether assumption and the fact that for every
virtual condition p¯on P represented on a poset of cardinality less than λ and
for every i ∈ 2, p¯ ≥ p ↔ p¯ ∈ C and p¯ is incompatible with p if and only if
i i
p¯∈/ C.
Still working in the model M, let p¯ be a virtual balanced condition in the
balance class of (cid:104)Q,σ(cid:105), obtained from Theorem 5.2.5. Clearly, the filter G
contains a realization of it.
Return to the model W for a moment. Let p ∈ G be a condition and let τ be
a P-name for a subset of 2ω×X such that each vertical section of τ is a single
E-class. Let z ∈ 2ω be a point such that both p,τ are definable from z and a
ground modelparameter. Back inthe model W[G], write B =τ/G. Let y ∈2ω
be an arbitrary point and let M be the model of all sets hereditarily definable
y
from G,y, and parameters in the ground model. By Claim 10.2.3, there is a
balanced virtual condition p¯ in M whose realization belongs to the filter G.
y
Necessarily, p¯≤p.
In the model M , we will show that Coll(ω,<κ)(cid:13)p¯(cid:13) τ ∩M (cid:54)=0. Once
y P y y
thisisdone, thesetB canbeuniformizedbythesetofallpairs(cid:104)y,x(cid:105)suchthat
x∈M is the first point in the canonical well-ordering of the model M which
y y
belongs to B .
y
To prove the forcing statement in the previous paragraph, suppose towards
a contradiction that it fails. Move to the model M . There have to be a
y
poset R of size < κ and R-names σ for a condition in P stronger than p¯ and
η for an element of X which has no E-equivalent in the model M such that
y
R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) (cid:104)yˇ,η(cid:105) ∈ τ. In W, let H ,H ⊂ R be filters mutually
P 0 1
generic over the model M . Write p =σ/H , p =σ/H , x =η/H and x =
y 0 0 1 1 0 0 1
η/H . The balance of the condition p¯ implies that p ,p ∈ P are compatible
1 0 1
conditions with a lower bound q. The pinned assumption on the equivalence
relation implies that x ,x ∈X are not E-related.
0 1
SinceW isalsoasymmetricSolovayextensionofbothM [H ]andM [H ],
y 0 y 1
the forcing theorem applied in these two models implies that q (cid:13) xˇ ,xˇ ∈ τ .
0 1 y
Thisisimpossibleasτ isforcedtobeanE-classandx ,x arenotE-related.
0 1
Theorem 10.2.2 is the strongest possible result of its kind, as the following
observation shows.
Theorem 10.2.4. Let E be an unpinned Borel equivalence relation on a Polish
space X. Then E-uniformization fails in balanced extensions of the Solovay

242 CHAPTER 10. UNIFORMIZATION
model.
Proof. Let W[G] be a balanced extension of the Solovay model. For each pa-
rameter z ∈ 2ω the model M = HOD is well-ordered and therefore by
z V,z,G
Theorem 9.1.1, it is a well-ordered subclass of W and so an extension of V by
a poset < κ. The Borel equivalence relation E is unpinned in M by Theo-
z
rem 2.7.1. By Theorem 2.6.3, M |=there is a nontrivial E-pinned name on the
z
poset Coll(ω,ω
1
). Note that (P(ω
1
))Mz is a countable set in W. Thus, one
can successfully define the set B ⊂ 2ω ×X by setting (cid:104)z,x(cid:105) ∈ B if there is a
filter g ⊂ Coll(ω,ωMz) generic over M such that τ /g E x, where τ is the
1 z z z
first E-unpinned name in the canonical well-ordering of the model M . Every
z
vertical section of the set B then consists of precisely one E-equivalence class.
Tosee thatthe set B cannotbe uniformized, note thateveryP-name inthe
model W is definable from a real parameter and some additional parameters
in the ground model, and therefore every element of W[G] is definable from
a real parameter, the generic filter G, and some additional parameters in the
ground model. Thus, if f: 2ω → X is a putative uniformization of the set B,
onecanfindarealparameterz ∈2ω suchthatf isdefinablefromz,Gandsome
elements of the ground model. Then f(z) should be an element of the model
M by the definition of the model M . At the same time, the vertical sections
z z
B contains no elements of M by the definition of the set B.
z z
10.3 Well-orderable uniformization
In this section, we will prove that a strong version of the countable-to-one uni-
formization statement holds in the extensions of the Solovay model by tethered
forcings.
Definition 10.3.1. Let E be an equivalence relation on a Polish space X.
E-well-orderable uniformization is the statement: if E is a Borel equivalence
relation on a Polish space X and B ⊂ 2ω ×X is a set, then the following are
equivalent:
1. for every y ∈2ω, B is a union of a well-orderable collection of E-classes;
y
2. B = (cid:83) B where for each ordinal α, B ⊂ 2ω ×X is a set whose verti-
α α α
cal sections are either empty or E-classes and the variable α ranges over
ordinals.
Clearly, only the implication (1)→(2) has nontrivial content. As a very special
case,onecanconsiderasetB ⊂2ω×X withallverticalsectionscountableand
E the identity on X. Then (2) yields in particular a function uniformizing the
setB: foreachy withB nonemptyfindtheleastα=α forwhichthevertical
y y
section (B ) is nonempty and then let f(y) = x for the unique x ∈ X such
α y
that (cid:104)y,x(cid:105)∈B . This is the familiar countable-to-one uniformization.
αy
ThecentraltheoremofthissectioncannowbestatedusingConvention1.7.16.

10.3. WELL-ORDERABLE UNIFORMIZATION 243
Theorem 10.3.2. Let E be a Borel equivalence relation on a Polish space X.
In tethered, cofinally balanced extensions of the symmetric Solovay model, E-
well-orderable uniformization holds.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin poset which is
balancedcofinallybelowκandtetheredbelowκ. LetW thesymmetricSolovay
model derived from κ. In the model W, let p ∈ P be a condition and τ be
a P-name such that p (cid:13) τ ⊂ 2ω ×X is a set whose vertical sections are well-
orderableunionsofE-classes. Letz ∈2ω beaparametersuchthatp,τ areboth
definable from z and some additional ground model parameters. Let G⊂P be
a generic filter meeting the condition p and let B = τ/G. Work in the model
W[G].
Fix a point y ∈2ω and consider the model M of all sets hereditarily defin-
y
able from parameters y,z,G and parameters in the ground model. Note that
M isamodelofZFCandthereforefindsitselfalreadyinthemodelW byThe-
y
orem 9.1.1; in fact, it is a generic extension of the ground model by a poset of
size<κ. WeclaimthattheverticalsectionB consistsofrealizationsofvirtual
y
E-classes of the model M . Once this is proved, one can decompose the set B
y
(cid:83)
into the union B = B by setting (cid:104)y,x(cid:105) ∈ B if (cid:104)y,x(cid:105) ∈ B and x belongs
α α α
totherealizationofα-thvirtualE-classinM inthecanonicalwell-orderingof
y
the model M .
y
To this end, use Claim 10.2.3 to argue that there is a balanced virtual con-
dition p¯in the model M such that its realization belongs to the generic filter
y
G. Necessarilyp¯≤pmusthold. Now, movetothemodelM andarguethatin
y
this model, Coll(ω,< κ) (cid:13) p¯(cid:13) τ consists of realizations of virtual E-classes
P yˇ
of the model M . The proof of the theorem is then concluded by an appeal to
y
the forcing theorem applied in M .
y
Suppose towards a contradiction that the forcing statement in the previous
paragraph fails and work in M . In view of Corollary 9.1.3, there exist a poset
y
R of cardinality less than κ, an R -name η for an element of Xω and an R -
0 0 0
name σ for an element of P stronger than p¯ such that R (cid:13) Coll(ω,< κ) (cid:13)
0 0
σ (cid:13) ∀x ∈ X (cid:104)yˇ,x(cid:105) ∈ η ↔ ∃i x E η(i). Also there must be a poset R of
0 P 1
size < κ, an R -name χ for an element of X which is forced not to realize any
1
virtual E-class in M , and an R -name σ for a condition in P stronger than p¯
y 1 1
such that R (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)(cid:104)yˇ,χ(cid:105)∈τ.
1 1
Working in W, let H ⊂ R and H ⊂ R be filters mutually generic over
0 0 1 1
V, let u=η/H ∈Xω, x=χ/H ∈X, p =σ /H ∈P and p =σ /H ∈P.
0 1 0 0 0 1 1 1
The balance of the condition p¯implies that p ,p are compatible conditions in
0 1
theposetP withalowerboundq. Thechoiceofthenameχimpliesthatxisnot
E-related to any element on the sequence u. Since W is a symmetric Solovay
extension of the model M [H ], the forcing theorem applied in that model says
y 0
thatq (cid:13)τ =[rng(u)] . SinceW isasymmetricSolovayextensionofthemodel
E
M [H ], the forcing theorem applied in that model says that q (cid:13) xˇ ∈ τ. Since
y 1
x∈/ [rng(u)] , this is a contradiction.
E

244 CHAPTER 10. UNIFORMIZATION
10.4 Saint Raymond uniformization
Inthissection,wewillprovethatastrongversionofSaintRaymonduniformiza-
tionholdsingenericextensionsoftheSolovaymodelbytetheredbalancedforc-
ing.
Definition 10.4.1. Let I be a downward closed collection of closed subsets of
a Polish space X. I-Saint Raymond uniformization is the following statement:
for every set B ⊂2ω×X, the following are equivalent:
1. for every y ∈2ω, B is a union of a well-ordered collection of sets in I;
y
2. B = (cid:83) B where for each ordinal α and each y ∈2ω, the vertical section
α α
(B ) ⊂X is closed and belongs to I.
α y
Asintheprevioussection,onlythe(1)→(2)implicationhascontent. Inthecase
of I =the collection of singletons (plus the empty set), we can again derive the
familiar countable-to-one uniformization as a very special case. The following
theorem is stated using Convention 1.7.16.
Theorem 10.4.2. Let I be an analytic collection of closed subsets of a Polsh
space X. In tethered, cofinally balanced extensions of the symmetric Solovay
model, the I-Saint-Raymond uniformization holds.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin forcing which is
balanced cofinally below κ and tethered below κ. Let W be the symmetric
Solovay model derived from κ and work in W. Let p∈P be a condition and τ
aP-nameforasubsetof2ω×X whoseverticalsectionsarewell-orderedunions
of sets in I. Let z ∈ 2ω be a parameter such that p,τ are both definable from
z and some additional ground model parameters. Let G⊂P be a generic filter
meeting the condition p and let B =τ/G.
Work in W[G]. Fix a point y ∈ 2ω and consider the model M of sets
y
hereditarily definable from parameters G,z,y and parameters in the ground
model. Note that M is a model of choice and therefore belongs to W already;
y
in fact, it is an extension of the ground model by a poset of size <κ. We claim
that every nonempty vertical section B is a union of sets in I which are coded
y
in the model M . Once this is proved, one can decompose the set B into the
y
(cid:83)
unionB = B bysetting(cid:104)y,x(cid:105)∈B if(cid:104)y,x(cid:105)∈B andxbelongstotheα-th
α α α
set in I in the model M in the canonical well-ordering of the model M , and
y y
this α-th set is a subset of B.
To prove this, first use Claim 10.2.3 to find a balanced virtual condition p¯
in M whose realization belongs to the generic filter G. Work in the model M
y y
andarguethatColl(ω,<κ)(cid:13)p¯(cid:13) τ isaunionofacollectionofgroundmodel
P y
coded elements of I. By the forcing theorem applied in the model M , this will
y
complete the proof.
Toprovetheforcingstatementinthepreviousparagraph,workinM . Sup-
y
pose towards a contradiction that it fails. By the assumptions on the name τ,
there must be a poset R of size < κ and R -name η for a countable sequence
0 0

10.5. EXAMPLES 245
of elements of I and an R -name σ for a condition in P stronger than p¯such
0 0
that R (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) (cid:104)yˇ,x(cid:105)∈η ↔∃i x∈η(i). By the contradictory
0 0 p
assumption, there also must be a poset R of size < κ and R -name χ for an
1 1
elementofX andanR -nameσ foraconditioninP strongerthanp¯suchthat
1 1
R (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)(cid:104)yˇ,χ(cid:105)∈τ and χ does not belong to any element of I
1 1
which belongs to M and is a subset of τ .
y yˇ
Move to the model W. Let H ,H ⊂R ,R be filters mutually generic over
0 1 0 1
M , and let p = σ /H and p = σ /H . By the balance of the condition
y 0 0 0 1 1 1
p¯, p ,p ∈ P are compatible conditions with a lower bound q ∈ P. Let x =
0 1
χ/H ∈X. The contradiction is now reached by a split into cases.
1
Case 1. There exist a condition r ∈ H and a closed set C ∈ rng(η/H ) such
1 0
(cid:83)
that the ground model closed set D = X \ {O: O ⊂ X is a basic open set
such that r (cid:13)χ∈/ O} is a subset of C. By the closure of the collection I under
subsets,D ∈I holds;bythedefinitionofthesetD,x∈Dholds. Now,W isthe
symmetric Solovay extension of both models M [H ] and M [H ]. The forcing
y 0 y 1
theorem applied in M [H ] shows that W |= q (cid:13) D ⊂ C ⊂ τ. The forcing
y 0
theorem applied in M [H ] shows that W |= q (cid:13) xˇ ∈ D and xˇ belongs to no
y 1
ground model closed set in I which is a subset of τ . Thus, the same condition
y
q forces two contradictory statements.
Case 2. Case 1 fails. Then, by the mutual genericity of the filters H ,H it
0 1
(cid:83)
must be the case that x ∈/ rng(η/H ). Now, W is the symmetric Solovay
0
extension of both models M [H ] and M [H ]. The forcing theorem applied in
y 0 y 1
M [H ] shows that W |= q (cid:13) τ = (cid:83) rng(η/H ). The forcing theorem applied
y 0 y 0
in M [H ] shows that W |= q (cid:13) xˇ ∈ τ \ (cid:83) rng(η/H ). So again, the same
y 1 y 0
condition q forces two contradictory statements. The proof is complete.
10.5 Examples
In this section we present several examples of tethered and untethered partial
orders. In all affirmative examples below, the conclusion is that in view of
Theorems 10.2.2, 10.3.2, and 10.4.2, the extensions of the symmetric Solovay
model by the posets in question satisfy the pinned uniformization, the well-
orderable uniformization, and the Saint Raymond uniformization.
WestartwithsimplicialcomplexposetswhichnaturallyliveonPolishspaces
asopposedtoquotientspaces. Theseposetsareℵ -tetheredinallcasesthatwe
0
can check.
Example 10.5.1. Let K be a Borel simplicial complex on a Polish space X of
Borel coloring number ℵ . Then the poset P =P is ℵ -tethered.
1 K 0
Proof. Let (cid:126)Γ be a Borel orientation of the graph Γ = Γ of Definition 6.1.2
K
in which every node gets countable outflow. Suppose that V[H ],V[H ] are
0 1
mutually generic extensions of V and p ∈V[H ], p ∈V[H ] are incompatible
0 0 1 1
conditions. Theremustbefinitesetsa ⊂p anda ∈p suchthata ∪a ∈/ K;
0 0 1 1 0 1
choose a ,a to be inclusion-minimal. Then they are connected in the graph Γ;
0 1
assume for definiteness that a is in the (cid:126)Γ-outflow of a .
1 0

246 CHAPTER 10. UNIFORMIZATION
Sincethe(cid:126)Γ-outflowofa iscountable,Mostowskiabsolutenessshowsthatit
0
isasubsetofV[H ];inparticular,a ∈V[H ]. Bytheproductforcingtheorem,
0 1 0
a ∈V must hold. Let A ={q ∈P: there is a set c⊂q such that a belongs
1 0 1
to the (cid:126)Γ-outflow of c}, and A = {q ∈ P: a ⊂ C}. The sets A and A are
1 1 0 1
analytic subsets of P coded in V, ΣA and ΣA are incompatible in P, and
0 1
p ≤ΣA , p ≤ΣA holds.
0 0 1 1
Example 10.5.2. Let K be a modular Borel simplicial complex on a Polish
space X. Then the poset P =P is ℵ -tethered.
K 0
Proof. LetY beaPolishspaceandf: K→[Y]ℵ0 beaBorelfunctionwitnessing
themodularityofK. SupposethatV[H ],V[H ]aremutuallygenericextensions
0 1
of V and p ∈ V[H ], p ∈ V[H ] are incompatible conditions. There must be
0 0 1 1
finite sets a ⊂ p and a ∈ p such that a ∪a ∈/ K. Write b = a ∩a and
0 0 1 1 0 1 0 1
observe that f(a )∩f(a )(cid:54)=f(b) by the modularity of the function f.
0 1
Let O ,O ⊂ X be basic open sets separating the finite disjoint sets a \b,
0 1 0
a \b. Use the mutual genericity to argue that b ∈ V and f(a )∩f(a ) ⊂ V.
1 0 1
Find a point x ∈ f(a )∩f(a ) which is not in f(b), and let A = {q ∈ P:
0 1 0
there is a set c ⊂ q such that b ⊂ c, c\b ⊂ O , and x ∈ f(c)}, and similarly
0
A ={q ∈P: thereisasetc⊂qsuchthatb⊂c,c\b⊂O ,andx∈f(c)}. The
1 1
setsA ,A areanalyticsubsetsofP codedinV,ΣA andΣA areincompatible
0 1 0 1
in P by the modularity of the function f, and p ≤ΣA , p ≤ΣA holds.
0 0 1 1
Example 10.5.3. Let K be a G -matroid on a Polish space X as in Defini-
δ
tion 6.5.1. Then the poset P =P is ℵ -tethered.
K 0
Proof. Suppose that V[H ],V[H ] are mutually generic extensions of V and
0 1
p ∈ V[H ], p ∈ V[H ] are incompatible conditions. Expanding the models
0 0 1 1
V[H ],V[H ] and strengthening the conditions p ,p if necessary, we may as-
0 1 0 1
sume that for every point x ∈ X ∩V, either x ∈ p or p ∪{x} is not a K-set,
0 0
and similarly for p .
1
Let q = p ∩V and q = p ∩V. There are several cases. If q (cid:54)= q ,
0 0 1 1 0 1
with say a point x ∈ q¯ \q , then let A = {q ∈ P: x ∈ q} and A = {q ∈
0 1 0 1
P: ∃a∈[q]<ℵ0 a∪{x}∈/ K}. It is clear that both sets A
0
,A
1
⊂P are analytic
and their suprema ΣA and ΣA are incompatible in P, and p ≤ Σp(cid:48) and
0 1 0 0
p ≤ Σp(cid:48). Suppose then that q = q , denote the common value p¯ and use
1 1 0 1
the product forcing theorem to show that p¯ ∈ V holds. Suppose first that p¯
is not a maximal K-set. Then there must be x ∈ X \ p¯ such that p¯∪ {x}
is a K-set and inclusion-minimal finite sets a ⊂ p and a ⊂ p such that
0 0 1 1
a ∪{x} ∈/ K and a ∪{x} ∈/ K. By the assumption on x, a (cid:54)⊂ V and a (cid:54)⊂ V
0 1 0 1
must hold. Let b = a ∩a and let O ,O ⊂ X be basic open sets separating
0 1 0 1
thenonemptysetsa \banda \b;notethatb∈V holdsbytheproductforcing
0 1
theorem. Let A ={q ∈P: b⊂q and there is a finite set c⊂q∩O such that
0 0
b∪c∪{x} ∈/ K} and A = {q ∈ P: b ⊂ q and there is a finite set c ⊂ q∩O
1 0
such that b∪c∪{x} ∈/ K}. Clearly, A ,A ⊂ P are analytic sets coded in the
0 1
ground model, ΣA and ΣA are incompatible in P by the exchange property
0 1
of the matroid K, and p ≤ΣA and p ≤ΣA .
0 0 1 1

10.5. EXAMPLES 247
We come to the last case, where p¯is a maximal K-set in the ground model.
This is impossible though: p¯is then a balanced virtual condition in P by The-
orem 6.5.2, p ≤p¯and p ≤p¯, and so p ,p must be compatible by the balance
0 1 0 1
of p¯. This contradicts the initial choice of p ,p .
0 1
Example 10.5.4. Let Γ be a Borel graph on a Polish space X of countable
coloring number. The Γ-coloring poset P of Definition 8.1.1 is ℵ -tethered.
0
Proof. We identify P with its Suslin dense subset isolated in Theorem 8.1.2.
SupposethatV[H ],V[H ]aremutuallygenericextensionsofV andp ∈V[H ],
0 1 0 0
p ∈ V[H ] are incompatible conditions. Expanding the models V[H ],V[H ]
1 1 0 1
and strengthening the conditions p ,p if necessary, we may assume that for
0 1
every point x∈X∩V, x∈dom(p ) and x∈dom(p ) both hold.
0 1
Let q = p (cid:22) V and q = p (cid:22) V. Suppose first that q (cid:54)= q . Then there
0 0 1 1 0 1
must be a point x ∈ V and distinct numbers n ,n ∈ ω such that q (x) = n
0 1 0 0
and q (x) = n . Let A = {q ∈ P: x ∈ dom(q)∧q(x) = n } and A = {q ∈
1 1 0 0 1
P: x ∈ dom(q)∧q(x) = n }. Clearly, A ,A ⊂ P are analytic sets coded in
1 0 1
the ground model, ΣA and ΣA are incompatible in P and p ≤ ΣA and
0 1 0 0
p ≤ΣA .
1 1
Nowsupposethatq =q andworktowardsacontradiction. Writep¯forthe
0 1
commonvalueandnotethatbytheproductforcingtheorem,p¯∈V holds. Now
p¯isabalancedvirtualconditioninP byTheorem8.1.2,p ≤p¯andp ≤p¯,and
0 1
so p ,p must be compatible by the balance of p¯. This contradicts the initial
0 1
choice of p ,p .
0 1
Example 10.5.5. Let Γ,∆ be abelian Polish groups, with ∆ divisible. The
homomorphism poset of Definition 8.2.1 is ℵ -tethered.
0
Proof. Suppose that V[H ],V[H ] are mutually generic extensions of V and
0 1
p ∈ V[H ], p ∈ V[H ] are incompatible conditions. Expanding the models
0 0 1 1
V[H ],V[H ] and strengthening the conditions p ,p if necessary, we may as-
0 1 0 1
sume that for every point γ ∈ Γ ∩ V, γ ∈ dom(p ) and Γ ∈ dom(p ) both
0 1
hold.
Let q = p (cid:22) V and q = p (cid:22) V. Suppose first that q (cid:54)= q . Then there
0 0 1 1 0 1
must be a point γ ∈ V and disjoint basic open sets O ,O ⊂ ∆ such that
0 1
p (γ) ∈ O and p (γ) ∈ O . Let A = {q ∈ P: γ ∈ dom(q)∧q(γ) ∈ O } and
0 0 1 1 0 0
A = {q ∈ P: γ ∈ dom(q)∧q(γ) = O }. Clearly, A ,A ⊂ P are analytic sets
1 1 0 1
coded in the ground model, ΣA and ΣA are incompatible in P and p ≤ΣA
0 1 0 0
and p ≤ΣA .
1 1
Nowsupposethatq =q andworktowardsacontradiction. Writep¯forthe
0 1
commonvalueandnotethatbytheproductforcingtheorem,p¯∈V holds. Now
p¯isabalancedvirtualconditioninP byTheorem8.2.2,p ≤p¯andp ≤p¯,and
0 1
so p ,p must be compatible by the balance of p¯. This contradicts the initial
0 1
choice of p ,p .
0 1
The following two examples deal with quotient simplicial complex posets.

248 CHAPTER 10. UNIFORMIZATION
Example 10.5.6. Let E ⊂F be Borel equivalence relations on a Polish space
X such that every F-class consists of countably many E-classes. The E,F-
transversal poset P of Definition 6.6.5 is tethered.
Proof. We will show that P is λ-tethered where λ=(cid:105) . Let V[H ],V[H ] be
ω1 0 1
mutually generic extensions of the ground model V, and let p ∈ V[H ] and
0 0
p ∈ V[H ] be incompatible conditions in P. There must be elements x ∈ p
1 1 0 0
andx ∈p whichareF-relatedbutnotE-related. InviewofProposition2.1.7,
1 1
the points x ,x must both be realizations of a virtual F-class in V and by
0 1
Claim6.6.13therearevirtualE-classesd (cid:54)=d inV suchthatx isarealization
0 1 0
of d and x is a realization of d .
0 1 1
In V, let p(cid:48) ={q ∈P: q contains some realization of the virtual E-class d }
0 0
and p(cid:48) ={q ∈P: q contains some realization of the virtual E-class d }. These
1 1
arevirtualconditionsontheposetswhichcarrythevirtualE-classesd ,d ,and
0 1
these are of size < λ by Theorem 2.5.6. In addition, p(cid:48),p(cid:48) are incompatible,
0 1
and p ≤p(cid:48) and p ≤p(cid:48) as required.
0 0 1 1
The following example covers all posets which associate a structure to each G-
class where G is a countable Borel equivalence relation on a Polish space, as in
Example 6.6.10.
Example 10.5.7. LetX beaPolishspaceandletE ⊂F beBorelequivalence
relations on X such that F is pinned and for each F-equivalence class C ⊂X,
E (cid:22) C is smooth. Then the E,F-transversal poset P of Definition 6.6.5 is
ℵ -tethered.
0
Proof. LetV[H ],V[H ]bemutuallygenericextensionsofthegroundmodelV,
0 1
andletp ∈V[H ]andp ∈V[H ]beincompatibleconditionsinP. Theremust
0 0 1 1
be elements x ∈ p and x ∈ p which are F-related but not E-related. Since
0 0 1 1
the equivalence relation F is pinned, there must be a point x ∈ X ∩V which
is F-related to both x ,x . By the initial assumptions on E,F, in the ground
0 1
model there also must be a Borel map h: [x] →2ω reducing E to the identity.
F
Since h(x )(cid:54)=h(x ), there must be distinct binary strings s ,s ∈2n for some
0 1 0 1
n∈ω such that s ⊂h(x ) and s ⊂h(x ). Let A ={q ∈P: p∩h−1[s ](cid:54)=0}
0 0 1 1 0 0
and A ={q ∈P: p∩h−1[s ](cid:54)=0}. It is clear that A ,A are analytic subsets
1 1 0 1
of P coded in the ground model, ΣA is incompatible with ΣA in P, and
0 1
p ≤ΣA and p ≤ΣA as required.
0 0 1 1
Example 10.5.8. Let F be a Fraiss´e class in a finite relational language with
strong amalgamation. Let E be a Borel equivalence relation on a Polish space
X. Then the E,F-Fraiss´e poset P of Definition 8.6.3 is tethered. In addition,
if E is pinned, then P is ℵ -tethered.
0
Proof. Start with the general case. Let λ = (cid:105) . We will show that the poset
ω1
P is λ-tethered. For brevity, assume that F has just one relational symbol of
its language of some finite arity n ∈ ω. Thus, a condition p ∈ P is just a
single n-ary relation on a countable set dom(p) which respects the equivalence
E,andsuchthatitsE-quotientisaF-structure. LetV[H ],V[H ]bemutually
0 1

10.5. EXAMPLES 249
generic extensions of the ground model V and p ∈ V[H ] and p ∈ V[H ] be
0 0 1 1
incompatibleconditions. Inviewofthestrongamalgamationassumption,there
must be n-tuples (cid:126)x and (cid:126)x in dom(p ) and dom(p ) respectively such that for
0 1 0 1
each i ∈ n, (cid:126)x (i) E (cid:126)x (i) holds, and (cid:126)x ∈ p and (cid:126)x ∈/ p (or vice versa).
0 1 0 0 1 1
By Proposition 2.1.7, there is an n-tuple d(cid:126)of virtual E-classes in V such that
for each i ∈ n, (cid:126)x (i),(cid:126)x (i) are realizations of d(cid:126)(i). Let p(cid:48) = {q ∈ P: dom(q)
0 1 0
contains an n-tuple (cid:126)x which is a realization of d(cid:126) and (cid:126)x ∈ q} and p(cid:48) = {q ∈
1
P: dom(q) contains an n-tuple (cid:126)x which is a realization of d(cid:126)and (cid:126)x∈/ p}. These
are virtual conditions on the posets which carry the virtual E-classes on the
tuple d(cid:126), and these are of size < λ by Theorem 2.5.6. In addition, p(cid:48),p(cid:48) are
0 1
incompatible, and p ≤p(cid:48) and p ≤p(cid:48) as required.
0 0 1 1
ThecaseofapinnedequivalencerelationE proceedsinthesameway,noting
thatinthiscasetheE-quotientspaceandthevirtualE-quotientspacecoincide.
The ultrafilter posets typically do satisfy the tether demands.
Example 10.5.9. The poset P of all infinite subsets of ω ordered by inclusion
is ℵ -tethered.
0
Proof. LetV[H ],V[H ]bemutuallygenericextensionsofV,containingthere-
0 1
spective conditions p ,p ∈ P which are incompatible in P. Removing finitely
0 1
many numbers from each, we may assume that in fact p ∩p = 0. By Propo-
0 1
sition 1.7.8, there are disjoint sets p(cid:48),p(cid:48) ⊂ ω in the ground model such that
0 1
p ⊂p(cid:48) and p ⊂p(cid:48). These sets as conditions in P exemplify the tether of the
0 0 1 1
poset P.
Example 10.5.10. LetAbeaRamseysequenceoffinitestructures. Theposet
P =P of Definition 7.3.2 is ℵ -tethered.
A 0
Proof. We use the terminology of Section 7.3. In particular, the sequence A is
written as (cid:104)A : n ∈ ω(cid:105) of structures on pairwise disjoint sets. Let n ∈ ω be a
n
natural number. Write D for the set of all copies of A which are a subset of
n n
some A for m≥n.
m
LetV[H ],V[H ]bemutuallygenericextensionsofthegroundmodelV,and
0 1
letp ∈V[H ]andp ∈V[H ]beincompatibleconditionsinP. Expandingthe
0 0 1 1
models and strengthening the conditions if necessary, by Claim 7.3.5 we may
assume that for each n ∈ ω and each set b ⊂ D in the ground model, either
n
pAn ⊂ b or pAn ∩b = 0 modulo finite, and similarly for subscript 1. Let (F )
0 0 n 0
be the set of all ground model elements of P(D ) for which the first option
n
prevails, and similarly for subscript 1.
Suppose first that there is a number n ∈ ω for which (F ) (cid:54)= (F ) . For
n 0 n 1
definiteness, suppose that there is some set b ∈ (F ) \(F ) . Then let p(cid:48) =
n 0 n 1 0
{p ∈ P: pAn ⊂ b modulo finite} and p(cid:48) = {p ∈ P: pAn ∩b = 0 modulo finite}.
1
The sets p(cid:48),p(cid:48) ⊂ P are analytic and coded in the ground model. Also, clearly
0 1
Σp(cid:48),Σp(cid:48) are incompatible in P, and p ≤Σp(cid:48) and p ≤Σp(cid:48) as desired.
0 1 0 0 1 1
Now suppose that the sets (F ) ,(F ) are equal for all n ∈ ω. Write F
n 0 n 1 n
for their common value. The product forcing theorem shows that F ∈ V and
n

250 CHAPTER 10. UNIFORMIZATION
even (cid:104)F : n ∈ ω(cid:105) ∈ V. It is not difficult to check that it is an A-sequence of
n
ultrafilters. Theorem7.3.4thenshowsthatityieldsavirtualbalancedcondition
p¯, and p ,p ≤ p¯. Since p ,p ≤ p¯, the balance of p¯ shows that p ,p are
0 1 0 1 0 1
compatible conditions, contradicting the initial choice of p ,p .
0 1
Example 10.5.11. Let (cid:104)Γ,·(cid:105) be a countable semigroup. The poset P = P(Γ)
of Section 7.4 is ℵ -tethered.
0
Proof. We adopt the terminology of Section 7.4. Let V[H ],V[H ] be mutually
0 1
generic extensions of V, containing the respective conditions p ,p ∈ P which
0 1
areincompatibleinP. ByProposition7.4.3,extendingthemodelsandstrength-
ening the conditions if necessary, we may assume that both p ,p sort out the
0 1
setP(ω)∩V. Letq ={a⊂Γ: a∈V andp acceptsa}andq ={a⊂Γ: a∈V
0 0 1
and p accepts a}.
1
Suppose first that q (cid:54)= q , and for definiteness assume that there is a set
0 1
a∈q \a . Let p(cid:48) ={q ∈P: q accepts a} and p(cid:48) ={q ∈P: q declines a}. It is
0 1 0 1
clear that p(cid:48),p(cid:48) ⊂ P are analytic sets coded in V, Σp(cid:48),Σp(cid:48) are incompatible,
0 1 0 1
and p ≤Σp(cid:48), p ≤Σp(cid:48).
0 0 1 1
Suppose now that q = q and work towards a contradiction. Denote the
0 1
commonvaluebyp¯andusetheproductforcingtheoremtoseethatp¯∈V. Since
theconditionsp ,p sortoutP(Γ)∩V,p¯isanultrafilter. InV,Proposition7.4.5
0 1
thenshowsthatp¯isanidempotentultrafilter,andbyTheorem7.4.7,ityieldsa
balancedconditionintheposetP. Sincep ,p ≤p¯,thebalanceofp¯showsthat
0 1
p ,p are compatible conditions, contradicting the initial choice of p ,p .
0 1 0 1
Finally, we include two examples of balanced posets which are not tethered.
Example 10.5.12. Let E be a non-smooth Borel pinned equivalence relation
on a Polish space X. The collapse poset P of |E| to 2ω of Definition 6.6.2 is
not tethered. Countable-to-one uniformization fails in the resulting extension
of the symmetric Solovay model.
Proof. We prove the last sentence. The poset P is balanced by the pinned
assumption on E and Corollary 6.6.4. In the P-extension of the symmetric
Solovay model, |E| ≤ |2ω| holds by the definition of the poset P. In addition,
|E | ≤ |E| holds by the Glimm–Effros dichotomy as E is assumed to be non-
0
smooth. In sum, |E | ≤ |2ω| holds, as witnessed by some function g: 2ω → 2ω.
0
In addition, Corollary 11.6.3 shows that in the P-extension of the symmetric
Solovay model, E has no transversal, and therefore the function g has no left
0
inverse. This feature of g stands witness to the failure of the countable-to-one
uniformization.
Example10.5.13. LetX beanuncountablePolishspace. TheKurepaposetP
of Definition 8.4.2 is not tethered. In the P-extension of the symmetric Solovay
model, countable-to-one uniformization fails.
Proof. For simplicity of notation, assume that X =2ω. Let W[F] be the sym-
metric Solovay model derived from an inaccessible cardinal κ, with the generic

10.5. EXAMPLES 251
Kurepa family F attached. In W[F], let E be the equivalence relation on X
connecting x,y if there is no set in F containing x but not y or vice versa. All
classes of the equivalence relation E are countable as the family F consists of
countable sets and is cofinal. We will show that in W[F] there is no total func-
tionf: X →X suchthatforeveryx∈X, if[x] (cid:54)={x}thenf(x)∈[x] \{x}.
E E
This is clearly in violation of countable-to-one uniformization.
Working in W, let p ∈ P be a condition and τ be a P-name such that
p (cid:13) τ: X → X is a function. We must find x ∈ X and a stronger condition
p¯≤p which forces that [x] (cid:54)={x} and τ(x)∈/ [x] \{x}. The condition p and
E E
the name τ are definable from some parameter z ∈2ω and some ground model
parameters. Let V[K] be an intermediate model obtained by a forcing of size
<κ which contains the parameter z. Work in the model V[K].
Let Q be the Cohen forcing on X, adding the generic point x˙ . Let
gen
H ,H ⊂ Q be mutually generic filters, let x = x˙ /H and x = x˙ /H ,
0 1 0 gen 0 1 gen 1
and in the model V[K][H ][H ] consider the virtual condition p¯≤ p which in
0 1
(cid:83)
addition to p contains the sets p∪{x
0
}∪[x
1
]E
0
and X ∩V[K][H
0
][H
1
]. By
Theorem 8.4.3, p¯ is a balanced virtual condition. By a balance argument, it
decides the value of τ(x ) to be some specific point y ∈ X. An inspection of
0
the condition p¯reveals that it forces [x
0
]
E
={x
0
}∪[x
1
]E
0
. We will be finished
if we show that y is not E -related to x .
0 1
Towards contradiction, assume that it is. Then y is a Cohen generic point
over V[K][H ], yielding the same extension as x . By the forcing theorem in
0 1
V[K][H ] and the definability of τ, there would have to be a condition q ∈ Q
0
such that V[K][H ] |= q (cid:13) Coll(ω,< κ) (cid:13) p¯ (cid:13) τ(xˇ ) = x˙ . By the forcing
0 0 gen
theorem again, in the model V[K][H ][H ], the virtual condition p¯would force
0 1
the value τ(xˇ
0
) to be each of the infinitely many elements of [x
1
]E
0
in the open
set q simultaneously, an impossibility.
Therearealsopartialorderswhereweareunabletodecidethestatusoftether,
such as the Fin×Fin poset of Definition 7.2.1.

252 CHAPTER 10. UNIFORMIZATION

Chapter 11
Locally countable structures
ThischapterintroducesamethodologyforprovingthatcertainmodelsofZF+DC
weproducedonotcontainlocallycountablestructuresofcertaintype. Inpartic-
ular,welearnhowtoproducemodelsofZF+DCwhichcontainlocallycountable
structures of one type but not of another type. The whole enterprise should be
viewed as a parallel to the extensive field of descriptive set theory of locally
countable structures. There are many striking similarities present, and many
others are sure to be found in the future.
11.1 Central objects and notions
In this section, we introduce certain basic locally countable graphs and hy-
pergraphs and the associated concerns of the descriptive set theory of locally
countable structures. Some of the critical issues deal with the comparison of
chromaticandBorelchromaticnumbersofvariousanalytichypergraphsonPol-
ish spaces. An analytic hypergraph on a Polish space X is a set G ⊂ [X]<ℵ0
which is an analytic subset of the hyperspace K(X) with the Vietoris topology.
The elements of a hypergraph are referred to as hyperedges. Thus, our hyper-
graphs contain finite hyperedges only–they are finitary; it may occur though
that there is no fixed n ∈ ω (arity) such that G ⊂ [X]n. As a matter of con-
vention, our hypergraphs contain no singleton sets. A graph is a hypergraph of
arity2. IfG,H arehypergraphsonrespectvespacesX,Y,afunctionh: X →Y
is a homomorphism if the h-image of any G-hyperedge is an H-hyperedge. An
anticlique is a set a⊂X such that [a]<ℵ0∩G=0. The chromatic number of G
is the smallest cardinality of a set of anticliques covering the whole space X; in
the choiceless context, where cardinalities are not well-ordered, we distinguish
onlybetweencountableanduncountablechromaticnumberanddifferentvalues
of countable chromatic numbers.
Most of the central analytic hypergraphs in this section are in fact products
of hypergraphs on finite or countable domain. The following definition explains
the typical construction.
253

254 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Definition 11.1.1. Let (cid:104)a ,H ,t : n ∈ ω(cid:105) be a sequence such that a is a
n n n n
nonempty countable (often finite) set, H is a hypergraph on a and t ∈
n n n
(cid:81) (cid:83) (cid:81)
a arefinitestringssuchthat{t : n∈ω}isadensesubsetof a .
m∈n m n n m∈n m
(cid:81)
Let X = a and define:
n n
(cid:81)
1. (the skew product) H ,t is the hypergraph on X containing all sets
n n n
b ⊂ X such that for some n ∈ ω, ∀m (cid:54)= n ∀x ,x ∈ b x (m) = x (m),
0 1 0 1
∀x∈b t ⊂b, and {x(n): x∈b}∈H ;
n n
(cid:81)
2. (the product) H is the hypergraph on X containing all sets b ⊂ X
n n
such that for some n ∈ ω, ∀m (cid:54)= n ∀x ,x ∈ b x (m) = x (m), and
0 1 0 1
{x(n): x∈b}∈H .
n
In all cases, the sets a are implicit in the notation. The definition of the
n
product (as opposed to the skew product) does not depend on the strings t .
n
Among the product graphs, the Hamming graphs are prominent.
Definition 11.1.2. Let n ≥ 2 be a natural number. H , the Hamming graph
n
on nω, is the product of infinitely many cliques of size n. H , the diagonal
<ω
(cid:81)
Hamming graph onthespace (n+1),istheproductofcliquesofallpossible
n
nonzero finite cardinalities. Finally, H , the Hamming graph on ωω, is the
ω
product of infinitely many cliques on ω.
Skew products are useful as minimal examples of various phenomena. One
standard example is the uncountable Borel chromatic number of graphs:
Definition 11.1.3. Let G be an analytic hypergraph on a Polish space X. G
has countable Borel chromatic number if there are Borel G-anticliques B ⊂X
n
(cid:83)
for n∈ω such that X = B .
n n
Definition 11.1.4. For each n ∈ ω, let a = 2, let H be the graph on a
n n n
containing only the whole set a as an edge and let t ∈ 2n be a string such
n n
that {t : n∈ω}⊂2<ω is dense. The graph G is defined as (cid:81) H ,t .
n 0 n n n
Fact 11.1.5. [54](ZF+DC) For every analytic graph G on a Polish space X,
exactly one of the following occurs:
1. the Borel chromatic number of G is countable;
2. there is a continuous map from 2ω to X which is a homomorphism of G
0
to G.
Uncountable chromatic numbers of locally countable graphs can be used in
ZF+DC to rule out seemingly unrelated phenomena. The following humble
proposition will be useful at several points of this book:
Proposition 11.1.6. (ZF+DC) If the chromatic number of G is greater than
0
two then
1. there is no linear ordering of the E -quotient space;
0

11.1. CENTRAL OBJECTS AND NOTIONS 255
2. |E |(cid:54)≤|2ω|;
0
3. there is no discontinuous homomorphism between Polish groups.
Proof. For the first item, consider the equivalence relation E on 2ω connecting
pointsx,y ∈2ω iftheydifferinfinite, evennumberofentries. ThenE ⊂E ; as
0
asubsetofahyperfiniteequivalencerelation,itisitselfhyperfiniteandtherefore
Borel reducible to E [48, Theorem 8.1.1]. Now, suppose that the E -quotient
0 0
space is linearly orderable; then so is the E-quotient space, and one can define
the function c: 2ω → 2 by setting c(x) = 0 if among the two E-classes which
constitute the E -class of x, x belongs to the smaller one in the fixed linear
0
ordering of the E-quotient space. It is not difficult to show that c is a G -
0
coloring with two colors.
Theseconditemfollowsfromthefirst,sincetheinequality|E |≤|2ω|yields
0
a linear ordering on the E -space by simply pulling back the usual lexicograph-
0
ical order on 2ω to the E -quotient space via the assumed injection from the
0
E -quotient space to 2ω. The third item is much harder. [76] constructs, in
0
ZF+DC, a coloring of the Hamming graph H (a superset of the G -graph)
2 0
with two colors from the assumption that there is a discontinuous homomor-
phism between Polish groups.
It is not difficult to extend the G -dichotomy to arbitrary finitary analytic hy-
0
pergraphs. In this generality, one has to allow for uncountably many basis
hypergraphs, which are nevertheless easy to describe:
Definition 11.1.7. Suppose that (cid:104)a ,H ,t : n ∈ ω(cid:105) is a sequence such that
n n n
each a is a a finite set of cardinality at least two, H is the hypergraph on it
n n
(cid:81)
containing a as its only hyperedge, and t ∈ a is a string such that
n n m∈n m
(cid:83) (cid:81) (cid:81)
the set {t : n ∈ ω} is dense in a . Then the hypergraph H ,t
n n m∈n m n n n
(cid:81)
on a is called a principal skew product.
n n
ThefollowingcanbeprovedinthesamewayastheG -dichotomy. Wesuppress
0
the standard proof.
Fact 11.1.8. (ZF+DC) Let G be a finitary analytic hypergraph on a Polish
space X. Exactly one of the following occurs:
1. the Borel chromatic number of G is countable;
2. there exists a principal skew product and a continuous homomorphism of
it to the hypergraph G.
In this chapter, we will also use more involved variations of the uncountable
Borel chromatic number.
Definition 11.1.9. LetGbeananalyticfinitaryhypergraphonaPolishspace
X. ThehypergraphGhasBorel σ-bounded chromatic number ifthereareBorel
(cid:83)
sets B ⊂ X for n ∈ ω such that X = B and for every n ∈ ω, every finite
n n n
subset of B has G-chromatic number less than n+2.
n

256 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
ItisimmediatethatcountableBorelchromaticnumberimpliesBorelσ-bounded
chromatic number. The opposite implication does not holds as the following
examples show.
Example 11.1.10. The Hamming graph H has uncountable Borel chromatic
2
number by Fact 11.1.5 but it does have Borel σ-bounded chromatic number.
To see this, observe that it contains no odd length cycles and therefore H on
2
each finite subset of 2ω has chromatic number 2. The sequence B defined by
n
B = 2ω and B = 0 for all n (cid:54)= 1 exemplifies the Borel σ-bounded chromatic
1 n
number of H .
2
Example 11.1.11. The diagonal Hamming graph H does not have Borel
<ω
σ-bounded chromatic number. To see this, by the Baire category theorem it is
(cid:81)
enough to show that any non-meager Borel subset of X = (n+1) contains
n
arbitrarily large finite H -cliques. Thus, let B ⊂X be non-meager Borel and
<ω
let m∈ω be a number. Let t be a finite string of natural numbers such that B
is comeager in t and |t| = n > m. A simple construction yields a point x ∈ X
such that t ⊂ x and for every i ∈n the point x , obtained from x by rewriting
i
its n-th entry with i, belongs to the set B. Since the set {x : i∈n}⊂B is an
i
H -clique, the argument is complete.
<ω
The class of analytic finitary hypergraphs which do not have Borel σ-bounded
chromatic number has a simple basis.
Definition 11.1.12. Let (cid:104)a ,H ,t : n ∈ ω(cid:105) be a sequence such that a is
n n n n
a nonempty finite set, H is a hypergraph on a of chromatic number > n,
n n
(cid:81) (cid:83) (cid:81)
t ∈ a , and the set {t : n ∈ ω} is dense in a . The skew
n m∈n m n n m∈n n
(cid:81)
product H ,t is then called a large skew product.
n n n
A straightforward Baire category argument as in Example 11.1.11 shows that
a large skew product does not have Borel σ-bounded chromatic number. The
following fact is proved in the same way as the G -dichotomy, and we omit the
0
standard argument.
Fact 11.1.13. Let G be a finitary analytic hypergraph on a Polish space X.
Exactly one of the following occurs:
1. G has Borel σ-bounded chromatic number;
2. there is a large skew product H on a Polish space Y and a continuous
homomorphism h: Y →X of H to G.
Many interesting natural examples of hypergraphs which do not have Borel σ-
bounded chromatic number actually have a stronger property encapsulated in
the following definitions.
Definition 11.1.14. Let a be a finite set and G be a hypergraph on a. The
fractional chromatic number of G is the maximum of all numbers Σ f(v)
v∈a
where f: a → [0,1] ranges over all functions such that Σ f(v) ≤ 1 for all
v∈b
G-anticliques b⊂a.

11.1. CENTRAL OBJECTS AND NOTIONS 257
A word about the terminology is in order. In fractional graph theory [78], the
fractional chromatic number is typically defined for graphs only. In the graph
context, the definition above corresponds to the fractional clique number of G,
which is equal to the standard fractional chromatic number of G by a linear
programming duality argument [78, Section 3.1]. In order to maintain coherent
terminology, we neglect this important but for our ends irrelevant point. A
trivial restatement of the fractional chromatic number will be used below: it is
thelargestrealnumberr suchthatthereisaprobabilitymeasureonainwhich
every G-anticlique has mass ≤1/r.
Note that the fractional chromatic number is no greater than the chromatic
number. Justasinthecaseofthechromaticnumber,ifG ,G arehypergraphs
0 1
on a ,a respectively and h: a → a is a homomorphism of G to G then
0 1 0 1 0 1
the fractional chromatic number of G is not smaller than the fractional chro-
1
matic number of G . The following examples further elucidate the relationship
0
between the chromatic number and its fractional counterpart.
Example 11.1.15. For every n ∈ ω let G be the graph on [n]2 connecting
n
pairs a,b if the smaller element of a is equal to the larger element of b or vice
versa. Then the chromatic numbers of G tend to infinity with n, but the
n
fractional chromatic numbers remain bounded by 4.
For the former statement, note that if n is such that n → (3)2 then the
m
chromatic number of G is greater than m: if [n]2 = (cid:83) B , then by the
n i∈m i
Ramsey property of n there is i ∈ m and a triple c ⊂ n such that [c]2 ⊂ B ;
i
however, [c]2 clearly contains a G-edge.
For the latter statement, suppose that µ is a probability measure on [n]2,
and let λ be the normalized counting measure on P(n). Let B = {(cid:104)a,x(cid:105) ∈
[n]2×P(n): x contains the smaller number in a but not the larger number in
a}. The vertical sections of B have λ-mass 1/4, so by the Fubini theorem there
must be a horizontal section Bx whose µ-mass is ≥ 1/4. It is not difficult to
check that Bx is a G-anticlique.
Example 11.1.16. Let ε > 0 be a fixed real number. For each n ∈ ω, let
G be the graph on 2n which connects x,y if the set {m ∈ n: x(m) = y(m)}
n
has size at most εn. The fractional chromatic numbers of G tend to infinity
n
with n. To see this, consider the normalized counting measure µ on 2n, the
n
normalizedHammingmetricd on2n,andtheconcentrationofmeasureresults
n
for the Hamming cubes [73, Theorem 4.3.19]: for every δ >0 there is a number
k ∈ ω such that for every n ≥ k and every set b ⊂ 2n of µ -mass greater than
n
δ, the ε-neighborhood of b in 2n in the sense of the metric d has mass greater
n
than 1/2. For each such number n ∈ ω, every set b ⊂ 2n of µ -mass greater
n
than δ contains a G -edge. To produce the edge, consider the automorphism
n
π : 2n →2n defined by π (x)(m)=1−x(m). The set π(cid:48)(cid:48)b has µ-mass greater
n n
than δ again. The ε/2-neighborhoods of the sets b and π(cid:48)(cid:48)b in the sense of
the metric d have both µ mass greater than 1/2 and therefore intersect. It
n n
follows that there must be points x ∈ b and y ∈ π(cid:48)(cid:48)b with d (x,y) ≤ ε , and
n n
then x,π−1y are G -connected elements of the set b.
n

258 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Example 11.1.17. For every n ∈ ω, let H be the hypergraph on n of arity
n
3 consisting of all arithmetic progressions of length 3. Then the fractional
chromatic numbers of H tend to infinity with n–just consider the normalized
n
counting measure on n and the density van der Waerden’s theorem [88].
Definition11.1.18. LetGbeananalyticfinitaryhypergraphonaPolishspace
X. WesaythatGhasBorel σ-bounded fractional chromatic number ifthereare
(cid:83)
Borel sets B ⊂ X such that X = B and for each n ∈ ω, the hypergraph
n n n
G has fractional chromatic number less than n+2 on every finite set a⊂B .
n
Clearly,Borelσ-boundedchromaticnumberimpliesBorelσ-boundedfractional
chromatic number but the opposite implication fails. The most natural class of
Borel graphs exemplifying the distinction is the following:
Example 11.1.19. Let E be a Borel non-smooth equivalence relation on a
Polish space X. Let Q be the poset of all pairs q = (cid:104)a ,b (cid:105) of finite subsets of
q q
X such that (a ×b )∩E = 0; the ordering is that of coordinatewise reverse
q q
inclusion. LetGbethegraphconnectingtwoconditionsinQiftheyareincom-
patible. Then G does not have Borel σ-bounded chromatic number, yet it does
have Borel σ-bounded fractional chromatic number.
Proof. To show that G does not have Borel σ-bounded chromatic number, first
use the Glimm–Effros dichotomy to find a Borel reduction h: 2ω →X of E to
0
E. For E -unrelated points y ,y ∈ 2ω let r(y ,y ) = (cid:104){h(y )},{h(y )}(cid:105) and
0 0 1 0 1 0 1
note that r(y ,y ) ∈ Q. By the Baire category theorem, it will be enough, for
0 1
any Borel nonmeager set B ⊂ 2ω ×2ω and every n ∈ ω, to produce a finite
subset b ⊂ B such that the chromatic number of G on q(cid:48)(cid:48)b is greater than n.
To this end, let t ,t ∈2<ω be two binary strings of the same length such that
0 1
B ⊂ [t ]×[t ] is comeager. Let k ∈ ω be a number such that k → (3)2. A
0 1 n
simple construction yields points y ∈ 2ω for i ∈ k such that for any i ∈ j ∈ k,
i
(cid:97) (cid:97)
(cid:104)t y ,t y (cid:105) ∈ B holds. It will be enough to show that the graph G on the set
0 i 1 j
(cid:97) (cid:97)
c={q(t y ,t y ): i∈j ∈k}haschromaticnumbergreaterthann. Toseethis,
0 i 1 j
(cid:83)
suppose that c = d . By the choice of the number k, there exist m ∈ n
m∈n m
and numbers i ∈ i ∈ i such that any pair of them gives rise to a condition
0 1 2
(cid:97) (cid:97) (cid:97) (cid:97)
in the set d . Now note that the conditions r(t y ,t y ) and r(t y ,t y )
m 0 i0 1 i1 0 i1 1 i2
are incompatible in Q and so form a G-edge.
ToshowthatGhasBorelσ-boundedfractionalchromaticnumber,letB =
n
(cid:83)
{q ∈ Q: |a ∪b | ≤ n}, observe that the set B is Borel and Q = B , and
q q n n n
arguethatforeveryfinitesetc⊂B ,thefractionalchromaticnumberonGonc
n
is≤2−n. Indeed,assumethatµisanyprobabilitymeasureonthesetc;wewill
produceasetofµ-mass≥2−n consistingofpairwisecompatibleconditions, i.e.
a G-anticlique. To do this, let e be the finite set of all E-classes with nonempty
(cid:83)
intersection with (a ∪b ) and let λ be the normalized counting measure
q∈c q q
(cid:83) (cid:83)
on P(e). Let A = {(cid:104)q,u(cid:105) ∈ c×P(e): a ⊂ u∧b ∩ u = 0}. Since c ⊂ B ,
q q n
all vertical sections of the set A have λ-mass ≥ 2−n. By the Fubini theorem,
there is a horizontal section of A of µ-mass ≥ 2−n. This horizontal section is
the desired G-anticlique of µ-mass ≥2−n.

11.1. CENTRAL OBJECTS AND NOTIONS 259
Example11.1.11actuallyshowsthatthediagonalHamminggraphdoesnothave
Borel σ-bounded fractional chromatic number, since the density of a clique of
sizenisn. ManyotherexamplesarisefromvariousdensityversionsofRamsey-
type theorems.
Example11.1.20. SupposethatZactsinaBorel,freeandmeasure-preserving
way on a Polish probability measure space (cid:104)X,µ(cid:105). Let G be the Borel hyper-
graph on X of arity 3 containing a triple {x,y,z} if there is n ∈ ω such that
n·x = y and n·y = z. The hypergraph G does not have Borel σ-bounded
fractional chromatic number.
(cid:83)
Proof. Suppose towards a contradiction that X = B is a decomposition of
n n
X intoBorelsetswitnessingtheBorelσ-boundedfractonalchromaticnumberof
G. Pickn∈ωandε>0suchthatµ(B )>ε. Usethedensityversionofvander
n
Waerdentheorem[88]tofindanumberm ∈ω suchthat ineverysubsetof m
0 0
of size > m /n, one of the classes contains an arithmetic progression of length
0
three. Use the density van der Waerden theorem again to find a number m
1
such that every subset of m of size > εm contains an arithmetic progression
1 1
of length m . Let C ⊂ m ×X be the set C = {(cid:104)i,x(cid:105): x ∈ i·B }. As every
0 1 n
vertical section of the set C has µ-mass >ε, by the Fubini theorem there must
be a point x∈X such that the horizontal section Cx ⊂m contains more than
1
εm manynumbersandsoanarithmeticprogression{i+jk: k ∈m }forsome
1 0
choiceofi,k. Letx =(−i−jk)·xforj ∈m andnotethat{x : j ∈m }⊂B
j 1 j 0 n
holds. By the choice of m , the fractional chromatic number of G on the set
0
{x : j ∈m } is larger than n, contradicting the choice of the set B .
j 0 n
The class of analytic finitary hypergraphs which do not have Borel σ-bounded
fractional chromatic number has a simple basis.
Definition 11.1.21. Suppose that (cid:104)a ,H ,t : n∈ω(cid:105) is a sequence such that
n n n
a is a nonempty finite set, H is a hypergraph on a such that every H -
n n n n
(cid:81)
anticlique has fewer than |a |/(n+2) many elements, and t ∈ a and
n n m∈n m
(cid:83) (cid:81) (cid:81)
the set {t : n ∈ ω} is dense in a . The skew product H ,t is
n n m∈n n n n n
then called a large measured skew product.
A straightforward Baire category argument shows that a large measured skew
product does not have Borel σ-bounded fractional chromatic number. The fol-
lowing fact is proved in the same way as the G -dichotomy, and we omit the
0
standard argument.
Fact 11.1.22. Let G be a finitary analytic hypergraph on a Polish space X.
Exactly one of the following occurs:
1. G has Borel σ-bounded fractional chromatic number;
2. there is a large measured skew product H on a Polish space Y and a
continuous homomorphism h: Y →X of H to G.
We now include two definitions and related dichotomies which deal with the
clique number of Borel graphs.

260 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Definition 11.1.23. Let G be an analytic graph on a Polish space X. We say
that G has Borel σ-bounded clique number if there are Borel sets B ⊂ X for
n
n∈ω such that no B contains a G-clique of size n+2.
n
Fact 11.1.24. Let G be an analytic graph on a Polish space X. Exactly one of
the following occurs:
1. G has Borel σ-bounded clique number;
2. there is a continuous homomorphism from a skew product of infinitely
many cliques of increasing finite size to G.
Definition 11.1.25. Let G be an analytic graph on a Polish space X. We say
thatGhasBorelσ-finitecliquenumber ifthereareBorelsetsB ⊂X forn∈ω
n
such that no B contains an infinite G-clique.
n
Fact 11.1.26. Let G be an analytic graph on a Polish space X. Exactly one of
the following occurs:
1. G has Borel σ-finite clique number;
2. there is a continuous homomorphism from a skew product of infinitely
many infinite cliques to G.
11.2 Very Suslin forcings
Thepreservationargumentsinthischapterareinspiritquitedifferentthanthose
in other chapters. All of them use definable c.c.c. control forcings. These are
posetsthatservetobuildinterestingbalancedconditionsinthecentralσ-closed
poset. We need to learn how to iterate the control forcings with finite support
while preserving their definability properties. We also need to isolate some
definable regularity properties of the control forcings and learn how to preserve
those. This last task is quite reminiscent of Stevo Todorcevic’s emphasis on
regularitypropertiesofc.c.c.posetsasexhibitedinnumerouspapersofhis–[93,
92]. However, we must stress that in our case the regularity properties must be
witnessed in a definable way, otherwise they are worthless. Similarly, our c.c.c.
control forcings are nearly all isomorphic to the product of continuum many
Cohen reals in ZFC; their worth for our purpose stems from their definability
properties as opposed to their forcing properties.
Definition 11.2.1. [44] A pre-ordering (cid:104)P,≤(cid:105) is a Suslin forcing if there is an
ambient Polish space X such that P ⊂ X is an analytic set, ≤ is an analytic
subset of X2, and the incompatibility relation ⊥ on P is an analytic subset of
X2. To ease the notational clutter, in this section we only require that ≤ is
a transitive relation on P containing the diagonal. In addition, the poset P is
required to have a largest element.

11.2. VERY SUSLIN FORCINGS 261
A given Suslin poset (cid:104)P,≤(cid:105) can be reinterpreted in every forcing extension.
Note that the demands on the analytic definitions of ≤ and ⊥ are Π1 and so
2
the reinterpretation is again a Suslin poset. Importantly, the c.c.c. property of
Suslin forcings persists to forcing extensions.
Fact 11.2.2. [44] Let (cid:104)P,≤(cid:105) be a Suslin c.c.c. poset. The reinterpretation of P
in any forcing extension is c.c.c.
Onehastoenterthemuchmorerestrictiveclassofvery Suslin forcings toguar-
antee that the finite support iterations, separative quotients, and completions
have desirable descriptive properties.
Definition11.2.3. SupposethatP isaSuslinc.c.c.posetonanambientPolish
space X. The poset is very Suslin if the set {a∈Pω: rng(a) is predense in P}
is an analytic subset of Xω.
Note that being a very Suslin partial order is a Π1 statement in the code for
2
the analytic set of maximal antichains and therefore absolute among all forcing
extensions. Note that if the poset P and the ordering ≤ are Borel, which is
the case for all applications in this book and elsewhere as well, then both the
incompatibility relation and the set of maximal antichains are coanalytic and
therefore Borel by the Suslin theorem.
Example 11.2.4. The Cohen forcing, random forcing, and the eventually dif-
ferent real forcing are very Suslin.
Proof. TheSuslinityofthedefinitionoftheposetsiselementaryandleftforthe
reader to check; we only verify the very Suslin property. The Cohen forcing is
the poset P of finite binary strings ordered by reverse inclusion. A set a⊂P is
predense if every condition in P is compatible with some element of a, which in
view of the fact that P is countable is a Borel condition. If the random forcing
P is realized as the collection of compact µ-positive mass subsets of X ordered
by inclusion, where µ is some Borel probability measure on a Polish space X,
(cid:83)
thenacountableseta⊂P ispre-densejustincaseµ( a)=1,whichisaBorel
condition. The case of the eventually different real forcing is somewhat more
involved, and addressed in [101, Proposition 3.8.12].
Example 11.2.5. The Hechler forcing is Suslin c.c.c. but not very Suslin.
The Suslinness and c.c.c. of Hechler forcing are well-known and easily checked.
The failure of the the very Suslin property follows from the basic distinction
between Suslin and very Suslin c.c.c. posets: the latter cannot add dominating
reals.
Proposition 11.2.6. Let P be a very Suslin c.c.c. forcing. Then P does not
add dominating reals.
Proof. Let p ∈ P and τ be a P-name for an element of ωω. Consider the set
A = {T ⊂ ω<ω: some q ≤ p forces Tˇ to have no infinite branch modulo finite

262 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
dominated by τ}. By the evaluation of the complexity of the forcing relation
in Proposition 11.2.9 below, A is an analytic set of trees. At the same time, if
p forces τ ∈ ωω to be a dominating real, then A is the set of all well-founded
trees, which is coanalytic and not analytic. Since the conclusion is impossible,
the assumption must be false as well. The proposition follows.
ThemainfeatureoftheclassofverySuslinc.c.c.posetsisthatitisinasuitable
precise sense closed under finite support iterations of countable length.
Theorem 11.2.7. Let α∈ω be a countable ordinal and P a very Suslin c.c.c.
1
forcing. The finite support iteration of P of length α is naturally isomorphic to
a very Suslin c.c.c. forcing.
WeemphasisethatnosuchiterationresultispossibleforgeneralSuslinforcings.
The complexity of the forcing relation on e.g. the Hechler forcing causes the
complexity of the iterated posets to explode in ways that are unmanageable
without large cardinal assumptions. In order to prove the iteration theorem for
very Suslin c.c.c. posets succintly, we need several preliminary definitions and
facts.
Definition 11.2.8. Suppose that P is a very Suslin c.c.c. poset and X is a
Polish space.
1. Alayered P-name foranelementofX isatupleτ =(cid:104)A ,f : n∈ω(cid:105)such
n n
that A ⊂ P is a maximal antichain, f is a map from A to basic open
n n n
subsets of X of radius < 2−n, and if m < n then A refines A and if
m n
p ∈A and p ∈A are such that p ≤p , then the closure of f (p )
n n m m m n m m
is a subset of f (p ).
n n
2. XP is the set of all layered P-names for elements of X.
Note that the set XP is analytic in a suitable ambient space. The definition of
XP appears to depend on the choice of the metric for X, a dependence that we
happily suppress. It is clear that for every name for an element of the space X
there is a layered name which is forced to be equal to the original name. Now
we are ready to show that the forcing relation of very Suslin c.c.c. forcings is
Σ1 on Σ1 in a precise sense.
1 1
Proposition11.2.9. SupposethatP isaverySuslinc.c.c.poset, X isaPolish
space, and A⊂X is an analytic set. The set {(cid:104)p,τ(cid:105)∈P ×XP: p(cid:13)τ ∈A˙} is
an analytic subset of P ×XP.
Proof. Letτ =(cid:104)A ,f : n∈ω(cid:105). Leth: ωω →Abeacontinuoussurjection. The
n n
statement p(cid:13)τ ∈A˙ is equivalent to the existence of a system (cid:104)B ,g : n∈ω(cid:105)
n n
where for each n ∈ ω, B is a maximal antichain of P of conditions which are
n
either below p or incompatible with p, g : B → ω<ω, B refines B and
n n n+1 n
A , whenever r ≤ q are conditions in B and B respectively then g (r)
n n+1 n n+1
properly extends g (q), and if r ≤ q is an element of B below p and an
n n+1
element of A respectively then [g (r)] ⊂ h−1f (q). This is an analytic
n n+1 n
statement.

11.2. VERY SUSLIN FORCINGS 263
InordertoformulatethefinitesupportiterationsofverySuslinforcings,wemust
state the usual two-step iteration and direct limit definitions in the definable
context. These definitions are verbose but contain no surprises.
Definition 11.2.10. Let P,Q be posets. A projection of Q to P is a pair of
order-preserving functions π: Q→P and ξ: P →Q such that
1. π◦ξ is the identity on P;
2. whenever π(q)≤p then q ≤ξ(p);
3. whenever p≤π(q) then there is q(cid:48) ≤q such that π(q(cid:48))≤p.
The following definition will be used at the successor stage of the iterations.
Definition 11.2.11. Let P be a very Suslin poset on a Polish space X and
Q be a very Suslin poset on a Polish space Y. Define P ∗Q˙ to be the set of
all ordered pairs (cid:104)p,q˙(cid:105) where p ∈ P and q is a nice P-name for an element
of Y such that p (cid:13) q˙ ∈ Q˙. The ordering is defined by (cid:104)p ,q˙ (cid:105) ≤ (cid:104)p ,q˙ (cid:105) if
1 1 0 0
p ≤p and p (cid:13)q˙ ≤q˙ . The iteration P ∗Q˙ also includes the iteration maps
1 0 1 1 0
π: P ∗Q˙ →P defined by π(p,q˙)=p together with the function ξ: P →P ∗Q˙
defined by ξ(p)=(cid:104)p,1 (cid:105).
Q
The limit stages will be defined in the following way.
Definition11.2.12. AverySuslinsystemisatuple(cid:104)P : n∈ω,π ,ξ : m≤
n nm mn
n∈ω(cid:105) where
1. each P is a very Suslin c.c.c. forcing;
n
2. for each m ≤ n ∈ ω, the functions π : P → P and ξ : P → P
nm n m mn m n
are analytic and form a projection of P to P , with π and ξ equal
n m nn nn
to the identity on P ;
n
3. the functions π commute, as do the functions ξ .
nm mn
The limit of the system is the poset P of all pairs (cid:104)p,n(cid:105) where p∈P , ordered
ω n
by (cid:104)q,n(cid:105) ≤ (cid:104)p,m(cid:105) if m ≤ n and π (q) ≤ p in P . The limit also includes the
nm n
limit maps π : P →P and ξ : P →P defined by ξ (p)=(cid:104)p,m(cid:105) and
ωm ω m mω m ω mω
π ((cid:104)p,n(cid:105))=π (p) if n>m and π ((cid:104)p,n(cid:105))=ξ (p) if n≤m.
ωm nm ωm nm
Finally, we are ready to approach the proof of Theorem 11.2.7.
Proof of Theorem 11.2.7. The argument proceeds by a standard transfinite in-
duction argument using the following claims:
Claim 11.2.13. Let P,Q be very Suslin c.c.c. posets. Then
1. P ∗Q˙ is a very Suslin c.c.c. poset;
2. the iteration maps are analytic and form a projection from P ∗Q˙ to P.

264 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Proof. This is a routine complexity calculation. The underlying set P ∗Q˙ is
analytic by Proposition 11.2.9, since p (cid:13) q˙ ∈ Q˙ is an analytic statement. The
ordering on P ∗Q˙ is analytic for the same reason. To check the analyticity
of the incompatibility relation, observe that conditions (cid:104)p ,q˙ (cid:105) and (cid:104)p ,q˙ (cid:105) are
0 0 1 1
incompatible just in case there is a (countable) maximal antichain A⊂P such
thatforeveryp∈A, eitherpisincompatiblewithp , oritisincompatiblewith
0
p , or it is below both p ,p , and in the latter case, p(cid:13)q˙ ,q˙ are incompatible
1 0 1 0 1
in the poset Q˙. This is an analytic statement by Proposition 11.2.9 and the
assumption that the incompatibility relation on Q is analytic.
The poset P ∗Q˙ is c.c.c. because Q˙ remains c.c.c. in the P-extension by
Fact 11.2.2 and so P ∗ Q˙ is an iteration of two c.c.c. forcings. Finally, we
have to check that for a countable set B = {(cid:104)p ,q˙ (cid:105): n ∈ ω} ⊂ P ∗Q˙, the
n n
statement that B is predense is analytic. To see this, let Z be the Polish
spaceresultingfromaddinganisolatedpoint0toY,andconsiderthefollowing
formula φ: there exists a name τ for an element of Zω and maximal antichains
A ⊂P forn∈ω suchthatforeachn,A consistsofelementswhichareeither
n n
incompatiblewithp orstrongerthanp ,iftheyarestrongerthanp thenthey
n n n
force τ(n)=q˙ , if they are incompatible with p then they force τ(n)=0, and
n n
1 forces rng(τ)∩Y is predense in Q˙. Parsing the formula φ, we see that it
P
is analytic by Proposition 11.2.9, and that it says that 1 (cid:13) {q˙ : p belongs
P n n
to the generic filter} is predense in Q˙, which is exactly equivalent to the set B
being predense in P ∗Q˙.
Checkingthepropertiesoftheprojectionfunctionsisroutineandlefttothe
reader.
Claim 11.2.14. Suppose that (cid:104)P : n ∈ ω,π ,ξ : m ≤ n ∈ ω(cid:105) is a very
n nm mn
Suslin system. The limit P is a very Suslin c.c.c. forcing. The limit maps π
ω ωm
and ξ form analytic projections and commute with the projection maps of the
mω
very Suslin system.
Proof. This is a straightforward complexity computation. Let X be the ambi-
n
entPolishspaceofeachposetP ; theambientspaceoftheposetP isthenthe
n ω
(cid:83)
disjoint union X in product with ω. The ordering of P is analytic by the
n n ω
definition. The incompatibility relation is analytic as well: suppose that (cid:104)q,n(cid:105)
and (cid:104)p,m(cid:105) are conditions in P , say with n ≥ m. These two conditions are
ω
incompatible just in case π (q) is incompatible with p in P by the definitory
nm m
properties of projections.
The poset P is c.c.c. since it is a direct limit of c.c.c. forcings. To check
ω
the very Suslin property of the poset P , note that a countable set A ⊂ P is
ω ω
predense if and only if for every number n ∈ ω, there is a maximal antichain
B ⊂ P of conditions such that for each p ∈ B , either there is a condition
n ω n
(cid:104)q,m(cid:105) ∈ A such that m ≤ n and π (p) ≤ q in P , or there is a condition
nm m
(cid:104)q,m(cid:105) ∈ A such that m ≥ n and p ≤ π (q) in P . This is an analytic
mn n
statement as all the posets P are very Suslin.
n
Checking the projection properties of the functions π and ξ is routine
ωm mω
and left to the reader.

11.3. ITERATION THEOREMS 265
Theorem 11.2.7 follows.
The operation of the finite support product appears to be more difficult to
handle. Here the main question remains open:
Question 11.2.15. TheclassofSuslinc.c.c.forcingsisclosedundercountable,
finite support product. Is this true for the class of very Suslin c.c.c. forcings as
well?
11.3 Iteration theorems
The posets we use later in this chapter are fairly innocent from ZFC point of
view. However, we need their regularity properties to be witnessed in a Suslin
way, and to be preserved under finite support iterations of countable length.
This section contains a number of rather routine, but still apparently novel,
regularity properties and their associated preservation theorems.
Definition 11.3.1. Let P be a Suslin forcing.
1. A set A ⊂ P is linked if any two conditions in A have a common lower
bound;
(cid:83)
2. P is Suslin σ-linked if P can be written as a countable union A of
n n
linked analytic sets.
NotethatthedefinitorypropertiesofthecoverP = (cid:83) A areΠ1 andtherefore
n n 2
persist to all forcing extensions. The main general result of this section is the
iteration preservation theorem for Suslin σ-linkedness:
Theorem11.3.2. LetP beaverySuslinc.c.c.forcingwhichisSuslinσ-linked.
Letα∈ω beacountableordinal. ThenthefinitesupportiterationofP oflength
1
α is a Suslin σ-linked forcing.
Proof. The argument proceeds by a straightforward transfinite induction argu-
ment given the following two claims.
Claim 11.3.3. Let P,Q be very Suslin c.c.c. forcings, both of which are Suslin
σ-linked. The P ∗Q˙ is Suslin σ-linked.
(cid:83) (cid:83)
Proof. Let P = A and Q = B be the covers of P,Q by analytic
n n m m
centered(orlinked)sets. LetC ⊂P∗Q˙ bethesetofallconditions(cid:104)p,q˙(cid:105)such
nm
thatthereexistsacondition(cid:104)p(cid:48),q˙(cid:48)(cid:105)≤(cid:104)p,q˙(cid:105)suchthatp(cid:48) ∈A andp(cid:48) (cid:13)q˙(cid:48) ∈B˙ .
n m
It is not difficult to check that P ∗Q˙ = (cid:83) C , the sets C are linked.
nm nm nm
Moreover, the sets C are analytic by Proposition 11.2.9.
nm
Claim 11.3.4. Let (cid:104)P : n∈ω,π ,ξ : m≤n∈ω(cid:105) be a very Suslin system
n nm mn
consisting of Suslin σ-linked forcings. Then the limit is Suslin σ-linked.

266 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Proof. Let P be the limit of the system as described in Definition 11.2.12. Let
ω
(cid:83)
P = A : n ∈ ω be a cover by analytic linked sets for each n ∈ ω. For
n m nm
eachn,m∈ω letB ⊂P betheset{(cid:104)p,n(cid:105)∈P : p∈A }. Itisimmediate
nm ω ω nm
that these are linked analytic sets covering P .
ω
The theorem follows.
Theorem 11.3.5. The finite support product of countably many very Suslin,
Suslin σ-linked posets, if very Suslin, is Suslin σ-linked.
Proof. Let P for n ∈ ω be the very Suslin posets, with their Suslin σ-linked
n
propertywitnessedbysetsA form∈ω. Considerthefinitesupportproduct
nm
(cid:81)
Q = P and assume it is very Suslin. For each number n ∈ ω and each
n n 0
function h: n →ω let B ={q ∈Q: dom(q)=n∧∀m∈n q(m)∈A }.
0 h 0 m,h(m)
It is not difficult to verify that the sets B witness the Suslin σ-linked property
h
of the poset Q.
Definition 11.3.6. Let P be a Suslin forcing.
1. A set A⊂P is centered if any finite subset of A has a lower bound in P;
2. TheposetP isSuslin σ-centered ifP canbewrittenasacountableunion
(cid:83)
A and the sets A are analytic and centered.
n n n
The key feature of the Suslin σ-centered property is that it is preserved under
the finite support iterations of very Suslin forcings. The proof of the following
theorems are literally copied from Theorems 11.3.2 and 11.3.5, replacing the
word “linked” with “centered”.
Theorem 11.3.7. Let P be a very Suslin c.c.c. forcing which is Suslin σ-
centered. Let α ∈ ω be a countable ordinal. Then the finite support iteration
1
of P of length α is a Suslin σ-centered forcing.
Theorem 11.3.8. The finite support product of countably many very Suslin,
Suslin σ-centered posets, if very Suslin, is Suslin σ-centered.
NextcomesaregularitypropertyofSuslinforcingnotionsmorepermissivethan
centeredness or linkedness, which should be compared to [86, Definition 3].
Definition 11.3.9. Let P be a Suslin forcing.
1. A set A ⊂ P is Ramsey-centered if for every number r ∈ ω there is
k ∈ω such that every k-tuple (with possible repetitions) of elements of A
contains an r-tuple with a common lower bound.
(cid:83)
2. P is Suslin σ-Ramsey-centered if there is a cover P = A by analytic
n n
Ramsey-centered sets.
Note that the definitory properties of the covers are Π1 and therefore persist
2
to all forcing extensions. The most important result of this section is that
the Suslin Ramsey-centeredness is a property preserved under finite support
iterations of very Suslin forcings.

11.3. ITERATION THEOREMS 267
Theorem11.3.10. LetP beaverySuslinc.c.c.forcingwhichisSuslinRamsey-
centered. Let α ∈ ω be a countable ordinal. Then the finite support iteration
1
of P of length α is a Suslin Ramsey-centered forcing.
Proof. The argument proceeds by a straightforward transfinite induction argu-
ment given the following two claims.
Claim 11.3.11. LetP,Q beverySuslinc.c.c.forcings, bothofwhichareSuslin
Ramsey-centered. The P ∗Q˙ is Suslin Ramsey-centered.
(cid:83)
Proof. Find a cover Q= B by analytic Ramsey-centered sets and a cover
m m
P = (cid:83) A by analytic Ramsey-centered sets. Let C ⊂ P ∗Q˙ be the set of
n n nm
all conditions (cid:104)p,q˙(cid:105) such that there exists a condition (cid:104)p(cid:48),q˙(cid:48)(cid:105)≤(cid:104)p,q˙(cid:105) such that
p(cid:48) ∈A and p(cid:48) (cid:13)q˙(cid:48) ∈B˙ . It is not difficult to check that P ∗Q˙ = (cid:83) C ,
nm m nm nm
thesetsC areRamsey-centered: givenr ∈ω thereisak ∈ω suchthatevery
nm
k-tuple in the set B contains an r-tuple with a common lower bound, and
m
there is an l ∈ ω such that every l-tuple in the set A contains a k-tuple with
n
a common lower bound. Then, every l-tuple of conditions in C contains an
mn
r-tuple with a common lower bound. Moreover, the sets C are analytic by
nm
Proposition 11.2.9.
Claim 11.3.12. Let (cid:104)P : n∈ω,π ,ξ : m≤n∈ω(cid:105) be a very Suslin system
n nm mn
consisting of Suslin Ramsey-centered forcings. Then the limit is Suslin Ramsey-
centered.
Proof. Let P be the limit of the system as described in Definition 11.2.12. Let
ω
(cid:83)
P = A : n ∈ ω be a cover by analytic Ramsey-centered sets for each
n m nm
n ∈ω. For each n,m∈ω let B ⊂ P be the set {(cid:104)p,n(cid:105)∈ P : p ∈A }. It
nm ω ω nm
is immediate that these are Ramsey-centered analytic sets covering P .
ω
The theorem follows.
Theorem 11.3.13. The finite support product of countably many very Suslin,
Suslin σ-Ramsey-centered posets, if very Suslin, is Suslin σ-Ramsey-centered.
Proof. Let P for n ∈ ω be the very Suslin posets, with their Suslin Ramsey-
n
centered property witnessed by sets A ⊂ P for m ∈ ω. Consider the finite
nm n
(cid:81)
supportproductQ= P andassumeitisverySuslin. Foreachfunctionh∈
n n
ω<ω let B = {q ∈ Q: dom(q) = dom(h)∧∀m ∈ dom(q) q(m) ∈ A . We
h m,h(m)
proceed to verify that the sets B witness the Suslin Ramsey-centered property
h
of the poset Q.
Fix the function h and let r ∈ω be a number. By recursion on n∈dom(h)
find numbers k ∈ω so that every k(0)-tuple of elements of A of size k(0)
n 0,h(0)
containsanr-tuplewithacommonlowerboundinP ,andeveryk(n+1)-tuple
0
ofelementsofA containsak(n)-tuplewithacommonlowerboundin
n+1,h(n+1)
P . Let n=max(dom(h)) and k =k(n). It is easy to see that every k-tuple
n+1
of elements of B contains an r-tuple with a lower bound in the poset Q.
h

268 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
The existence of finitely additive measures on complete Boolean algebras is a
usefultoolinforcingtheory,see[47]. TheSuslinversionofitneedstoreflectthe
fact that finitely additive measures on uncountable sets are typically not Suslin
in any sense. We use the following poor man’s version of a finitely additive
measure:
Definition 11.3.14. Let P be a very Suslin c.c.c. poset. We say that P is
Suslin measured if there are analytic sets A ⊂P and positive rationals ε >0
n n
(cid:83)
such that P = A and for every n∈ω and every finite sequence (cid:104)p : i∈j(cid:105)
n n i
of elements of A with possible repetitions there is a set b ⊂ j of size at least
n
ε j such that the set {p : i∈b} has a lower bound in P.
n i
NotethatthedefinitorypropertiesofthecoverP = (cid:83) A areΠ1 andtherefore
n n 2
persist to all forcing extensions. Note also that every Suslin measured poset is
Suslin Ramsey-centered as witnessed by the same analytic sets.
Theorem11.3.15. LetP beaverySuslinc.c.c.poset. IfP isSuslinmeasured,
then so are all of its finite support iterations of countable length.
Proof. As in the previous subsections, we proceed with claims dealing with the
successor and limit stage of the iteration.
Claim 11.3.16. Suppose that P,Q are very Suslin, c.c.c. posets which are
Suslin measured. Then P ∗Q˙ is Suslin measured.
Proof. Let A ,α for n∈ω and B ,β for n∈ω witness the Suslin measured
n n n n
property of P,Q respectively. Let C ⊂ P ∗Q˙ be the upward closure of the
nm
set of all pairs (cid:104)p,q(cid:105) such that p ∈ A and p (cid:13) q˙ ∈ B˙ . Let γ = α β .
n m nm n m
We claim that the sets C and the numbers γ witness the Suslin measured
nm nm
property of the iteration.
It is clear from Proposition 11.2.9 that the sets C are analytic; they
nm
also clearly exhaust all of P ∗Q˙. Now, fix numbers n,m ∈ ω. Suppose that
(cid:104)(cid:104)p ,q˙ (cid:105): i ∈ j(cid:105) is a sequence of conditions in the set C ; strengthening the
i i nm
conditions we may assume that p ∈A and p (cid:13)q˙ ∈B˙ holds for every i∈j.
i n i i m
By the properties of the set A , there is a set b⊂j such that |b|>α j and the
n n
conditions p for i ∈ b have a lower bound p. By the properties of the set B
i m
applied in the generic extension, it is possible to strengthen p and identify a set
c ⊂ b such that |c| > β |b| in such a way that p forces the set {q˙ : i ∈ c} to
m i
have a lower bound in Q˙. Then the conditions (cid:104)p ,q˙ (cid:105) for i∈c have a common
i i
lower bound in P ∗Q˙. As the set c ⊂ j has size > α β |j|, this verifies the
n m
desired properties of the set C .
nm
Claim 11.3.17. Let (cid:104)P : n∈ω,π ,ξ : m≤n∈ω(cid:105) be a very Suslin system
n nm mn
consisting of Suslin measured forcings. Then the limit is Suslin measured.
Proof. Let P be the limit of the system as described in Definition 11.2.12. For
ω
each n ∈ ω, let A ,ε for m ∈ ω be analytic subsets of P and positive
nm nm n
rational numbers witnessing the measured property of P . For each n,m ∈ ω
n
let B ⊂P be the set {(cid:104)p,n(cid:105)∈P : p∈A }. It is immediate that the sets
nm ω ω nm

11.3. ITERATION THEOREMS 269
B with the numbers ε witness the Suslin measured property of the limit
nm nm
P .
ω
A routine transfinite induction argument now completes the proof.
Theorem 11.3.18. The finite support product of countably many very Suslin,
Suslin measured posets, if very Suslin, is Suslin measured.
Proof. Let P for n ∈ ω be the very Suslin posets, with their Suslin measured
n
property witnessed by sets A ⊂ P and numbers ε for m ∈ ω. Consider
nm n nm
(cid:81)
the finite support product Q = P and assume it is very Suslin. For each
n n
function h ∈ ω<ω let B = {q ∈ Q: dom(q) = dom(h)∧∀m ∈ dom(q) q(m) ∈
h
(cid:81)
A , and let ε = ε }. It is not difficult to verify that the
m,h(m) h m∈dom(h) m,h(m)
sets B and the numbers ε witness the Suslin measured property of the poset
h h
Q.
As the last issue in this section, we elaborate on a notion which has been used
inseveralcontextstoguaranteethatvariousposetsdonotadddominatingreals
[70, 1]; we will use it for a different purpose.
Definition 11.3.19. Let P be a Suslin poset.
1. A set A ⊂ P is liminf-centered if for every collection {p : n ∈ ω} ⊂ A
n
there is a condition q ∈ P such that every condition stronger than q is
compatible with p for infinitely many numbers n∈ω;
n
(cid:83)
2. P is Suslin σ-liminf centered if P = A where each set A ⊂ P is
n n n
analytic and liminf-centered.
It is not difficult to see that the property of the condition q demanded by the
first item of the definition can be stated in the forcing language as q (cid:13) there
are infinitely many n ∈ ω such that p belongs to the generic filter. It is
n
important and instructive to note that if P is a very Suslin c.c.c. poset then its
Suslin σ-liminf-centeredness will persist to all generic extensions. To see this,
it is enough to observe that for an analytic set A ⊂ P, the statement “A is
liminf-centered”isΠ1; then,anapplicationofShoenfieldabsolutenessgivesthe
2
required conclusion. Now, the statement “A is liminf-centered” is equivalent to
the following: for all (cid:104)p : n ∈ ω(cid:105), either for some n ∈ ω, p ∈/ A, or there is
n n
q ∈P suchthatq (cid:13)thereareinfinitelymanyn∈ω suchthatp belongstothe
n
generic filter. The forcing statement is analytic by Proposition 11.2.9 and the
very Suslin assumption on P. Thus, the total statement is Π1 as required.
2
Theorem 11.3.20. Let P be a very Suslin c.c.c. forcing which is Suslin σ-
liminf centered. Let α∈ω be a countable ordinal. Then the finite support of P
1
of length α is a very Suslin c.c.c. Suslin σ-liminf centered forcing.
Proof. Theargumentisaroutinevariationoftheproofsofpreviouspreservation
theorems.

270 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Claim 11.3.21. LetP,Q beverySuslinc.c.c.forcings, bothofwhichareSuslin
σ-liminf-centered. The P ∗Q˙ is Suslin σ-liminf-centered.
(cid:83) (cid:83)
Proof. Find covers Q = B and P = A by analytic liminf-centered
m m n n
sets. Let C ⊂ P ∗ Q˙ be the set of all conditions (cid:104)p,q˙(cid:105) such that there
nm
exists a condition (cid:104)p(cid:48),q˙(cid:48)(cid:105) ≤ (cid:104)p,q˙(cid:105) such that p(cid:48) ∈ A and p(cid:48) (cid:13) q˙(cid:48) ∈ B˙ . It is
n m
not difficult to check that P ∗Q˙ = (cid:83) C and the sets C are analytic
nm nm nm
by Proposition 11.2.9. To check the liminf-centered property, suppose that
{(cid:104)p ,q˙ (cid:105): i ∈ ω} are conditions in C . Strengthening if necessary, we may
i i nm
assume that p ∈ A and p (cid:13) q˙ ∈ B˙ . Use the liminf-centeredness of A to
i n i i m n
find a condition p forcing that for infinitely many i ∈ ω, p is in the generic
i
filter. Usingtheliminf-centerednessofthesetB ,findanameq˙foracondition
m
in Q such that p (cid:13) q˙ (cid:13) for infinitely many i ∈ ω such that p belongs to the
i
generic filter on P, q˙ belongs to the generic filter on Q. The condition (cid:104)p,q˙(cid:105) is
i
as required.
Claim 11.3.22. Let (cid:104)P : n ∈ ω,π ,ξ : m ≤ n ∈ ω(cid:105) be a very Suslin
n nm mn
system consisting of Suslin σ-liminf-centered forcings. Then the limit is Suslin
σ-liminf-centered.
Proof. Let P be the limit of the system as described in Definition 11.2.12.
ω
(cid:83)
Let P = A : n ∈ ω be a cover by analytic liminf-centered sets for each
n m nm
n ∈ ω. For each n,m ∈ ω let B ⊂ P be the set {(cid:104)p,n(cid:105) ∈ P : p ∈ A }.
nm ω ω nm
It is immediate that these are analytic liminf-centered analytic sets exhausting
P .
ω
The theorem follows by a routine transfinite induction argument.
The following question probably has a negative answer; still, products of the
very Suslin σ-liminf-centered posets used later in the chapter are again Suslin
σ-liminf-centered.
Question 11.3.23. Is the class of Suslin σ-liminf-centered posets closed under
product?
11.4 Locally countable simplicial complexes
Inthissection,weconcentrateontasksofaveryspecificformcommontomany
concerns of modern descriptive set theory. These tasks start with a countable
BorelequivalencerelationE onaPolishspaceX andattempttoassignastruc-
ture of some type to each E-class; at the same time, distinct E-classes do not
communicate with each other in any way. Reviewing the tasks of this type, it
becomes obvious that often there is a locally countable simplicial complex K
on X such that the associated equivalence relation E (as identified in Defini-
K
tion 6.1.3) is E, and we seek a maximal K-set. Sometimes, the domain of the
simplicial complex K is instead the collection of finite subsets of X consisting
of pairwise E-related points, and sometimes we actually seek a maximal K-set

11.4. LOCALLY COUNTABLE SIMPLICIAL COMPLEXES 271
with some additional largeness properties. The variations considered in this
section all fall under the following definition:
Definition 11.4.1. A locally countable pair is a pair (cid:104)K,L(cid:105) such that
1. K is a Borel locally countable simplicial complex on a Polish space X;
2. L⊂K is a cofinal Borel subset, i.e. ∀a∈K ∃b∈L a⊂b;
3. for every finite set a ⊂ X, a ∈ L just in case a∩c ∈ L holds for every
E -class c⊂X.
K
A K-set a ⊂ X is L-regular if every finite subset of a is a subset of a finite
subset of a which is in L.
The role of the set L deserves a comment. Note that item (3) holds with K
replacing L by the definition of the equivalence relation K; thus, distinct E -
K
classesdonotcommunicateregardingthemembershipoffinitesetsinK andL.
Inmanycases, theequality L=K willoccur; sometasksseemtobeimpossible
toachieveinthiswaythough. Forexample, letGbeagraphonω andletK be
the simplicial complex of all finite G-colorings with colors coming from ω. Not
every maximal K-set needs to be a total G-coloring. To alleviate this unwanted
effect, let L ⊂ K be the set of those finite colorings whose domain is a natural
number; then every L-regular maximal K-set is in fact a total G-coloring.
Definition 11.4.2. Let (cid:104)K,L(cid:105) be a locally countable pair on a Polish space
X. The poset P is the poset of all sets p⊂K for which there is a countable
KL
E -invariant set dom(p) ⊂ X such that p is a L-regular, maximal K-subset of
K
dom(p). The ordering is that of reverse inclusion. If K = L, we refer to the
poset as P instead.
K
It is immediate that the poset P is Suslin and σ-closed; in fact, it is a special
KL
case of the uniformization posets of Definition 6.6.5 with the space X ×Xω,
the equivalence relations E on X and F on Xω, and the invariant Borel set
2
B ⊂ X ×Xω consisting of all pairs (cid:104)x,y(cid:105) where y enumerates an L-regular
maximalK-subsetof[x] . Theclassificationofbalancedconditionsthenfollows
E
from Theorem 6.6.6:
Theorem 11.4.3. Let (cid:104)K,L(cid:105) be a locally countable pair on a Polish space X,
with the associated poset P .
KL
1. For every L-regular maximal K-set A ⊂ X, the pair (cid:104)Coll(ω,X),Aˇ(cid:105) is
balanced;
2. for every balanced pair (cid:104)Q,σ(cid:105) there is a set A as in (1) such that the
balanced pairs (cid:104)Q,σ(cid:105) and (cid:104)Coll(ω,X),Aˇ(cid:105) are equivalent;
3. distinct sets as in (1) yield inequivalent balanced pairs.

272 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
In order to identify properties of the poset P in the Solovay model, we have
KL
to analyze its very Suslin c.c.c. control poset which in this case is simply the
partialorderK orderedbyreverseinclusion. NotethatthesetLdoesnotenter
the definition of the control poset at all. The following proposition verifies the
basic property of the control poset.
Proposition 11.4.4. Let K be a Borel locally countable simplicial complex on
a Polish space X. Then K is a very Suslin c.c.c. forcing.
Proof. Write E = E ; this is a Borel countable equivalence relation on the
K
space X. Observe that for an E-invariant set C ⊂ X, K∩P(C) is a regular
subposet of K. It is certainly closed under unions in K. Now suppose that
a∈K is any condition and let b=a∩C. Whenever c⊃b is some condition in
K∩P(C), a∪c ∈ K holds. To see this, recall that a∪c belongs to K just in
caseitsintersectionwitheveryE-classis. Now, ifdisanE-class, ifd⊂C then
(a∪c)∩d=c∈K, and if d∩C =0 then (a∪c)∩d=a∈K holds again. The
regularity of K∩P(C) in K has just been proved.
Toverifythec.c.c.partoftheproposition,letA⊂Kisamaximalantichain
and let M be a countable elementary submodel of a large structure containing
A,E, and K. By the elementarity of M, the set A∩M is a maximal antichain
in the poset K∩M = K∩P(X ∩M). Since E is an equivalence relation with
allclassescountable,theelementarityofM showsthatX∩M isanE-invariant
set. By the previous paragraph then, A∩M is a maximal antichain in K. As a
result, A∩M =A and so A is countable.
To verify the very Suslin part of the proposition, let A ⊂ K be a countable
set. To check that A is a maximal antichain in K, it is only necessary to
check that it is a maximal antichain in the poset K ∩P(C), where C is the
(cid:83)
E-saturation of A by the first paragraph of the proof. Such a verification is
a Borel procedure as all E-classes are countable.
The key point in all subsections below will be the identification of some Suslin
forcing preservation properties of the control poset and their connection to the
forcing properties of the poset P in the Solovay model.
KL
11.4a Suslin σ-centered complexes
TheresultsofthissectionshowthatincertainextensionsoftheSolovaymodel,
uncountable chromatic numbers of analytic hypergraphs of finite arity do not
change at all. This is the content of the following theorem.
Theorem 11.4.5. Let (cid:104)K,L(cid:105) be a locally countable pair. Suppose that the
simplicial complex K is Suslin σ-centered. Suppose that G is a analytic finitary
hypergraph of uncountable Borel chromatic number. Then in the P -extension
KL
of the Solovay model, the chromatic number of G is uncountable.
Proof. As a preliminary consideration, it is clear from Fact 11.1.8 that it is
enough to consider the case of G which is a principal skew product as in Defi-
nition 11.1.7. Let (cid:104)a ,H ,t : n ∈ ω(cid:105) be a sequence such that H = {a } and
n n n n n
(cid:81)
G= H ,t .
n n n

11.4. LOCALLY COUNTABLE SIMPLICIAL COMPLEXES 273
Write X for the Polish space which is the domain of the Borel simplicial
complex K, write E =E and P =P . Let κ be an inaccessible cardinal, let
K KL
W be the Solovay model derived from κ and work in the model W. Suppose
(cid:81)
that p ∈ P is a condition and τ is a P-name for a function from a to ω.
n n
We must find a stronger condition p¯≤ p, a number m ∈ ω and a G-hyperedge
e such that p¯(cid:13)τ(y)=mˇ for all vertices y ∈eˇ.
The condition p∈P as well as the name τ are definable from some parame-
tersinthegroundmodelandaparameterz ∈2ω. LetV[K]beanintermediate
model obtained by a poset of size < κ containing the parameter z, and work
in the model V[K] until further notice. Consider the iteration Q∗R˙ where Q
(cid:81) (cid:81)
is the Cohen poset on a adding a generic point y˙ ∈ a , and in the
n n gen n n
Q-extension, R˙ is the finite support iteration of length ω of the poset K. As
1
usual, the poset K is reinterpreted at each stage of the iteration; we denote
the model obtained after α-th stage by M , so M is the Q-extension of V[K].
α 0
Thus, the R˙ poset adds a sequence of K-sets, (cid:104)A˙ : α∈ω (cid:105) derived from the it-
α 1
erationcomponentsofR˙. Byadensityargument,foreachE-classcrepresented
in the model V , the set A˙ ∩c is a maximal K-subset of c which is L-regular.
α α
Consider the Q∗R˙-name p¯for the K-set defined in the following way: if c is an
E-class represented in dom(p), then c∩p¯=c∩p, if c is an E-class represented
in M but not in dom(p) then c∩p¯ = A˙ ∩c, and if α ∈ ω is an arbitrary
0 0 1
(cid:83)
nonzeroordinalandcisanE-classrepresentedinM butnotin M then
α β∈α β
c∩p¯= c∩A˙ . It is not difficult to see that p¯is a Q∗R˙-name for a maximal
α
K-set which is L-large, and therefore a balanced condition for the poset P by
Theorem11.4.3. Notethattheconditiondoesnotdependonthepointy˙ but
gen
only on the model V[K][y˙ ].
gen
Now, by a standard balance argument, Q∗R˙ (cid:13) ∃m Coll(ω,< κ) (cid:13) p¯ (cid:13)
P
τ(y˙ )=mˇ. Let (cid:104)q,r˙(cid:105) be a condition in the iteration Q∗R˙ deciding the value
gen
of m; we abuse the notation and call the specific value m again. Strengthening
the condition q ∈Q if necessary, we may assume that
• there is an ordinal α ∈ ω such that q (cid:13) r˙ is a name for a condition in
1 Q
the initial segment R of the iteration R˙;
α
• bytheiterationtheorem11.3.7,R isaverySuslinforcingwhichisSuslin
α
σ-centered. Let {B : k ∈ ω} be analytic centered sets covering R . We
k α
may find a specific number k ∈ω such that q (cid:13)r˙ ∈B˙ ;
k
• q =t for some number j ∈ω.
j
(cid:81)
Let y ∈ a be a Cohen-generic element over the model V[K] extending t
n n j
(cid:81)
andmoveintothemodelV[K][y]. Foreachi∈a lety ∈ a betheelement
j i n n
obtained from y by rewriting the j-th entry with i. Thus, each y is a Cohen
i
generic element over V[K] meeting the condition q, V[K][y ] = V[K][y], and
i
{y : i ∈ n} is a G-hyperedge. Let r = r˙/y . Thus, each r is a condition in
i i i i
the poset R , and even in the analytic centered set B . Thus, the conditions
α k
r for i ∈ a have a common lower bound. Now, let H ⊂ R be a filter generic
i n

274 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
overthemodelV[K][y]andcontainingallconditionsr fori∈a . Considerthe
i n
balanced condition p¯≤ p in the poset P in the model V[K][y][H] described in
the third paragraph of the present proof. The forcing theorem applied for each
i∈a showsthatforeachi∈a ,V[K][y][H]|=Coll(ω,<κ)(cid:13)p˙ (cid:13) τ(yˇ)=mˇ.
n n P i
Thus, W |=p¯(cid:13)τ(yˇ)=mˇ for each i∈a , completing the proof.
i n
The verification of Suslin σ-centeredness for a given locally countable Borel
simplicial complex K may look like a formidable challenge. However, there is a
standard trick, recorded in the following theorem, which makes short work of it
in all cases we are aware of.
Theorem 11.4.6. Let K be a locally countable Borel simplicial complex on
a Polish space X and write E = E . Suppose that there is a Borel support
K
function supp: K→[X]<ℵ0 such that
1. supp(a)⊂[a] ;
E
2. whenever {a : i ∈ j} are sets in K, subsets of the same E-class with
i
(cid:83)
pairwise disjoint supports, then a ∈K.
i i
Then K is Borel σ-centered.
Proof. Let Γ be a countable group acting on X in a Borel way such that E
is the resulting orbit equivalence relation. Let a ∈ K and write supp∗(a) =
(cid:83)
{supp(a∩c): c is an E-class}. We say that a tuple (cid:104)b,f(cid:105) is a descriptor of a
if
• b ⊂ B is a finite set consisting of pairwise disjoint basic open subsets of
X such that every element of supp∗(a) belongs to (cid:83) b and no element of
b contains more than one element of supp∗(a);
• f: b→[Γ]<ℵ0 is a function such that whenever O ∈b is an open set, c is
anE-class,andx∈O∩supp(a∩c)isapointthena∩c={γ·x: γ ∈f(O)}.
Note that a indeed has a descriptor since the set supp∗(a) is finite (making the
construction of b as in the first item possible), and for any E-class c the set
supp(a∩c)isasubsetofcby(1)(makingtheconstructionoff asinthesecond
itempossible). Wewillshowthatif{a : i∈j}areelementsofK withthesame
i
(cid:83)
descriptor (cid:104)b,f(cid:105) then a ∈ K. Since there are only countably many possible
i i
descriptors, and the set of elements of K with a given descriptor is Borel, this
will conclude the proof of the theorem.
(cid:83)
Let c be an E-class; we must show that (a ∩c)∈K. In view of property
i i
(2) of the supp function, it will be enough to show that whenever i (cid:54)= i are
0 1
elements of j then either a ∩ c = a ∩ c or supp(a ∩ c) is disjoint from
i0 i1 i0
supp(a ∩c). Towards this end, suppose that x∈supp(a ∩c)∩supp(a ∩c)
i1 i0 i1
is a point; we have to show that a ∩c = a ∩c holds. Let O ∈ b be an open
i0 i1
set such that x ∈ O, and use the second property of a descriptor to see that
a ∩c=a ∩c={γ·x: γ ∈f(O)}. The theorem follows.
i0 i1

11.4. LOCALLY COUNTABLE SIMPLICIAL COMPLEXES 275
OurfirstexampleismotivatedbyaZF+DCresultof[19]: foreveryBorellocally
finite graph on a Polish space X, if the chromatic number of G is ≤ n, then
there is a meager set B ⊂X and a decomposition of the set X \B into 2n−1
many Borel G-anticliques. We have:
Example 11.4.7. Let G be a Borel locally finite graph on a Polish space X
of chromatic number n. Let K be the simplicial complex of all finite partial G
colorings with ≤ 2n−1 colors which can be extended to a total coloring with
≤ 2n−1 many colors in which at most n many colors are attained infinitely
many times. Then K is a Borel locally countable simplicial complex which is
Suslin σ-centered.
Proof. NotethatK isinfactasimplicialcomplexonX×(2n−1). Thevarious
assertionsoftheexamplefollowfromtwosimplegeneralgraphtheoreticclaims.
Let H be a locally finite graph on a set V of vertices and let c: V → m be
a H-coloring with finitely many colors. Define F(c) = {i ∈ m: the set {v ∈
V : c(v)=i} is finite}.
Claim 11.4.8. For every finite set a ⊂ V and every set e ⊂ m of size |F(c)|
there is a H-coloring d: V →m such that c(cid:22)a=d(cid:22)a and F(d)=e.
Proof. It will be enough, given i ∈ F(c) and j ∈ m\F(c), to find a coloring
d: V → m such that c (cid:22) a = d (cid:22) a and F(d) = (F(c)∪{j})\{i}. To this end,
let b = a∪{v ∈ V : c(v) = i}∪{u ∈ V : ∃v {u,v} ∈ H and c(v) = i}. Let d
be the coloring equal to c except on the vertices v ∈ V \b such that c(v) = j,
which will have d(v)=i. It is easy to verify that d works.
Claim 11.4.9. For every finite set a ⊂ V there is a finite partial H-coloring
d: V → m such that a ⊂ dom(d), c (cid:22) a = d (cid:22) a, and for every edge {u,v} ∈ H
with u∈dom(d) and v ∈/ dom(d), d(u)∈/ |F(c)|+1 holds.
Proof. By the previous claim, we can adjust c so that F(c) is the set of the
first F(c)-many natural numbers. Let a(cid:48) be the union of the finite sets a,
{v ∈ V : c(v) ∈ F(c)}, and {v ∈ V : ∃u {u,v} ∈ H and c(u) ∈ F(c)}. Let b be
theunionofthefinitesetsa(cid:48)and{v ∈V : ∃u∈a(cid:48){u,v}∈H andc(u)=|F(c)|}.
Let d=c(cid:22)b and observe that d works.
Now, we are ready to complete the proof of the example. Write E for the Borel
equivalence relation of G-path connectedness on the space X. First of all, the
simplicial complex K is Borel and locally countable. Applying the last claim
to each connected component of the graph G, it is clear that a finite partial
G-coloring a belongs to K just in case for every E-class c ⊂ X there is a finite
partial G-coloring d such that dom(a)∩c ⊂ dom(d) ⊂ c and for every G-edge
{x,y} with x ∈ dom(d) and y ∈ c\dom(d) it is the case that d(u) ∈/ n holds.
(Such a coloring d can be completed by coloring the rest of the class c with the
first n many colors, which is possible by the chromatic number assumption on
G.) This is a Borel condition.

276 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
To prove the Suslin σ-centeredness of the simplicial complex K, use the
Lusin–NovikovtheoremtofindaBorelfunctiong which,foreachfinitecoloring
a ∈ K whose domain consists of elements of a single E-class c, assigns a G-
coloring g(a) ⊃ a such that dom(a) ⊂ dom(g(a)) ⊂ c and for every G-edge
{x,y} with x∈dom(g(a)) and y ∈c\dom(g(a)) it is the case that g(a)(u)∈/ n
holds. Let supp(a) be the set of all pairs (cid:104)e,i(cid:105) such that e ∈ dom(g(a)) and
i ∈ 2n − 1. In view of Theorem 11.4.6, it will be enough to show that if
{a : i∈j} are colorings in K whose domain is a subset of one and the same E-
i
(cid:83)
class c, with pairwise disjoint supports, then a ∈ K. This is nearly trivial,
i i
however. The colorings g(a ) for i ∈ j have pairwise disjoint domains. Let
i
(cid:83)
f: c\ dom(g(a )) → n be any G-coloring–its existence is guaranteed by the
i i
(cid:83)
chromatic number assumption on G. Then, f ∪ g(a ) is a G-coloring of
i i
(cid:83)
the class c which extends a and uses no colors ≥ n infinitely many times,
i i
(cid:83)
witnessing that a ∈K.
i i
Corollary 11.4.10. LetGbealocallyfiniteBorelgraphonaPolishspaceX of
finitechromaticnumbern. LetKbethesimplicialcomplexasinExample11.4.7.
Let H be a finitary analytic hypergraph of uncountable Borel chromatic number.
Then
1. in the P -extension of the Solovay model, the chromatic number of H is
K
uncountable;
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds and
the chromatic number of G is ≤2n−1 and the chromatic number of H is
uncountable.
The following example is motivated by a question of Marks and Unger (private
communication): given a countable Borel equivalence relation E, is it consis-
tent with ZF+DC that E is a union of an increasing countable sequence of
equivalence relations with all equivalence classes finite and every set of reals
has the Baire property? While that question remains open, we do have partial
information:
Example 11.4.11. LetE beacountableBorelequivalencerelationonaPolish
space X with all classes infinite. Let K be the simplicial complex of all finite
directed subgraphs of E which are acyclic and every vertex has in-degree ≤ 1
and out-degree ≤ 1. Note that K is in fact a simplicial complex on E rather
than on X. The simplicial complex K is Suslin σ-centered by Theorem 11.4.6.
To see this, let Γ be a countable group acting on X in a Borel way such that E
is the resulting orbit equivalence relation. Let Γ={γ : k ∈ω} be an arbitrary
k
enumeration. Whenevera∈KisagraphwhosedomainisasubsetofasingleE-
class,letn(a)bethesmallestnumbersuchthatforanytwopointsx,y ∈dom(a)
there is k ∈ n(a) such that x = γ ·y, and let supp(a) = {{γ ·x,γ ·x}: x ∈
k l k
dom(a),k,l ∈n(a)}. If two graphs a ,a ∈K have disjoint support, they must
0 1
have disjoint domains. It follows that if a ∈ K are sets for i ∈ j which are
i
(cid:83)
subsetsofthesameE-classandhavepairwisedisjointsupports, then a ∈K
i i
as required in Theorem 11.4.6.

11.4. LOCALLY COUNTABLE SIMPLICIAL COMPLEXES 277
WeplantousethesimplicialcomplexKtointroduceanorderingofordertype
Z to each E-class. However, not every maximal K-set does that. Apparently, a
cofinalsubsetL⊂K isneededsothateveryL-largemaximalK-setcomesclose
the the purpose in mind. For one simple solution, let L ⊂ K be the collection
of all sets a∈K which in each E-class have only one vertex of in-degree 0 and
only one vertex of out-degree 0. Note that L⊂K is cofinal, and if c⊂X is an
E-class and d⊂c2 is an L-regular maximal K-set, then d is a ray of ordertype
Z or N or inverted N.
Corollary 11.4.12. Let E be a countable Borel equivalence relation with all
classes infinite as in Example 11.4.11. Let H be a finitary analytic hypergraph
of uncountable Borel chromatic number.
1. In the P -extension of the Solovay model, the chromatic number of H is
KL
uncountable;
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds and
E is the orbit equivalence relation of a (discontinuous) Z-action and the
chromatic number of H is uncountable.
Proof. The first item is the consequence of the fact that K is Suslin σ-centered
asprovedinExample11.4.11. Fortheseconditem,letW betheSolovaymodel
derivedfromsomeinaccessiblecardinalandletG⊂P beagenericfilterover
KL
(cid:83)
the model W. A genericity argument shows that G is an L-regular maximal
(cid:83)
K-set. For every E-class c, G on the class c indicates either an ordering of
type Z or of type N or of type inverted N. It is a matter of minor surgery in
ZF+DC to turn this into a relation which is an ordertype Z on every class.This
immediatelyprovidesanactionofZonX whichyieldsE asanorbitequivalence
relation. The chromatic number part of the second item follows from the first
item.
As a final observation, we show that the forcings of the type discussed in
Theorem11.4.5canbeplacedincountablesupportproduct,andtheconclusion
of Theorem 11.4.5 remains in place. Suppose that (cid:104)X : i ∈ ω(cid:105) are pairwise
i
disjointPolishspaces,and(cid:104)K ,L (cid:105)arelocallycountablepairsoneach. Suppose
i i
thateachsimplicialcomplexK isSuslinσ-centered. LetX bethePolishspace
i
which is the disjoint union of X for i ∈ n, let K be the simplicial complex of
i
those finite sets a ⊂ X such that a∩X ∈ K holds for every i ∈ ω, and let
i i
L = {a ∈ K: ∀i a∩X (cid:54)= 0 → a∩X ∈ L . Then P is a countable support
i i i KL
product of the posets P , and the simplicial complex K is Suslin σ-centered
KiLi
by Theorem 11.3.8, since it is the finite support product of the posets K for
i
(cid:81)
i ∈ ω. Therefore, by Theorem 11.4.5, in the P -extension of the Solovay
i KiLi
model, theuncountablechromaticnumbersoffinitaryanalytichypergraphsare
preserved.

278 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
11.4b Suslin σ-linked complexes
Infairlycommonsituations,onewishestopreserveuncountablechromaticnum-
bers of analytic graphs while a task of higher arity is performed. This can be
handled by Suslin σ-linked complexes as explained in the following theorem.
Theorem 11.4.13. Let (cid:104)K,L(cid:105) be a locally countable pair. Suppose that the
simplicial complex K is Suslin σ-linked. Let G be an analytic graph with un-
countable Borel chromatic number. In the P -extension of the Solovay model,
KL
the chromatic number of G is uncountable.
The verification of the Suslin σ-linked property of Borel simplicial complexes is
invariably achieved via the following result.
Theorem 11.4.14. Let K be a locally countable Borel simplicial complex on
a Polish space X and write E = E . Suppose that there is a Borel support
K
function supp: K→[X]<ℵ0 such that
1. supp(a)⊂[a] ;
E
2. whenever a ,a are sets in K, subsets of the same E-class with disjoint
0 1
supports, then a ∪a ∈K.
0 1
Then K is Borel σ-linked.
The proofs of Theorems 11.4.13 and 11.4.14 are nearly identical to the proofs
of Theorem 11.4.5 and 11.4.6, and we omit them.
Our first example is motivated by a result of Marks and Unger [68] which
foundperfectmatchingswiththeBairepropertyinmanyBorelbipartitegraphs.
In order to do this, they isolated the following strengthening of the well-known
Hall’s condition of [38]:
Definition 11.4.15. Let Γ be a locally finite bipartite Borel graph on a Polish
space X. We say that Γ satisfies the Marks–Unger condition if there is a real
numberε>0suchthatforeveryfiniteseta⊂X ononesideofthebipartition,
the number of Γ-neighbors of a is at least (1+ε)|a|.
Example 11.4.16. Let G be a locally finite bipartite Borel graph on a Polish
spaceX satisfyingtheMarks–Ungercondition. LetKbethesimplicialcomplex
ontheedgesofGconsistingofallsetsb⊂Gwhichcanbecompletedtoaperfect
matching of G. Then K is Suslin σ-linked.
Proof. Let ε>0 be a real number witnessing the Marks–Unger property of the
graphG. LetE =E betheG-pathequivalencerelationonX. Leta∈K bea
K
set which is a subset of a single E-class; we must calculate the support supp(a)
such that the assumptions of Theorem 11.4.14 are satisfied.
Let supp(a) be the set of all G-edges which are within G-distance at most
8|a|/ε from some edge in a. We must verify the amalgamation condition, i.e. if
a,b∈KaredisjointfinitesetsinthesameE-classsuchthatsupp(a)∩supp(b)=
0,thena∪b∈K. ByHall’smarriagetheorem[38],itisenoughtoverifythatthe

11.4. LOCALLY COUNTABLE SIMPLICIAL COMPLEXES 279
graphG(cid:48) obtainedfromGbyerasingallverticesmentionedinaorbsatisfiesthe
Hall’smarriagecondition: foreachfinitesetcofverticesinthesameequivalence
class as a,b on one side of the bipartition, the set of G(cid:48)-neighbors of c has size
at least |c|. There are two cases:
Case 1. There is a G2-path from some vertex in a to some vertex in b using
onlynodesincastheintermediatesteps. Inthiscase,withoutlossofgenerality
suppose that |a| ≥ |b|, and use the definition of supp(a) to argue that the G2-
path from a to b must contain at least 4|a|/ε-many steps. This means that
|c| > 4|a|/ε. By the initial condition on the graph G, the set c has at least
(1+ε)|c| many G-neighbors and so at least (1+ε)|c|−2|a|−2|b| many G(cid:48)-
neighbors. However, 2|a|+2|b| < ε|c| and so the set c has at least |c|-many
G(cid:48)-neighbors as required.
Case 2. Case1fails. Inthiscase,thesetccanbewrittenasaunionofdisjoint
sets c = c ∪c such that the set c has no common G-neighbors with c , the
a b a b
(cid:83) (cid:83)
setsc and bareG-disconnected,andthesetsc and aareG-disconnected.
a b
Then, since a∈K, the set c has at least |c |-many G(cid:48)-neighbors; since b ∈K,
a a
the set c has at least |c |-many G(cid:48)-neighbors. The G(cid:48)-neighborhoods of c ,c
b b a b
do not overlap by the choice of c and c , and so the set c has at least |c|-many
a b
G(cid:48)-neighbors as desired.
Note that as the graph G is locally finite, maximal K-sets are in fact perfect
G-matchings.
Corollary 11.4.17. Let G be a locally finite Borel bipartite graph on a Polish
space X satisfying the Marks–Unger condition. Let K be the simplicial complex
of partial G-matchings that can be extended to a perfect matching. Let H be an
analytic graph of uncountable Borel chromatic number.
1. In the P -extension of the Solovay model, the chromatic number of H is
K
uncountable;
2. itisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a perfect G-matching, and the chromatic number of H is uncountable.
Question 11.4.18. Is there a locally finite, bipartite Borel graph G satisfying
the Marks–Unger condition such that the associated control poset is not Suslin
σ-centered? Such that in ZF+DC, the existence of perfect matching for G is
equivalent to some Borel hypergraph having countable chromatic number?
To many hypergraphs of arity greater than two it is possible to add a coloring
while preserving uncountable chromatic numbers of analytic graphs purely as a
matter of arity. Consider the following:
Example 11.4.19. Let Z act on a Polish space X in a Borel free way. Let G
be the hypergraph of all triples {x ,x ,x } such that there is n ∈ ω such that
0 1 2
n·x = x and n·x = x . Let K be the simplicial complex of partial finite
0 1 1 2
colorings of the hypergraph G with colors coming from ω. The complex K is
Suslin σ-linked.

280 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Proof. NotethatKisinfactasimplicialcomplexonX×ω. Itiseasytoobserve
that E =E is the equivalence relation on X×ω connecting (cid:104)x,n(cid:105) and (cid:104)y,m(cid:105)
K
just in case x,y ∈ X are orbit-equivalent. Let a ∈ K be a nonempty finite
partial G-coloring in a single E-class. We will compute a support supp(a) such
that if a,b∈K are subsets of the same E-class and supp(a)∩supp(b)=0 then
a∪b∈K. This will be enough by Theorem 11.4.14.
Let n(a)∈ω be the smallest number larger than all elements of rng(a) and
all numbers n such that there are points x ,x ∈ dom(a) with n·x = x .
0 1 0 1
Let supp(a) = {(cid:104)m · x,k(cid:105): x ∈ dom(a),k ∈ n(a) and m ∈ Z is of absolute
valuesmallerthann(a)}. Weclaimthatthefunctionsuppworksasrequiredin
Theorem 11.4.14. Suppose that a,b∈K are colorings in the same E-class with
disjoint supports; we must show that a∪b ∈ K. It is not hard to check that
a∪b is in fact a function. To see that it is a G-coloring, let {x ,x ,x } ∈ G
0 1 2
be a hyperedge which is a subset of dom(a)∪dom(b); we must show that the
coloringa∪bisnotconstantonit. Ifitisasubsetofdom(a)ordom(b),thenwe
are done as both a,b are G-colorings. Otherwise, two of the points (say x ,x )
0 1
wouldhavetobeinthedomainofoneofthecolorings(saya)andtheremaining
point (z) has to be in the domain of the other coloring (b). If b(z)(cid:54)=a(x ) then
0
we are done. However, b(z) = a(x ) is impossible: then b(z) ∈ n(a) and so
0
(cid:104)z,b(z)(cid:105)∈supp(a)∩supp(b), violating the initial assumptions on a,b.
In order to force a total G-coloring, we need to choose a cofinal subset L ⊂ K
such that L-regular maximal K-sets are in fact total colorings. One possible
choice is L = {a ∈ K: for every infinite E-class c ⊂ X, dom(a) ∩ c is a
subinterval of the shift order on c, and the values of a at the endpoints of
this interval are larger than the length of the interval}. The verification of the
requisite property of L is easy and left to the reader.
Corollary 11.4.20. Let G bethehypergraphand (cid:104)K,L(cid:105) bethe locallycountable
pair of Example 11.4.19. Let H be an analytic graph of uncountable chromatic
number.
1. In the P -extension of the Solovay model, the chromatic number of H is
KL
uncountable;
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds and
the chromatic number of G is countable while the chromatic number of H
is uncountable.
11.5 Larger graphs
In this section, we study the options for adding Γ-colorings with countably
many colors to various, not necessarily locally countable Borel graphs Γ on
Polishspaceswhilepreservingthemainfeaturesoflocallycountablestructures.
The main tool is the control forcing of finite approximations to such colorings,
as recorded in the following definition.

11.5. LARGER GRAPHS 281
Definition 11.5.1. Let Γ be a Borel graph on a Polish space X. K is the
Γ
simplicialcomplexonX×ω consistingoffinitesetsa⊂X×ω whicharepartial
Γ-colorings. K is viewed as a poset ordered by reverse inclusion.
Γ
In order to extract desirable properties of the poset K , we deal with graphs
Γ
withforbiddensubgraphs. Thefollowingdefinitionrecordsthepatternswewish
to prohibit later; all of them are bipartite graphs.
Definition 11.5.2. Let n∈ω be a natural number.
1. K is the bipartite graph on 2×n connecting any pair of vertices with
n,n
distinct first coordinates;
2. K is the bipartite graph on the disjoint union of n and ω connecting
n,ω1 1
all elements of n to all elements of ω ;
1
3. K→ isthegraphon2×ω consistingofallpairs{(cid:104)0,m(cid:105),(cid:104)1,k(cid:105)}suchthat
ω,ω
m∈k.
Thefirstthreetheoremsofthissectiondealwiththedefinabilityandregularity
properties of the control forcing.
Theorem 11.5.3. Let Γ be a Borel graph on a Polish space X which for some
n∈ω does not contain an injective homomorphic image of K . Then K is
n,ω1 Γ
a very Suslin c.c.c. partial ordering.
Note that in this case the graph Γ has countable coloring number by a result
of [25]. Observe also that the hypothesis on the graph is absolute throughout
all forcing extensions. It simply says that for all injective tuple (cid:126)x∈Xn, the set
{y ∈ X: ∀i ∈ n (cid:126)x(i) Γ y} is countable. By the perfect set theorem for Borel
sets, this is equivalent to the statement that for all injective tuples (cid:126)x∈Xn and
allcontinuousmapsπ: 2ω →X,eithertherearedistinctpointsz ,z ∈2ω such
0 1
that π(z ) = π(z ) or there is a point z ∈ 2ω and a number i ∈ n such that
0 1
π(z) Γ (cid:126)x(i) fails. A closer reading of the formula reveals that it is ≯1 and so
2
the Shoenfield absoluteness applies to it.
Proof. Write K = K . It is clear that K is a Suslin poset. For the c.c.c. part
Γ
of the theorem, let A={a : α∈ω } be an uncountable set; we must produce
α 1
two compatible elements in it. Let M be a countable elementary submodel of
a large structure containing Γ and A. Let α ∈ ω \M be any ordinal, and let
1
b = a (cid:22) M. By the elementarity of the model M, there have to be infinitely
α
many ordinals β such that b⊂a .
α
For each y ∈dom(a )\b, the set u ={x∈M ∩X: xΓy} must have size
α y
less than n: otherwise, one can find distinct elements {x : i∈n}⊂y and place
i
y in the set {z ∈ X: ∀i ∈ n x Γ z}. The latter set is countable by the initial
i
assumption on Γ, it is an element of the model M and by elementarity of M it
is a subset of M. This would contradict the choice of the point y.
Now, by elementarity of the model M, there is an ordinal β ∈M ∩ω such
1
(cid:83)
that b ⊂ dom(a ) and dom(a )∩ u = dom(b). It is not difficult to check
β β y y
that a ,a are compatible as desired.
α β

282 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
We turn to the proof of the very Suslin property. By the assumptions, the
set B = {(cid:104)(cid:126)x,y(cid:105) ∈ Xn×X: (cid:126)x is injective and ∀i ∈ n (cid:126)x(i) Γ y} is Borel and all
of its vertical sections are countable by the initial assumption on the graph Γ.
Use the Lusin–Novikov theorem to find Borel functions {f : i∈ω} from Xn to
i
(cid:83)
X such that B ⊂ f .
i i
Now, let C ⊂ K be a countable set. Write supp(C) ⊂ X for the closure
(cid:83)
of the set dom(c) under the functions f for i ∈ ω. We claim that the
c∈C i
following are equivalent:
• C is predense;
• foreveryb∈K withdom(b)⊂supp(C)thereisc∈C suchthatc∪b∈K.
This will show that the collection of (enumerations of) countable predense sub-
setsofKwhicharepredenseisBorel,sincetheseconditemclearlygivesaBorel
description of it.
Now, the first item certainly implies the second. The opposite implication
is the heart of the matter. Suppose that the first item fails, and let a ∈ K be
a condition such that for every c ∈ C c∪a ∈/ K holds. Note that for every
y ∈ dom(a)\supp(C), the set u = {x ∈ supp(C): x Γ y} must have size less
y
than n, otherwise y ∈supp(C) would hold by the initial choice of the functions
(cid:83)
f . Strengthening a if necessary then, we may assume that u ⊂ dom(a).
i y y
Let b=a(cid:22)supp(C) and argue that b witnesses the failure of the second item.
Let c ∈ C be an arbitrary element. Since c is incompatible with a, there
must be either some x ∈ dom(c)∩dom(a) such that c(x) (cid:54)= a(x), or some Γ-
connected x ∈ dom(c) and y ∈ dom(a) such that c(x) = a(y). In the former
case, x ∈ supp(C) and so x ∈ dom(b) witnesses the incompatibility of b,c. In
the latter case, if y ∈ supp(C) then y ∈ dom(b) witnesses the incompatibility
of b,c. If y ∈/ supp(C) then x ∈ dom(b) by the strengthening of a, and then
b(x)(cid:54)=a(y)=c(x) and so x witnesses the incompatibility of b,c again.
Theorem 11.5.4. Let Γ be a Borel graph on a Polish space X such that there
is no injective homomorphism from K→ to Γ. Then K ordered by reverse
ω,ω Γ
inclusion is a Suslin σ-liminf-centered poset.
Note that we are not asserting that the poset K must be very Suslin in this
Γ
case; we do not know that.
Proof. Foreachnumbern∈ω letA ={a∈K: |dom(a)|<nandrng(a)⊂n}.
n
(cid:83)
It is clear that each set A is Borel and K = A . Assume that one of the
n n n
sets A is not liminf-centered and work to produce an injective homomorphism
n
from K→ to Γ. This will prove the theorem.
ω,ω
Suppose that {a : i ∈ ω} is a collection of conditions in A such that it is
i n
outright forced by K that a belongs to the generic filter for only finitely many
i
values of i ∈ ω. Let b ∈ K be inclusion-maximal such that b ⊂ a holds for
i
infinitely many i ∈ ω; thinning out the original collection if necessary, we may
assume that b ⊂ a holds for all i ∈ ω. Thinning out even further, we may
i
assume that the sets dom(a \b) for i∈ω are pairwise disjoint.
i

11.5. LARGER GRAPHS 283
By recursion on j ∈ω build conditions c ∈K such that
j
• b⊂c ;
j
(cid:83) (cid:83)
• for all x∈ dom(c \b)∪ dom(a \b), c (x)>n;
k∈j k k∈j k j
• for all but finitely many numbers i∈ω, c ∪a ∈/ K.
j i
This is possible by the initial assumptions on the collection {a : i ∈ ω}. Note
i
that the first and third item imply that for a given j ∈ ω, for all but finitely
many numbers i ∈ ω there are elements x ∈ dom(c ) and y ∈ dom(a \b) such
j i
that x Γ y and c (x) = a (y) both hold. In addition, the point x ∈ X cannot
j i
(cid:83) (cid:83)
belong to dom(c )∪ dom(a ) by the second item.
k∈j k k∈j k
Now, let ≺ be any linear ordering of the space X. For numbers j,t write
(cid:83) (cid:83)
x(j,t)forthet-thelementofdom(c )\ dom(c )∪ dom(a )intheor-
j k∈j k k∈j k
dering≺. Similarly,writey(i,s)forthes-thelementofdom(a )intheordering
i
≺. Let U be a nonprincipal ultrafilter on ω. For each j ∈ω there are numbers
t ∈ |dom(c )| and s ∈ n such that the set a = {i ∈ ω: x(j,t ) Γ y(i,s )}
j j j j j j
belongs to the ultrafilter U. Also, there is a set d⊂ω in U and a number s∈ω
such that for all j ∈ d, s = s holds. Now by recursion on k ∈ ω define an
j
(cid:84)
increasing sequence of numbers j so that j ∈d∩ a . Finally, define the
k k l∈k jl
map π: 2×ω →X by π(0,k)=x(j ,t ) and π(1,k)=y(j ,s). It is not
2k j2k 2k+1
difficult to see that π is an injective homomorphism of K→ to Γ.
ω,ω
Theorem 11.5.5. Let Γ be a Borel graph on a Polish space X containing no
injective homomorphic image of K for some number n ∈ ω. Then the poset
n,n
K is Suslin σ-Ramsey-centered.
Γ
Proof. Write K = K . For a number m ∈ ω let A = {c ∈ K: |dom(c)| ≤ m
Γ m
(cid:83)
andrng(m)⊂m}. Clearly,thesetsA areallBorelandK= A . Itwillbe
m m m
enough to prove that each number m∈ω, the set A ⊂K is Ramsey-centered.
m
Let k ∈ ω be an arbitrary number greater than 2n. We have to find l ∈ ω
such that every set {c : i∈l}⊂A contains a subset of size k with a common
i m
lower bound. We will show that any number l such that l → (k)2 works.
2m2+1
To see this, let {c : i ∈ l} ⊂ A be a set. Let ≺ be any linear ordering of
i m
the space X, for each i,u ∈ ω write c for the u-th element of dom(c ) in the
iu i
ordering ≺ if it exists, and define a partition π: [l]2 → (m×m×2)∪{∞} by
requiring the following. If i ∈ j ∈ l and π(i,j) = (cid:104)u,v,0(cid:105) then c = c and
iu jv
c (c ) (cid:54)= c (c ); if π(i,j) = (cid:104)u,v,1 then c Γ c and c (c ) = c (c ); and if
i iu j jv iu jv i iu j jv
π(i,j)=∞ then no u,v as in the previous items can be found.
Use the Ramsey property of the number l to find a set a⊂l of size k which
is homogeneous for the partition π. It is enough to argue that the set {c : i ∈
i
a} has a common lower bound. To see this, inquire about the homogeneous
partition value achieved. It cannot be of the form (cid:104)u,v,0(cid:105) because then the
coloring c has irreconcilable candidates for the value of c (c ), where i is the
i i iu
second number in the set a. The homogeneous partition value cannot be of
the form (cid:104)u,v,1(cid:105) since then the points c where i ranges over the first n many
iu
elements of a, and c where j ranges over the second n-many elements of a,
jv

284 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
form an injective homomorphic copy of K in Γ, contradicting the initial
n,n
assumptionsonΓ. Thus,thehomogeneouscoloris∞,whichpreciselysaysthat
(cid:83)
c isafunctionwhichisaΓ-coloringandthereforeacommonlowerbound
i∈a i
of the conditions c for i∈a.
i
Finally, we are ready to prove some preservation results.
Theorem 11.5.6. Let Γ be a Borel hypergraph on a Polish space X contain-
ing no injective homomorphic image of K→ and K for some n ∈ ω. Let
ω,ω n,ω1
∆ be a Borel graph which does not have Borel σ-finite clique number. In the
P -extension of the symmetric Solovay model, the chromatic number of ∆ is
Γ
uncountable.
Proof. By Fact 11.1.26 it is enough to prove this for the graph ∆ on ωω which
is the skew product of countably many cliques on ω. Write also P = P and
Γ
K = K . Let κ be an inaccessible cardinal, let W be the symmetric Solovay
Γ
model derived from κ, and work in W. Suppose that p ∈ P is a condition
and τ is a P-name such that p (cid:13) τ: ωω → ω is a function. We must find a
condition p¯ ≤ p, ∆-connected points y ,y ∈ ωω and a number m such that
0 1
p¯(cid:13)τ(y )=τ(y )=mˇ.
0 1
Strengthening the condition p if necessary, we may assume that whenever
x for i ∈ n are distinct elements of dom(p) and y ∈ X is a point Γ-connected
i
to them all, then y ∈ dom(p) holds. The condition p and the name τ are all
definable in the model W from ground model parameters and som additional
parameter z ∈ 2ω. Let V[K] be an intermediate model obtained by forcing of
size less than κ such that z ∈ V[K] and work in V[K]. Consider the iteration
Q∗R˙ where Q is the Cohen forcing Q on ωω, and R˙ is (forced to be) the finite
supportiterationoflengthω whoseiterandsaretheposetsKevaluatedintheir
1
respective models. Let M denote the model obtained after the initial segment
α
of the iteration R˙ of length α and let η be the union of the generic filter on K
α
at the α-th stage of the iteration. Thus, R forces η to be a Γ-coloring on the
α
domain X∩M .
α
Tosmoothoutthevariouscoloringsη toasingletotalΓ-coloringextending
α
p, we need a small claim:
(cid:83)
Claim 11.5.7. Let y ∈ X ∩M \ M be a point. Then the set {x ∈
α β∈α β
(cid:83)
X∩ M : xΓy} has size less than n.
β∈α β
Proof. If this failed, then (regardless of whether α is limit or successor) there
would be a fixed ordinal β ∈ α and pairwise distinct points x ∈ X ∩M for
i β
i∈nsuchthatx Γy holdsforalli∈n. Butthen,bytheinitialassumptionon
i
Γ the set of all points simultaneously connected to all x for i∈n is countable,
i
coded in M , and so a subset of M . This means that y ∈ M , contradicting
β β β
the initial assumptions on the point y.
Let {b : k ∈ω} be a recursive partition of ω into infinite sets. Now, define the
k
Q∗R˙-nameσ foratotalΓ-coloringbythefollowingrecursiveformula. σ (cid:22)M is
0
definedforapointy ∈M sothatify ∈dom(p)thenσ(y)=p(y);ify ∈/ dom(p)
0

11.5. LARGER GRAPHS 285
then σ(y) is the smallest element of b which is distinct from all colors p(x)
η0(y)
for points x∈dom(p) which are Γ-connected with y. If α>0 then let σ(y) be
the smallest element of b which is distinct from all colors p(x) for points
(cid:83)
ηα(y)
x ∈ X ∩ M which are Γ-connected with y. Note that the definition is
β∈α β
correct as the number of colors in the set b we must avoid is at most n by
ηα(y)
the claim and the initial assumption on p.
Now, observe that σ is really a name for a Γ-coloring. To see this, suppose
that y ,y ∈ X are Γ-connected points which appear in the models M and
0 1 α0
M respectively. For definiteness assume that α ≤ α holds. If α = α ,
α1 0 1 0 1
then σ(y ) (cid:54)= σ(y ) must hold as η(y ) (cid:54)= η(y ) holds. If α < α then σ(y )
0 1 0 1 0 1 1
is distinct from all colors of points assigned to the points Γ-connected to y
1
and belonging to the models with smaller index, in particular σ(y ) (cid:54)= σ(y ).
1 0
Observealsothatthenameσ doesnotdependontheQ-genericpoint,butonly
on the model this point generates over V[K].
Total Γ colorings are balanced virtual conditions in P by Theorem 8.1.2.
Thus, writing χ for the Q-name for the generic element of ωω added by the
poset Q, a balance argument shows that Q∗R˙ (cid:13) Coll(ω,< κ) (cid:13) σ decides in
P the value of τ(χ). Let (cid:104)q,r˙(cid:105) be a condition in the iteration Q∗R˙ and let
m∈ω beanumbersuchthat(cid:104)q,r˙(cid:105)(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)τ(χ)=mˇ. Byachain
condition argument, there is a countable ordinal α such that q (cid:13) r˙ ∈ R˙ , the
α
intial segment of the iteration R of length α.
The poset K is very Suslin and Suslin σ-liminf-centered by Theorems 11.5.3
and11.5.4. ItfollowsbyTheorem11.3.20thatR isSuslinσ-liminf-centered;let
α
(cid:83)
R = A be its cover by analytic liminf-centered pieces. Strengthening q if
α k k
necessary,wemayassumethatthereisk ∈ω suchthatq (cid:13)r˙ ∈A ; inaddition,
k
q is one of the finite sequences used in the definition in the skew product ∆.
Let y ∈ ωω be a point Cohen generic over V[K] such that q ⊂ y, and for each
number l∈ω let y ∈ωω be the point resulting from rewriting the first entry of
l
y past q with l. Thus, the points y form a ∆-clique, they are all Cohen-generic
l
overV[K],andtheyallgeneratethemodelV[K][y]. Bytheliminf-centeredness
of the set A , there is a condition s ∈ R which forces the set {l ∈ ω: r˙/y
k α l
belongs to the generic filter} to be infinite. Let H ⊂ R be a filter generic over
V[K][y]meetingtheconditions. InV[K][y][H],letp¯=σ/H; thisisabalanced
condition for the poset P. Let y ,y ∈ωω be two distict points such that the
l0 l1
conditionsr˙/y ,r˙/y bothbelongtothefilter H. Theforcingtheoremapplied
l0 l1
in the model V[K] shows that in the model W, p¯(cid:13) τ(yˇ ) = τ(yˇ ) = mˇ as
P l0 l1
desired.
Theorem 11.5.8. Let Γ be a Borel hypergraph on a Polish space X containing
no injective homomorphic image of K for some n ∈ ω. Let ∆ be a Borel
n,n
graph which does not have Borel σ-bounded clique number. In the P -extension
Γ
of the symmetric Solovay model, the chromatic number of ∆ is uncountable.
Proof. In view of Fact 11.1.24, it is enough to prove the theorem for a specific
(cid:81)
graph ∆. Let Y be the product (n+1) and let ∆ be the graph on Y which
n
is the skew product of cliques on the sets n+1 for n ∈ ω. The proof now

286 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
proceeds just as in Theorem 11.5.6; we only indicate the differences. The space
ωω is naturally replaced with Y. The last paragraph is then amended to the
following.
TheposetKisverySuslinandSuslinσ-Ramsey-centeredbyTheorems11.5.3
and 11.5.5. It follows by Theorem ?? that R is Suslin σ-Ramsey-centered; let
α
(cid:83)
R = A beitscoverbyanalyticRamsey-centeredpieces. Strengtheningqif
α k k
necessary, we may assume that there is k ∈ω such that q (cid:13)r˙ ∈A . Let m∈ω
k
besuchthatanym-tupleofelementsofA containstwocompatibleconditions.
k
Strengthening q further if necessary, we may assume that q is one of the finite
sequences used in the definition in the skew product ∆, and the length of q is
greaterthanm. Lety ∈Y beapointCohengenericoverV[K]suchthatq ⊂y,
and for each number l ∈ |q| let y ∈ ωω be the point resulting from rewriting
l
the first entry of y past q with l. Thus, the points y form a ∆-clique, they
l
are all Cohen-generic over V[K], and they all generate the model V[K][y]. By
thechoiceofthe numberm, therearedistinct numbersl ,l ∈|q| such thatthe
0 1
conditionsr˙/y andr˙/y arecompatible,withalowerbounddenotedbys. Let
l0 l1
H ⊂R be a filter generic over V[K][y] meeting the condition s. In V[K][y][H],
let p¯= σ/H; this is a balanced condition for the poset P.The forcing theorem
appliedinthemodelV[K]showsthatinthemodelW,p¯(cid:13) τ(yˇ )=τ(yˇ )=mˇ
P l0 l1
as desired.
Example 11.5.9. Let Γ be the graph H . It does not contain an injective
<ω
homomorphic copy of K , since for any point x, the points Γ-connected to it
2,ω
form a sequence converging to x; therefore, any two distinct points can have
only finitely many common neighbors.
Theorem 11.5.6 now yields
Corollary 11.5.10. Let Γ be the graph H .
<ω
1. In the P -extension of the Solovay model, the graph H has uncountable
Γ ω
chromatic number. In particular, there is no E -transversal;
0
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds and
the chromatic number of H is countable and the chromatic number of
<ω
H is uncountable.
ω
Example 11.5.11. Let(cid:126)r be a sequence of positive real numbers converging to
zero. Let Γ be the graph on X = R2 connecting two points if their Euclidean
distance is on the sequence (cid:126)r. The graph Γ does not contain an injective ho-
momorphic copy of K : if x ,x ∈ X are distinct points and ε > 0 is some
3,ω 0 1
real number, then there are only finitely many points in the plane which are
Γ-connected to both and of > ε-distance to both. Now, if x ,x ,x ∈ X are
0 1 2
distinct points and ε>0 is smaller than half of the minimum distance between
two of the three, we see that every point of the plane is at a distance >ε from
two of the three, and so there are only finitely many points Γ-connected to all
three.

11.6. COLLAPSES 287
Theorem 11.5.6 now yields
Corollary 11.5.12. Let (cid:126)r be a sequence of positive real numbers converging to
zero. Let Γ be the graph on X = R2 connecting two points if their Euclidean
distance is on the sequence (cid:126)r.
1. In the P -extension of the Solovay model, the graph H has uncountable
Γ ω
chromatic number. In particular, there is no E -transversal;
0
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds, the
chromatic number of Γ is countable and the chromatic number of H is
ω
uncountable.
Example 11.5.13. Let D ⊂ R be a Borel set algebraically independent over
Q, consisting of positive reals. Let Γ be the graph on X = R2 connecting two
points if their Euclidean distance belongs to D. The graph Γ does not contain
an injective homomorphic copy of K for some large number n [59, Theorem
n,n
1]
Corollary 11.5.14. Let D ⊂ R be a Borel set algebraically independent over
Q, consisting of positive reals. Let Γ be the graph on X = R2 connecting two
points if their Euclidean distance belongs to D.
1. In the P -extension of the Solovay model, the diagonal Hamming graph
Γ
H has uncountable chromatic number;
<ω
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds, the
chromatic number of Γ is countable and the chromatic number of H is
<ω
uncountable.
11.6 Collapses
Inthissection,weconsidertheproblemsofintroducinganinjectionfrom|F|to
2ω or to E , for a given pinned Borel equivalence relation F. It turns out that
0
the natural forcings preserve uncountable chromatic numbers of many graphs
and hypergraphs. In particular, they do not introduce a total E -transversal.
0
We start with the collapse to 2ω.
LetE beapinnedequivalencerelationonaPolishspaceX. Recallthedefi-
nitionoftheposetcollapsing|E|to|2ω|fromDefinition6.6.2: P bethepartial
E
order of pairs p = (cid:104)a ,b (cid:105) where a : X → 2ω is a countable partial function
p p p
such that for x ,x ∈ dom(a ), x E x iff a (x ) = a (x ), and b ⊂ 2ω is
0 1 p 0 1 p 0 p 1 p
a countable set disjoint from rng(a ). The ordering is that of coordinatewise
p
reverseinclusion. ItisimmediateinZF+DCthattheorderingP isSuslinand
E
σ-closed, and the union of the P -generic filter is an injection from the set of
E
E-classes to 2ω. The balanced conditions are classified by all such injections as
proved in Theorem 6.6.3.

288 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Theorem 11.6.1. Let E be a pinned Borel equivalence relation on a Polish
space X. Suppose that G is an analytic finitary hypergraph on a Polish space
Y which does not have Borel σ-bounded fractional chromatic number. In the
P -extension of the Solovay model, the chromatic number of G is uncountable.
E
Proof. In view of Fact 11.1.22 it is enough to consider the case of a large mea-
sured skew product G. Find a sequence (cid:104)a ,H ,t : n∈ω(cid:105) which generates G
n n n
(cid:81) (cid:81)
as in Definition 11.1.21. Thus, Y = a and G= H ,t .
n n n n n
Now,considerthecontrolposetQ: itconditionsarefinitefunctionsa: X →
2<ω such that for some n ∈ ω, rng(a) ⊂ 2n, and for points x ,x ∈ dom(a),
0 1
x E x iff a(x )=a(x ). The ordering is defined by b≤a if dom(a)⊂dom(b)
0 1 0 1
and for all x∈dom(a), a(x)⊂b(x). The following is the key observation.
Claim11.6.2. QisaverySuslinc.c.c.poset. Inaddition,itisSuslinmeasured.
Proof. It is clear that Q is very Suslin. To check the very Suslin property of Q,
suppose that a ⊂ Q is a countable set. It is not difficult to see that if there is
a condition r ∈Q incompatible with all elements of a, then there is one whose
(cid:83)
support is a subset of supp(q). The search for an incompatible condition
q∈a
among the countably many conditions of this type is a Borel procedure.
To verify the Suslin measured property of Q, consider the function m: Q→
(0,1] defined by m(q) = 2−n2−k where n ∈ ω is such that rng(q) ⊂ 2n, and
k ∈ ω is such that dom(q) has nonempty intersection with exactly k many E-
classes. For each positive rational number ε > 0 let A = {q ∈ Q: m(q) > ε}.
ε
(cid:83)
Since the sets A ⊂ Q are all analytic and Q = A , it is enough to show,
ε ε ε
given ε > 0 and a finite sequence (cid:104)q : i ∈ j(cid:105) of elements of the set A , there is
i ε
a set b ⊂ j of size greater than εj such that the conditions p for i ∈ b have a
i
common lower bound.
To this end, let a be the set of all E-classes with nonempty intersection
with (cid:83) dom(q ). Let µ be the usual probability measure on 2ω and let λ be
i i
the product measure on Y = (2ω)a. Define the set B ⊂ j ×Y as the set of
all pairs (cid:104)i,y(cid:105) such that ∀x ∈ dom(q ) q (x) ⊂ y([x] ). By the definition of
i i E
the function m, the vertical sections B have λ-mass > ε each. By the Fubini
i
theorem applied to the counting measure on j and λ, there must be a point
y ∈ Y such that the horizontal section By has size greater than εj. It is easy
to check that the set {q : i∈By} has a common lower bound in Q.
i
Note that a generic filter G ⊂ Q induces a function defined by f(x) =
(cid:83)
{p(x): p ∈ G} whenever x ∈ X is a ground model point. It is clear that
dom(f) consists of the ground model elements of X, for all such points x ,x ∈
0 1
X x E x iff f(x ) = f(x ) holds, and moreover the range of f consist of
0 1 0 1
elements of 2ω which are not in the ground model.
Now, suppose that p∈P is a condition. Consider the poset R which is the
finite support iteration of the posets Q of length ω . Let f˙ : X → 2ω be the
1 α
R-nameforthepartialfunctiondefinedbythegenericfilterontheα-thiterand.
Let M be the R-name for the model obtained from the first α many iterands.
α
Consider the R-name σ for a function from E-classes to 2ω such that if c is an

11.6. COLLAPSES 289
E-classindom(p)thenσ(c)=p(c),andifcisanE-classnotinσ andα∈ω is
1
the first ordinal such that c is represented in M , then f(c)=y for the unique
α
y ∈2ω suchthatforallpointsx∈c∩V ,f (x)=y. Itisnotdifficulttoseethat
α α
R forces σ to be an injection of the set of E-classes to 2ω. By Theorem 6.6.3,
σ represents a balanced condition in the collapse poset P, and it is not hard to
see that this balanced condition is below p.
Finally,wearereadyforthemainbodyoftheproof. Letκbeaninaccessible
cardinal, let W be a Solovay model derived from κ, and work in W. Suppose
that p ∈ P is a condition and τ is a P-name such that p (cid:13) τ: Y → ω is a
F
function. We must find a condition p¯≤ p, a number n ∈ ω, and a hyperedge
e ∈ G such that for all y ∈ e, p¯(cid:13) τ(yˇ) = mˇ. The condition p ∈ P and the
E
name τ are definable from parameters in the ground model and a parameter
z ∈2ω. Let V[K] be an intermediate extension obtained by a poset of size <κ
which contains the parameter z and work in the model V[K].
ConsidertheiterationS∗R˙ where S istheCohenposetonthespace Y and
R˙ isthefinitesupportiterationofthecontrolposetoflengthω . Lety˙ bean
1 gen
S-nameforthegenericpointinthespaceY,andintheS-extensionletσ bethe
R-name for the balanced condition in P below p as isolated in the preliminary
E
part of this proof. Note that the name σ does not depend on y˙ per se, but
gen
onlyonthemodelgeneratedbyy˙ . Byastandardbalanceargument, S∗R˙ (cid:13)
gen
Coll(ω,< κ) (cid:13) ∃m ∈ ω σ (cid:13) y˙ ∈ B . Thus, let (cid:104)s,r˙(cid:105) ∈ S∗R˙ be a condition
gen m
and m∈ω be a number such that (cid:104)s,r˙(cid:105)(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)y˙ ∈B˙ . Now,
gen m
strengthening s if necessary, we may assume that
• there is a specific countable ordinal α∈ω such that s(cid:13)r˙ is a condition
1
in the iteration R up to α;
α
• sincetheposetR isverySuslinandSuslinmeasuredbyTheorem11.3.15,
α
wemayfindanalyticsetsA ⊂R andpositiverationalsε >0forn∈ω
n α n
witnessingtheSuslinmeasuredpropertyofR . Wemayassumethatthere
α
is a specific n such that s(cid:13)r˙ ∈A .
n
• there is a number k ∈ω such that 1/k <ε and s=t .
n k
Now, let y ∈ Y be a point generic over V[K] such that s ⊂ y and work in
V[K][y]. Foreachi∈a lety ∈Y bethepointobtainedfromybyrewritingthe
k i
k-thentryofy withi. InthemodelV[K][y], foreachi∈a letr =r˙/y ∈R .
k i i α
Since r ∈A holds for all i∈a , there is a set b⊂a of size at least |a |/k+2
i n k k k
suchthattheconditions{r : i∈b}havenonzerocommonlowerbound. Bythe
i
initial assumption on the hypergraph H , the set b is not an H -anticlique; let
k k
c ⊂ b be an H -hyperedge. Thus, we have {y : i ∈ c} ∈ G. Let H ⊂ R be a
k i
filtergenericoverV[K][y]containingalltheconditionsr fori∈candp¯=σ/H
i
its associated balanced condition. By the forcing theorem, in the model W
p¯(cid:13)∀i∈c τ(y )=mˇ. This completes the proof.
i
Among the many preservation consequences of the theorem, we state the most
striking one.

290 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Corollary 11.6.3. Let P be the collapse poset of E to 2ω.
0
1. In the P-extension of the Solovay model, the chromatic number of the
diagonal Hamming graph is uncountable;
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds and
|E |≤|2ω| and yet the chromatic number of the diagonal Hamming graph
0
is uncountable; in particular, there is no E -transversal.
0
Note that the collapse does change some chromatic numbers to their lowest
possible value; for example, it forces the chromatic number of H to be equal
2
to two, by Proposition 11.1.6. The following example shows a somewhat more
dramatic case of this behavior, as the hypergraph in question does not have
Borel σ-bounded chromatic number. The example also shows that the use of
the fractional chromatic number in place of the usual chromatic number is to
some extent necessary in the assumption of the theorem.
Example 11.6.4. Let E be a Borel equivalence relation on a Polish space X.
Let Q be the poset of all pairs q = (cid:104)a ,b (cid:105) of finite subsets of X such that
q q
(a ×b )∩E =0; the ordering is that of coordinatewise reverse inclusion. Let
q q
G be the graph connecting two conditions in Q if they are incompatible. Then
in ZF, |E|≤|2ω| if and only if the chromatic number of G is countable.
Note that the graph G does not have Borel σ-bounded chromatic number as
soon as the equivalence relation E is non-smooth as per Example 11.1.19. In
particular, there is a Borel graph which does not have Borel σ-bounded chro-
maticnumber,yetthecollapseof|E |to|2ω|forcescountablechromaticnumber
0
to it.
Proof. For the left-to-right direction, let h: X →2ω be a reduction of E to the
identity on 2ω. For every n ∈ ω and every set c ⊂ 2n let B = {q ∈ Q: ∀x ∈
c
a h(x) (cid:22) n ∈ c∧∀x ∈ b h(x) (cid:22) n ∈/ c}. Since the function h is E-invariant,
q q
the sets B ⊂Q are G-anticliques. Now, if q ∈Q is a condition, there is n∈ω
c
such that for all x ∈ a and x ∈ b , h(x ) (cid:22) n (cid:54)= h(x ) (cid:22) n. Thus, writing
0 q 1 q 0 1
c = {h(x) (cid:22) n: x ∈ a }, we conclude that q ∈ B . It follows that Q = (cid:83) B is
q c c c
a cover of Q by countably many G-anticliques.
(cid:83)
Fortheright-to-leftdirection,letQ= B beacoverofQbyG-anticliques.
n n
For each n ∈ ω, let A = [ (cid:83) a ] and let h: X → 2ω be the function de-
n q∈Bn q E
fined by h(x)(n) = 0 if x ∈ A . We claim that this is a reduction of E to
n
the identity on 2ω, thus inducing the desired inequality |E| < |2ω|. To see
this, let x ,x ∈ X be arbitrary points. If x E x holds then h(x ) = h(x )
0 1 0 1 0 1
since the sets A are E-invariant. On the other hand, if x E x fails, then
n 0 1
q =(cid:104){x },{x } is a condition in Q and there must be n such that q ∈B . It is
0 1 n
notdifficulttoseethatthenh(x )(n)=0(cid:54)=h(x )(n)andsoh(x )(cid:54)=h(x ).
0 1 0 1
Nowwemovetothecaseofacollapseof|E|to|E |foraBorelpinnedequivalence
0
relation F. Again, let P be the collapse as defined in Definition 6.6.2. Recall
E
that its balanced conditions are classified by injections from the E-quotient
space to the E -quotient space by Theorem 6.6.3.
0

11.6. COLLAPSES 291
Theorem 11.6.5. Let E be a pinned Borel equivalence relation on a Polish
space X. Let G be a finitary analytic hypergraph on a Polish space Y of un-
countable Borel chromatic number. In the P -extension of the Solovay model,
E
G has uncountable chromatic number.
Proof. Consider the control poset Q: it consists of conditions q such that for
some number n
q
∈ω, q is a finite partial function from X to 2nq. The ordering
is defined by r ≤ q if n ≤ n , dom(q) ⊆ dom(r), for every x ∈ dom(q),
q r
q(x) ⊆ r(x), and for every pair x ,x ∈ dom(q) of E-related points and for
0 1
every m∈n \n , r(x )(m)=r(x )(m).
r q 0 1
Claim 11.6.6. Q is a very Suslin, Suslin σ-centered poset.
Proof. It is immediate that Q is a Suslin poset. For the very Suslin part,
supposethata⊂Qisacountableset. Itisnot difficulttocheckthatifthere is
aconditionq ∈Qwhichisincompatiblewithallconditionsina,thentheremust
(cid:83)
be such a condition q with dom(q) ⊂ dom(r). There are only countably
r∈a
many conditions satisfying the latter formula, and the search in this countable
set for one which is incompatible with all elements of a is a Borel procedure.
FortheSuslinσ-centeredpropertyoftheposetQ,adescriptor ofacondition
q ∈Qisafunctionhwhosedomainisafinitecollectionofpairwisedisjointbasic
open subsets of X such that for each O ∈ dom(h) there is exactly one point
x of dom(q) in O, and for each point of dom(q) belongs to one set in dom(h);
O
moreover, h(O) = q(x ). It is immediate that the set of all conditions with a
O
given descriptor is Borel and σ-centered, every condition has many descriptors,
and there are only countably many possible descriptors in all. Therefore, Q is
Suslin σ-centered as required.
Note that the poset Q adds an injection from the ground model E-classes
to the collection of E -classes which are not represented in the ground model.
0
We denote the name for the injection by η; thus η([xˇ] ) is forced to be the
E
E -class of the point y = (cid:83) {r(x): r is in the generic filter}. Now, let R be the
0
finitesupportiterationoftheposetQoflengthω , addingfunctionsη ateach
1 α
stage of the iteration; we denote by V the generic extension obtained after the
α
α-th stage of the iteration. Let p∈P be any condition. Let σ be the R-name
E
for the injection from the E-quotient space to the E -quotient space defined by
0
σ(c) = a (c) whenever c is an E-class in the domain of a , and σ(c) = η (c)
p p α
whenever c is an E-class which is not in the domain of a and α ∈ ω is the
p 1
first ordinal such that c has a representative in the model V . It is clear that σ
α
is a name for an injection from the E-quotient space to the E -quotient space
0
compatible with the condition p.
The rest of the proof follows closely the argument for Theorem 11.4.5 and
we omit it.
Corollary 11.6.7. Let E be a pinned Borel equivalence relation. Let G be an
analyticfinitaryhypergraphonaPolishspace, withuncountableBorelchromatic
number. It is consistent relative to an inaccessible cardinal that ZF+DC holds,
|E|≤|E | and the chromatic number of G is uncountable.
0

292 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
11.7 Compactly balanced posets
In this section we prove an additional preservation property of compactly bal-
ancedposetsofDefinition9.2.1whichconcernsthelocallycountablestructures.
Definition 11.7.1. LetGbeananalyticfinitaryhypergraphonaPolishspace
X. The hypergraph is actionable if there is a countable group Γ acting on a
Polish space X such that all hyperedges of G consist of pairwise orbit-related
elements and for every γ ∈Γ, γ·G=G.
The following theorem is stated using Convention 1.7.16.
Theorem 11.7.2. Let G be an analytic, finitary, actionable hypergraph on a
Polish space X which does not have Borel σ-bounded chromatic number. Then
in compactly balanced extensions of the Solovay model, G has uncountable chro-
matic number.
The actionable assumption is necessary, see the example below. The main
difference between the general and actionable hypergraphs we exploit is the
following routine strengthening of Fact 11.1.13; instead of skew products we
can deal with the usual product.
Fact 11.7.3. Let G be a finitary analytic actionable hypergraph on a Polish
space X. Exactly one of the following occurs:
1. G has Borel σ-bounded chromatic number;
2. there is a large product H on a Polish space Y and a continuous homo-
morphism h: Y →X of H to G.
Proof. InviewofFact11.7.3,itisenoughtoprovethetheoremforlargeproduct
hypergraphs. Thus,let(cid:104)a ,H : n∈ω(cid:105)beasequencesuchthatforeveryn∈ω,
n n
H isahypergraphonthefiniteseta ,and|a |≥2andthechromaticnumber
n n n
(cid:81)
ofH isatleastn,andassumethatGisinfacttheproducthypergraph H
n n n
(cid:81)
on the space Y = a . With a large product of this form, we associate the
n n
posetRofallfunctionsr withdomainω suchthatforeveryn∈ω,r(n)⊂a is
n
a nonempty set and the chromatic numbers of H on r(n) are unbounded as n
n
tendstoinfinity. TheorderingonRisthatofcoordinatewiseinclusion. Clearly,
the poset R adds a point y˙ ∈Y defined by y˙ (n) is the only element of the
gen gen
(cid:84)
set {r(n): r belongs to the generic filter}. The following claim is key.
Claim11.7.4. TheposetRisproper, bounding, andaddsnoindependentreals.
Proof. The first two assertions of the following claim are standard and proved
by the usual fusion arguments. The last assertion is the heart of the present
proof. Suppose that r ∈ R is a condition and τ is an R-name for a subset
of ω; we have to find a condition s ≤ r and an infinite set c ⊂ ω such that
s (cid:13) cˇ⊂ τ or cˇ∩τ = 0. Strengthening the condition r if necessary, a standard
(cid:81)
fusion argument will yield a continuous function f: r(n)→P(ω) such that
n
r (cid:13)τ =f˙(y˙ ).
gen

11.7. COMPACTLY BALANCED POSETS 293
(cid:81)
Now, let B ⊂ r(n)×ω be the Borel set given by (cid:104)y,n(cid:105) ∈ B if n ∈ f(y)
n
holds. Apartitionresult[84,Theorem1.4]appliedwithaninfinitesubsequence
of the sets r(n) and the chromatic numbers of the hypergraphs H as submea-
n
sures on the sets r(n) shows that there is a condition s ≤ r and an infinite set
(cid:81) (cid:81)
c⊂ω such that either s(n)×c⊂B or ( s(n)×c)∩B =0. In the former
n n
case, s (cid:13) cˇ ⊂ τ; in the latter case, s (cid:13) cˇ∩τ = 0. The claim has just been
proved.
Letκbeaninaccessiblecardinal. LetP beaSuslinposetwhichiscompactly
balanced below κ. Let W be the Solovay model derived from κ and work in the
modelW. Letp∈P beaconditionandτ beaP-namesuchthatp(cid:13)τ: X →ω
is a function. We will find a number m ∈ ω, finite sets a ⊂ X for n ∈ ω, and
n
a condition p¯ ≤ p such that for all n, a cannot be covered by n-many G-
n
anticliques, and p¯(cid:13)∀x∈ (cid:83) a τ(x)=m.
n n
The condition p ∈ P as well as the name τ are definable in the model W
from parameters in the ground model and a parameter z ∈2ω. Let V[K] be an
intermediate forcing extension obtained by a poset of size < κ, containing the
point z. Work in V[K] and consider the poset Q×R where Q is the poset of
infinite subsets of ω ordered by inclusion. Let U ⊂ Q and y ∈ Y be mutually
genericfilterobjectsfortheproduct;soU isinfactanonprincipalultrafilteron
ω in the model V[K][U]. The poset Q is σ-closed, and therefore R computed in
the model V[K][U] is the same as R computed in the model V[K] and y is in
factR-genericoverthemodelV[K][U]. Bythecontinuousreadingofnamesfor
the poset R, the sets P(ω)∩V[K][U][y] and P(ω)∩V[K][y] are the same. By
a mutual genericity argument and the fact that R adds no independent reals,
U generates an ultrafilter on ω in the model V[K][U][y]. Work in the model
V[K][U].
Claim 11.7.5. There is an R-name σ for a balanced condition in P such that
C (cid:13)∀y ∈Y y =y˙ up to finitely many entries→σ/y˙ =σ/γ·y˙ .
gen gen gen
To parse the claim correctly, note that any point of the space Y which is up to
finitelymanyentriesequaltoy˙ isinfactR-genericagainandyieldsthesame
gen
forcing extension. The claim therefore says that the evaluation of the name
σ does not depend on the specific generic point, but only on its modulo finite
equivalence class.
Proof. Choose an arbitrary R-name χ for a balanced condition below the con-
dition p. We now use the ultrafilter U and the compact balance of the poset
P to integrate the name χ. Choose any point y ∈ Y. For each n ∈ ω, let y˙
ω n
be the R-name below C for the element of Y such that y˙ (cid:22) n = y (cid:22) n and
n ω
y˙ (cid:22) [n,ω) = y˙ (cid:22) [n,ω); note that y˙ is forced to be a point R-generic over
n gen n
themodelV[K][U],generatingthesamemodelasy˙ . Letχ bethenamefor
gen n
thebalancedconditionχ/y˙ . Letσ bethenamefortheU-limitofthesequence
n
(cid:104)χ˙ : n ∈ ω(cid:105) in the definable compact Hausdorff topology on the space of all
n
balance classes for P. It is immediate that the name σ works as desired.

294 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Still working in the model V[K][U], find a name σ as in the claim. By a
standard balance argument, R (cid:13) Coll(ω,< κ) (cid:13) σ decides in P the value of
τ(y˙ ). Passing to a condition r if necessary, we may assume that there is a
gen
specific number m ∈ ω such that r (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) τ(y˙ ) = mˇ. Now,
P gen
let y ∈ Y be a point R-generic over the model V[K][U], meeting the condition
r andletp¯=σ/y. Findanumbern∈ω suchthatthesetr(n)containsanH -
n
hyperedge b∈H and for each i∈b let y ∈Y be the point obtained from y by
n i
replacing the n-th entry of y with i. Thus, the set {y : i∈b} is a G-hyperedge
i
(this is exactly the point which does not work if a skew product variation of G
is considered) and for each i∈n we have p¯=σ/y by the choice of the name σ.
i
By the forcing theorem, in the model W p¯(cid:13) ∀y ∈ a τ(y) = mˇ, completing
P n
the proof.
Corollary11.7.6. LetG,H beanalyticlocallycountablehypergraphsonrespec-
tive Polish spaces X,Y such that G has Borel σ-bounded chromatic number and
H is actionable and does not have Borel σ-bounded chromatic number. Then
it is consistent relative to an inaccessible cardinal that ZF+DC holds, G has
countable chromatic number and yet H has uncountable chromatic number.
(cid:83)
Proof. Let X = B be a partition into Borel sets witnessing the Borel σ-
n n
bounded chromatic number of G. Let E be a countable Borel equivalence rela-
tion on X such that all hyperedges of G consist of pairwise E-related elements.
For each n∈ω let P be the poset of functions p whose domain is a countable
n
relatively E-invariant subset of B , range is a subset of n, and p is a partial G-
n
(cid:81)
coloring. TheorderingonP isthatofreverseinclusion. LetP = P . Then
n n n
we see that in P , the balanced conditions are classified by total G-colorings of
n
thesetB whoserangeisasubsetofn. Suchcoloringsnaturallyformacompact
n
subsetofthecompactHausdorffspacenBn,thereforetheposetP
n
iscompactly
(cid:81)
balanced. As a result, even the full support product P = P is compactly
n n
balanced,andthereforeintheP-extensionofthesymmetricSolovaymodel,the
chromatic number of H is uncountable by Theorem 11.7.2. At the same time,
the poset P adds a total G-coloring on the set B with n many colors and
n n
therefore the product P forces G to have countable chromatic number.
Corollary 11.7.7. Let Z act freely and in a measure preserving Borel way on
a Polish probability space (cid:104)X,µ(cid:105). Let G be the hypergraph of arity three on X
containing a triple {x ,x ,x } if there is a number n∈ω such that n·x =x
0 1 2 0 1
and n·x =x . Then
1 2
1. it is consistent relative to an inaccessible cardinal that ZF+DC holds, the
chromatic number of G is uncountable and the chromatic number of G is
0
countable;
2. it is also consistent relative to an inaccessible cardinal that ZF+DC holds,
the chromatic number of G is two and the chromatic number of G is
0
uncountable.

11.7. COMPACTLY BALANCED POSETS 295
Proof. For the first item, use Corollary 11.4.20. For the second item, use Ex-
ample 11.1.20 to show that the hypergraph G does not have Borel σ-bounded
chromatic number; it is clearly actionable. Then, use Theorem 11.7.2 to the
poset P adding a G -coloring with two colors by countable approximations
0
whose domain is E -invariant. It is not difficult to see and follows from Theo-
0
rem6.2.2thatthebalancedconditionsforP areclassifiedbytotalG -colorings
0
with two colors, which naturally form a closed subset of the compact Hausdorff
space 22ω. Thus the poset P is compactly balanced.
Corollary 11.7.8. 1. Let P be the poset of infinite subsets of ω ordered by
inclusion. In the P-extension of the Solovay model, the chromatic number
of H is uncountable.
<ω
2. It is consistent relative to an inaccessible cardinal that there is a nonprin-
cipal ultrafilter on ω and the chromatic number of H is uncountable.
<ω
This is immediate from the fact that the poset P is compactly balanced–
Example 9.2.4. The corollary can be viewed as a commentary on a result of
Rosendal [76]: in ZF+DC, if there is a discontinuous homomorphism between
Polish groups then the chromatic numbers of the Hamming graphs H are fi-
n
nite. Sinceanonprincipalultrafilteronω yieldsadiscontinuoushomomorphism
from the Cantor group 2ω to 2, this result cannot be extended to the diagonal
Hamming graph.
The following two corollaries use compactly balanced posets from Exam-
ples 9.2.11 and 9.2.13.
Corollary 11.7.9. Let E be a Borel equivalence relation on a Polish space X.
1. Let P be the linearization poset for the E-quotient space as in Exam-
ple 8.6.5. In the P-extension of the Solovay model, the chromatic number
of H is uncountable.
<ω
2. It is consistent relative to an inaccessible cardinal that there is a linear
ordering on the E-quotient space and the chromatic number of H is
<ω
uncountable.
Corollary 11.7.10. Let G be a locally finite Borel graph on a Polish space X
satisfying the Hall condition.
1. Let P be the poset adding a perfect matching for G as in Example 6.2.4.
In the P-extension of the Solovay model, the chromatic number of H is
<ω
uncountable.
2. It is consistent relative to an inaccessible cardinal that G has a perfect
matching and the chromatic number of H is uncountable.
<ω
The following example presents a (necessarily) non-invariant hypergraph which
does not have Borel σ-bounded chromatic number, yet it has countable chro-
matic number in some compactly balanced extension of the Solovay model.

296 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES
Example 11.7.11. The actionable assumption cannot be removed from the
assumptions of Theorem 11.7.2.
Proof. Let Γ be the free group on two generators γ,δ. It acts on the space 2Γ
by shift; that is, (β ·x)(α) = x(β−1α) holds for all β,α ∈ Γ and x ∈ 2Γ. Let
X ⊂2Γ be the dense G set on which the action is free. Let E be the Γ-orbit
δ 0
equivalence relation on X. Let E be the orbit equivalence relation induced by
1
thesubgroupofΓgeneratedbyδ. ItisnotdifficulttoseethatE ⊂E areBorel
1 0
equivalence relations. Let G be the hypergraph on X of arity three containing
triples {x ,x ,x } consisting of pairwise E -related points and containing two
0 1 2 0
E -related and two E -unrelated points.
1 1
To see how a compactly balanced poset can make the chromatic number of
G countable, consider the Cayley graph H on X: it connects points x ,x if
0 1
x = γ·x (the γ-edges of H) or x = δ·x (the δ-edges of H) or vice versa.
1 0 1 0
This is an acyclic 4-regular graph whose connectedness components are exactly
theE -classes. InZFC,everyacyclicgraphwithoutverticesofdegree0or1has
0
anorientationinwhicheveryvertexhasout-degreeone,constructedcomponent
by component. The following claim shows the impact of such an orientation on
the hypergraph G:
Claim 11.7.12. (ZF) Suppose that the graph H has an orientation in which
every vertex has out-degree one. Then the chromatic number of G is countable.
Proof. Let H(cid:126) be the orientation. For each x ∈ X the color h(x) is the pair
(cid:104)b = b(x),k = k(x)(cid:105) such that k is the largest possible number such that H(cid:126)
contains an oriented path from x to δck·x for some c∈{−1,1}. If k =0 then
b = 0, otherwise b = c. If such k does not exist,then the color h(x) is ∞. We
claim that h is a G-coloring.
To see this, consider any two E -related points x ,x ∈ X. In the H-path
0 0 1
between x ,x no vertex gets an out-degree two, and that leaves only three
0 1
cases: either the whole path is oriented towards x , or towards x , or towards
0 1
some point in the middle. Now, if h(x )=h(x )=∞ then all three cases show
0 1
that all the edges on the path must be δ-edges and so h(x )E h(x ). If x ,x
0 1 1 0 1
are E -related, say x = δm·x for some m > 0, and h(x ) (cid:54)= ∞, then in the
1 0 1 0
first two cases k(x ) (cid:54)= k(x ) and in the third case b(x ) = 1 (cid:54)= −1 = b(x ).
0 1 0 1
It follows that no G-hyperedge can be monochromatic: the homogeneous color
cannot be ∞ on the account of the two E -unrelated points in the hyperedge,
1
and the homogeneous color cannot be different from ∞ on the account of the
two E -related points in the hyperedge.
1
Claim 11.7.13. The hypergraph G does not have Borel σ-bounded fractional
chromatic number.
Proof. For a point x∈X and a number m∈ω, write a ={δimγjm·x: i,j ∈
xm
m}. Notethattheseta ⊂X isasubsetofasingleE -classandvisitsnmany
xm 0
distinctE -classes, eachinnmanyelements. Asimplecountingargumentthen
1
shows that every subset of a of size m+1 contains a G-hyperedge, and so
xm

11.7. COMPACTLY BALANCED POSETS 297
the fractional chromatic number of G on the set a is not smaller than m as
xm
witnessed by the normalized counting measure on a .
xm
(cid:83)
Now, suppose that X = B is a partition into Borel sets. By the Baire
n n
category theorem, there is a number n ∈ ω such that B is not meager. In
n
view of the first paragraph, to prove the claim it will be enough that for all but
finitelymanym∈ωthereisapointx∈X suchthata ⊂B . Tothisend,let
xm n
t: Γ→2 be a finite partial function such that B is comeager in [t]. Let m∈ω
n
be larger than the length of any word in t; we will find a point x∈X such that
(cid:83)
a ⊂ B . Just let s = {t : i,j ∈ m} where t : Γ → 2 is a finite partial
xm n ij ij
functiongivenbythedemandt (β)=t(δimγjmβ). Bythechoiceofthenumber
ij
m, s: Γ → 2 is a finite function. The set C = (cid:84) {γ−jmδ−imB : i,j ∈ m} is
n
comeager in [s]; let x ∈ C be an arbitrary point. Reviewing the definitions, it
is clear that a ⊂B as required.
xm
Now, considertheposetP addinganorientationofH inwhicheveryvertex
in X gets an out-degree one. A condition p∈P is an orientation on countably
many components of H in which every vertex in these components gets an out-
degreeone. Theorderingisthatofreverseinclusion. TheposetP wasanalyzed
in Example 9.2.15 It is not difficult to prove that the balanced conditions of
P are classified by orientations of H in which every vertex gets an out-degree
one, which naturally form a compact Hausdorff space. Thus, the poset P is
compactly balanced, and it adds an H-coloring with countably many colors by
Claim11.7.12whilethehypergraphH doesnothaveBorelσ-boundedchomatic
or even fractional chromatic number by Claim 11.7.12.

298 CHAPTER 11. LOCALLY COUNTABLE STRUCTURES

Chapter 12
The Silver divide
12.1 Perfectly balanced forcing
TheperfectsetpropertyinthemodelL(R)[U],whereU isaRamseyultrafilter,
was one of the first results in the literature about models of the type studied
in this book [21]. In this section, we provide a general machinery for proving
the perfect set property type of results, with much less effort than the original
argument quoted above. We start with two key definitions.
Definition 12.1.1. Let P be a Suslin poset. A virtual condition p¯is perfectly
balanced if in every generic extension V[G], whenever
1. Q∈V is a poset such that P(Q)∩V is countable in V[G];
2. σ ∈V is a Q-name for a condition in P stronger than p¯;
3. H⊂PQ is a perfect set such that every finite set a⊂H is a set of filters
over Q mutually generic over V,
thenthereisaperfectsetC ⊂Hsuchthatthesetofconditions{σ/H: H ∈C}
has a lower bound in the separative quotient. A poset is perfectly balanced if
below every condition p∈P there is a virtual perfectly balanced condition.
This forcing property is often guaranteed by a simple feature which does not
speak about any balance issues at all.
Definition 12.1.2. A Suslin forcing P is perfect if for every Borel function
f: 2ω → P, either there is a finite set a ⊂ 2ω such that the set f(cid:48)(cid:48)a ⊂ P has
no lower bound, or else there is a perfect set C ⊂2ω such that f(cid:48)(cid:48)C has a lower
bound in the separative quotient.
In general, the separative quotient of Suslin forcings is a Π1 ordering, making
2
perfectness a rather complicated projective property of the poset P. In all
particular posets considered in this book, the status of perfectness is absolute
throughout all forcing extensions.
299

300 CHAPTER 12. THE SILVER DIVIDE
Proposition 12.1.3. Every Suslin forcing which is perfect in all forcing exten-
sions and balanced is perfectly balanced and every balanced virtual condition is
perfectly balanced.
Proof. Let p¯ be a balanced virtual condition. Let Q be a partial order, σ a
Q-name for a condition in P stronger than p¯. Let V[G] be a generic extension
such that P(Q)∩V is countable in V[G]. Let H be a perfect set of filters on Q
which consists of filters in finite tuples mutually generic over V.
Claim 12.1.4. For every finite set a ⊂ H, the set {σ/H: H ∈ a} ⊂ P has a
common lower bound.
Proof. Let(cid:104)H : j ∈i(cid:105)enumeratethesetawithoutrepetitions. Byinductionon
j
j ∈i,constructadescendingsequence(cid:104)r : j ∈i(cid:105)ofconditionsinP suchthatfor
j
each j ∈i r ∈V[K][H : k ∈j] and r ≤σ/H . This is easy to do using the
j k j+1 j
balance of the condition p¯at every stage of the induction, noting that σ/H ,r
j j
are both strengthenings of p¯in mutually generic extensions of the model V[K].
In the end, the condition r is a lower bound of the set {σ/H: H ∈a}.
i
Now, let h: 2ω → H be a continuous injection and let f: 2ω → P be the
continuous function defined by f(y) = σ/h(y). Apply the perfectness of the
poset P to find a perfect set C such that for each y ∈C, r ≤f(y) holds in the
separative quotient. The condition r witnesses the perfect balance of p¯in this
instance.
We prove two notable dichotomy type preservation properties of perfectly bal-
anced posets.
Definition 12.1.5. The full Silver dichotomy is the following statement: If E
isaBorelequivalencerelationonaPolishspaceX andA⊂X isanE-invariant
set,theneitherAcontainsonlycountablymanyE-classesorAcontainsaperfect
set consisting of pairwise E-unrelated elements.
As a consequence, the full Silver dichotomy implies that among all sets whose
cardinalityissmallerthanaBorelquotientspace,2ω isthesetwiththesmallest
uncountablecardinality. TheterminologyreferstotheclassicalSilverdichotomy
[48, Theorem 5.7.1], a theorem of ZF+DC which says in particular that the
dichotomy holds for analytic sets A ⊂ X. The Solovay model satisfies the full
Silver dichotomy. The following result is stated using Convention 1.7.16.
Theorem 12.1.6. In the cofinally perfectly balanced extensions of the symmet-
ric Solovay model, the full Silver dichotomy holds.
Proof. Let κ be an inaccessible cardinal. Let P be a perfect Suslin forcing such
that V |= P is balanced in every forcing extension. Let W be a symmetric
κ
Solovay model derived from κ and work in the model W. Let p ∈ P be a
condition and τ be a P-name such that p (cid:13) τ ⊂ X is an E-invariant set
containing uncountably many E-classes. The condition p as well as the name τ
have to be definable from parameters in V as well as some parameter z ∈ 2ω.

12.1. PERFECTLY BALANCED FORCING 301
Use the assumptions to find an intermediate model V[K] obtained as a generic
extension of V by a poset of cardinality smaller than κ such that z ∈V[K] and
P is perfectly balanced in V[K].
WorkinthemodelV[K]. Findaperfectlybalancedvirtualconditionp¯≤p.
Note that the equivalence relation E is Borel and therefore it has fewer than
(cid:105)V[K] manyvirtualclasses. Thecardinality(cid:105)V[K] iscountableinthemodelW,
ω1 ω1
while the set τ is forced to contain uncountably many E-classes. It follows that
in the model V[K] there has to be a poset R of cardinality smaller than κ, an
R-nameσ foraconditioninP strongerthanp¯andanR-nameη foranelement
of X which is forced not to be a realization of any virtual E-class in the model
V[K], and R(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) η ∈τ.
P
Move to some generic extension V[K][G] obtained by a poset of cardinality
smallerthanκsuchthatP(R)∩V[K]iscountableinV[K][G]. WorkinV[K][G].
Use Proposition 1.7.10 to find a perfect set H of filters on R which are in finite
tuples mutually generic over V[K]. Note that by the mutual genericity and
the initial choice of the name η, the points η/H for H ∈ H are pairwise E-
unrelated. By the perfect balance of the virtual condition p¯, there is a perfect
set C ⊂ H such that the set {σ/H: H ∈ C} has a lower bound, say q ∈ P in
the separative quotient of P. By the forcing theorem applied in every model
V[K][H] for H ∈ C it is the case that in the model W, the condition q forces
the perfect set {η/H: H ∈ C} consisting of pairwise E-unrelated elements to
be a subset of τ. The proof is complete.
The second preservation theorem of this section deals with a strong form of the
well-known Open Coloring Axiom, OCA [91].
Definition 12.1.7. OCA+isthefollowingstatement. WheneverX isaPolish
space, A ⊂ X is a set, and Γ is a graph on A which is open in the topology
on A×A inherited from X ×X, then either A is a union of countably many
Γ-anticliques, or A contains a perfect Γ-clique.
The following result is stated using Convention 1.7.16.
Theorem 12.1.8. In every cofinally perfectly balanced extension of the sym-
metric Solovay model, OCA+ holds.
Proof. Let X be a Polish space and let P be a perfect Suslin forcing. Let κ be
an inaccessible cardinal such that in V , in every forcing extension the poset P
κ
isbalanced. LetW beasymmetricSolovaymodelderivedfromκ. Inthemodel
W, let Γ ⊂ X2 be a symmetric open set, let p ∈ P be a condition, and let τ
be a P-name for a subset of X such that p(cid:13)τ cannot be covered by countably
manyΓ-anticliques. WemustfindaperfectsetB ⊂X suchthatanytwopoints
of B are Γ-related, and a condition q ≤p in P which forces Bˇ ⊂τ.
To this end, choose a parameter z ∈ 2ω such that p,τ,Γ are definable from
z. Find an intermediate generic extension V[K] of V by a poset of cardinality
smaller than κ such that z ∈V[K] and P is perfectly balanced in V[K]. Work
in the model V[K]. Let p¯≤ p be a perfectly balanced virtual condition in P.

302 CHAPTER 12. THE SILVER DIVIDE
Since Coll(ω,< κ) (cid:13) p (cid:13) τ is not covered by countably many Γ-anticliques,
P
and a closure of a Γ-anticlique is still a Γ-anticlique, there must be a poset R
of cardinality smaller than κ, an R-name η for an element of X which belongs
to no closed Γ-anticlique coded in V[K], and an R-name σ for a condition in P
stronger than p¯such that R(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) η ∈τ.
P
LetV[K][G]beagenericextensionobtainedbyaposetofcardinalitysmaller
than κ such that P(R)∩V[K] is countable in V[K][G]. Work in V[K][G]. Let
{D : n∈ω}enumerateallopendensesubsetsoffinitepowersoftheposetRin
n
V[K],withinfiniterepetitions. AsintheproofofTheorem12.2.5,byinduction
on |t| build conditions r ∈R for t∈2<ω so that
t
• t⊂s implies r ≤r ;
s t
• whenever D ⊂ Rm is an open dense set for some m < 2n, then every
n
m-tuple of distinct elements from the set {r : t∈2n} belongs to D ;
t n
• for all t∈2<ω there are open sets O ,O ⊂X such that O ×O ⊂Γ
t0 t1 t0 t1
and r (cid:13)η ∈O and r (cid:13)η ∈O .
t(cid:97)0 t0 t(cid:97)1 t1
In the end, for every binary sequence y ∈2ω let H ⊂R be the filter generated
y
by the conditions {r y(cid:22)n : n ∈ ω}. Note that any finite tuple of distinct filters
H for y ∈ 2ω is mutually generic over the model V[K] by the second item in
y
the inductive construction above. The mutual genericity also shows that the
function y (cid:55)→ η/H is a continuous injection from 2ω to X, and its range is a
y
Γ-clique by the third item above. By the perfect balance of the condition p¯,
there is a perfect set C ⊂ 2ω such that the conditions {σ/H : y ∈ C} have a
y
lowerboundq intheseparativequotientoftheposetP. Bytheforcingtheorem
applied in every model V[K][H] for H ∈C it is the case that in the model W,
the condition q forces the perfect Γ-clique {η/H: H ∈ C} to be a subset of τ.
The proof is complete.
Now it is time for a list of perfect and perfectly balanced forcings.
Example 12.1.9. Let I be an F -ideal on ω. The poset P of all I-positive
σ
subsets of ω ordered by inclusion is perfect.
As a special case, this includes the poset of infinite subsets of ω ordered by
inclusion of Section 7.1 and the posets of Section 7.3, both adding ultrafilters
on ω with various Ramsey properties.
Proof. Recall that P(I) is the poset of all I-positive subsets of ω, ordered by
(cid:83)
inclusion. Write I = I as a countable union of closed sets, each of which is
n n
closedundertakingsubset. Letf: 2ω →P(ω)beaBorelfunctionsuchthatfor
any finite set a⊂2ω, (cid:84) f(cid:48)(cid:48)a∈/ I holds; we must find a perfect set B ⊂2ω such
thatthesetf(cid:48)(cid:48)B ⊂P hasalowerbound. Thinningthedomainoff ifnecessary
wemayassumethatthefunctionf isinfactcontinuous. Byinductiononn∈ω
build nodes u ∈2<ω for all t∈2n and finite sets b ⊂ω such that
t n
• b ∈/ I ;
n n

12.1. PERFECTLY BALANCED FORCING 303
• s ⊂ t implies that u ⊂ u and s is incompatible with t implies u is
s t s
incompatible with u ;
t
• for each t∈2n+1 and every y ∈[u ] it is the case that b ⊂f(y).
t n
Once the induction is performed, let b = (cid:83) b , let B ⊂ 2ω be the perfect set
n n
of all points y ∈ 2ω such that ∀n∃t ∈ 2n u ⊂ y and use the continuity of the
t
function f to prove that b is the lower bound of the set f(cid:48)(cid:48)B.
Tostarttheinduction,letu =0. Nowsupposethatthenodesu ∈2<ω for
0 t
t∈2naswellassetsb form∈nhavebeenconstructed. Foreacht∈2nchoose
m
distinct points y ,y ∈ [u ] and use the initial assumption on the function f
t0 t1 t
(cid:84) (cid:84)
to observe that c = f(y )∩ f(y ) is an I-positive set. Since the
t∈2n t0 t∈2n t1
set I ⊂ P(ω) is closed, there must be a finite subset b ⊂ c which is not in
n n
I . Use the continuity of the function f to find initial segments u ⊂ y
n t(cid:97)0 t0
and u ⊂ y satisfying the second item of the induction hypothesis. This
t(cid:97)1 t1
concludes the inductive step.
Corollary 12.1.10. [21] Let P be the poset of infinite subsets of ω ordered by
inclusion.
1. In the P-extension of the symmetric Solovay model, the full Silver di-
chotomy holds, and OCA+ holds.
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a Ramsey ultrafilter on ω, the full Silver dichotomy holds, and OCA+
holds.
Example 12.1.11. Let (cid:104)Γ,·(cid:105) be a countable semigroup. The poset P = P(Γ)
of Subsection 7.4 is perfect.
Proof. Recall that elements of P are just sequences in Γω and the ordering is
defined by q ≤p if there are pairwise disjoint nonempty finite sets a ⊂ω such
n
(cid:81)
that q(n) = p(m). The proof of the perfect property of the poset P is
anotherfusiona m r ∈ g a u n ment. Letf: 2ω →P beaBorelfunctionsuchthatforevery
finite set b ⊂ 2ω, the conditions in the set f(cid:48)(cid:48)b have a common lower bound in
P; we must find a perfect set B ⊂ 2ω such that the set f(cid:48)(cid:48)B ⊂ P has a lower
bound.
Thinning the domain of f if necessary we may assume that the function f
is continuous. By induction on n∈ω build nodes u ∈2<ω for all t∈2n, finite
t
sets a ⊂ω and elements γ so that
t n
• min(a )>max(a );
n+1 n
• s ⊂ t implies that u ⊂ u and s is incompatible with t implies u is
s t s
incompatible with u ;
t
• a =0 and if s⊂t then a ∩a =0;
0 s t
• for each t∈2n+1 and each y ∈[u ], γ = (cid:81) f(y)(m).
t n m∈at

304 CHAPTER 12. THE SILVER DIVIDE
Once the induction is performed, let p=(cid:104)γ : n∈ω(cid:105), let B ⊂2ω be the perfect
n
set of all points y ∈ 2ω such that ∀n ∃t ∈ 2n u ⊂ y and observe that p is the
t
lower bound of the set f(cid:48)(cid:48)B.
To start the induction, let u =0 and a =0. Now suppose that the nodes
0 0
u ∈ 2<ω for t ∈ 2n as well as sets a for s ∈ 2≤n and elements γ for m ∈ n
t s m
have been constructed. For each t ∈ 2n choose distinct points y ,y ∈ [u ]
t0 t1 t
and use the initial assumption on the function f to observe that the set c =
{f(y ),f(y ): t∈2n}hasalowerboundintheposetP. Thismeansthatthere
t0 t1
(cid:83)
arenonemptyfinitesetsa ,a ⊂ωdisjointfrom a andasemigroup
t(cid:97)0 t(cid:97)1 s∈2≤n s
(cid:81) (cid:81)
element γ ∈ Γ such that f(y )(m) = γ and f(y )(m) =
γ holds f n or all t ∈ 2n. Us m e ∈ t a h t e (cid:97)0 cont t in 0 uity of th n e functio m n ∈a f t(cid:97) t 1 o fin t1 d initial
n
segments u ⊂ y and u ⊂ y such that f(y )(m) = f(y)(m) holds for
t(cid:97)0 t0 t(cid:97)1 t1 t0
all m ∈ a and all y ∈ [u ] and f(y )(m) = f(y)(m) holds for all m ∈ a
t0 t(cid:97)0 t1 t1
and all y ∈[u ]. This concludes the inductive step.
t(cid:97)1
Corollary 12.1.12. Let P be the poset of Subsection 7.4 designed to add a
stable ordered union ultrafilter.
1. In the P-extension of the symmetric Solovay model, the full Silver di-
chotomy holds, and OCA+ holds.
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a stable ordered union ultrafilter on ω, the full Silver dichotomy holds,
and OCA+ holds.
Example 12.1.13. The Fin×Fin poset P of subsets of ω×ω with infinitely
many infinite vertical sections, ordered by inclusion, is perfectly balanced but
not perfect.
Proof. Wefirstprovethefailureofperfectness. Foreachn∈ω andeachbinary
string t∈2n, it is easy to find a perfect set A ⊂P(ω) such that
t
• A consists of pairwise almost disjoint infinite sets;
t
• whenever {x : t∈2n} is a collection such that x ∈A , the set (cid:84) x ⊂ω
t t t t t
is infinite.
Then, let f : [t] → P(ω) be a continuous injection into A for every t ∈ 2<ω.
t t
Now, for every y ∈ 2ω let g(y) ⊂ ω×ω be the set of all pairs (cid:104)n,m(cid:105) such that
m∈f y(cid:22)n (y). Itisclearthatthesetg(y)⊂ω×ω hasallverticalsectionsinfinite
and so is a condition in P. We will show that any finite subset of g(cid:48)(cid:48)2ω has a
lower bound in P, yet no condition in P is below more than countably many
elements of g(cid:48)(cid:48)2ω.
For the first assertion, let a ⊂ 2ω be a finite set. Let m ∈ ω be such that
the strings y (cid:22) m for y ∈ a are pairwise distinct. Then, for all n ≥ m the
(cid:84)
seconditemimpliesthattheset y∈a f y(cid:22)n (y)isinfinite. Inotherwords,theset
(cid:84)
g(y)hasallverticalsectionsbeyondminfinite,andsoisalowerboundfor
y∈a
g(cid:48)(cid:48)a. For the second assertion, suppose that p ∈ P is a condition, and assume

12.2. BERNSTEIN BALANCED FORCING 305
towards a contradiction that the set {y ∈ 2ω: p ≤ g(y)} is uncountable. By a
countingargument,theremustbeanumbern∈ωsuchthattheset{y ∈2ω: p
n
isinfiniteandmodulofiniteasubsetofg(y) }isuncountable. Findtwodistinct
n
elements y ,y of the latter set such that y (cid:22) n = y (cid:22) n; denote the common
0 1 0 1
value by t. Then, the intersection f (y )∩f (y ) should be finite by the choice
t 0 t 1
of the function f , and at the same time it should modulo finite contain the
t
infinite set p . This is a contradiction.
n
NowitistimetoshowthatP isperfectlybalanced. Letp∈P beacondition.
Let a ⊂ ω be an infinite set such that for each n ∈ a, the vertical section a
n
is infinite. Let U be a nonprincipal ultrafilter on ω containing a, and for each
n∈ω let U be a nonprincipal ultrafilter on ω such that if n∈a then a ∈U .
n n n
Let p¯be the virtual condition on a collapse poset, standing for the analytic set
A of all sets b⊂a such that the set c={n∈ω: b is infinite} diagonalizes U,
n
andforeachn∈c, thesetb diagonalizesU . Theconditionp¯≤pisbalanced;
n n
we will show that it is perfectly balanced.
Let Q be a poset and let σ be a Q-name for a condition in the set A. Let
V[G] be a generic extension such that P(Q)∩V is countable in V[G] and H is
a perfect set of filters on Q in finite tuples mutually generic over V. We must
find a condition r ∈P in the model V[G] such that the set {H ∈H: r ≤σ/H}
is uncountable. ???
12.2 Bernstein balanced forcing
Thereisaclassofposetswhichisinaprecisesensedualtotheclassofperfectly
balanced forcings.
Definition 12.2.1. LetP beaSuslinposet. Avirtualconditionp¯isBernstein
balanced if in every generic extension V[G], for every condition p ≤ p¯, every
infiniteposetQ∈V suchthatP(Q)∩V iscountableinV[G],andeveryperfect
family H ⊂ P(Q) such that each finite set a ⊂ H is a collection of filters
mutually generic over V, there is a filter H ∈ H such that every condition in
P ∩V[H] below p¯is compatible with p. The poset P is Bernstein balanced if
there is a Bernstein balanced virtual condition below every condition in P.
Asthesimplestinitialexample,considertheposetofcountablepartialfunctions
from2ω to2orderedbyreverseinclusion. Thebalancedconditionsareclassified
bytotalfunctionsfrom2ω to2. Eachsuchvirtualconditionp¯isinfactBernstein
balanced. To see this, note that any condition p≤p¯in any extension V[G] has
countable domain. On the other hand, if H ∈ V[G] is a perfect set of filters
mutually generic over V, then by the product forcing theorem, for each point
x ∈ dom(p)\V there is at most one filter H ∈ H such that x ∈ V[H]. By a
countingargumentthen,thereisafilterH ∈Hsuchthatdom(p)∩V[H]\V =0
and then p is compatible with every condition in V[H] which is stronger than
p¯.
BernsteinbalancedextensionsoftheSolovaymodelshareanumberofregu-
larity properties. The main technical tool used in all the theorems below is the

306 CHAPTER 12. THE SILVER DIVIDE
following.
Proposition 12.2.2. Let P be a Suslin poset and let p¯be a Bernstein balanced
condition in P. Let Q be a partial order and σ a Q-name for a condition in P
strongerthanp¯. Let W bea Solovay model derivedfrom aninaccessible cardinal
greater than κ. In the model W, if H ⊂ P(Q) is a perfect family consisting of
filters mutually generic over V, then p¯ forces in P that the set {H ∈ H: σ/H
belongs to the P-generic filter} is uncountable.
Proof. Work in the model W. Let p ∈ P be a condition stronger than p¯, and
a ⊂ H be a countable set. We must find a filter H ∈ H\a such that σ/H is
compatible with p. Let V[K] be an intermediate extension obtained by a poset
of cardinality smaller than κ containing a code for H, and enumeration of the
seta,andtheconditionQ. WorkinthemodelV[K]. ThesetH\aisBoreland
uncountable, and therefore contains a perfect subset. By the Bernstein balance
of the virtual condition p¯, there is a filter H ∈H\a such that p is compatible
withallconditionsinP∩V[H]strongerthanp¯,inparticularwiththecondition
σ/H. This concludes the proof.
With the proposition in hand, we begin a line of preservation results. They are
all stated using Convention 1.7.16.
Theorem 12.2.3. In cofinally Bernstein balanced extensions of the symmetric
Solovay model, there is no finitely additive diffuse probability measure on ω.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin poset which is
Bernstein balanced cofinally below κ. Let W be the symmetric Solovay model
derived from κ and work in the model W. Suppose towards a contradiction
that p ∈ P is a condition, τ is a P-name for a map from P(ω) to [0,1], and p
forces τ to be a finitely additive diffuse probability measure. The condition p
and the name τ are definable from ground model parameters and an additional
parameter z ∈2ω. Find an intermediate model V[K] obtained using a poset of
cardinality smaller than κ such that z ∈ V[K] and P is Bernstein balanced in
V[K]. Work in the model V[K].
Let p¯ ≤ p be a Bernstein balanced virtual condition. Let Q be the poset
of finite binary strings ordered by reverse end-extensions, with its name x˙ for
the set of those n ∈ ω for which there is a condition q ∈ Q in the generic
filter such that q(n) = 1. There must be a poset R of cardinality smaller
than κ, a condition (cid:104)q,r(cid:105) ∈ P ×R, and a Q×R-name σ for a condition in P
stronger than p¯ such that either (cid:104)q,r(cid:105) (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) τ(x˙) ≥ 1/2 or
P
(cid:104)q,r(cid:105) (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) τ(x˙) ≤ 1/2. For definiteness, assume that the
P
former option prevails; with the latter option, replace x˙ with the name for its
complement and proceed in the same way.
Move to an extension V[K][G] obtained with some poset of cardinality
smaller than κ such that P(Q×R)∩V[K] is countable in V[K][G], and work
in the model V[K][G]. Let (cid:104)O : m ∈ ω(cid:105) be an enumeration of all open dense
m
subsets of all finite powers of Q×R that appear in the model V[K], with infi-
nite repetitions. By recursion on m∈ω build numbers n ∈ω and conditions
m

12.2. BERNSTEIN BALANCED FORCING 307
(cid:104)q ,r (cid:105) ≤ (cid:104)q,r(cid:105) for i ∈ 3 and t ∈ 2m so that dom(q ) = n for all i ∈ 3 and
it it it m
t∈2m, and:
• if i∈3 and t⊂s are binary strings, then (cid:104)q ,r (cid:105)≤(cid:104)q ,r (cid:105);
is is it it
• if O is an open dense set in the k-fold product of Q×R and k is smaller
m
than m, then for every i ∈ 3 and every k-tuple (cid:104)t : l ∈ k of distinct
l
elements of 2m+1, the tuple (cid:104)(cid:104)q ,r (cid:105): l∈k(cid:105) belongs to O ;
itl itl m
• whenever i,j are distinct numbers in 3, s,t ∈ 2m and k ∈ n \dom(q),
m
then q (k) and q (k) are not both simultaneously equal to 1.
is jt
Toperformtherecursion,startwith(cid:104)q ,r (cid:105)=(cid:104)q,r(cid:105)foralli∈3. Now,suppose
i0 i0
that n ∈ ω and conditions (cid:104)q ,r (cid:105) ≤ (cid:104)q,r(cid:105) for i ∈ 3 and t ∈ 2m have been
m it it
found. First, work on subscript 0: for all t ∈ 2m+1 find conditions (cid:104)q0 ,r (cid:105) ∈
0t 0t
Q×R so that the first two items are satisfied and let n = max dom(q0 ).
0m t 0t
Then, work on subscript 1: for all t ∈ 2m+1 find conditions (cid:104)q0 ,r (cid:105) ∈ Q×R
1t 1t
so that the first two items are satisfied, for each t and each j ∈ [n ,n )
m 0m
q0 (j) = 0 holds, and let n = max dom(q0 ). Finally, work on subscript
1t 1m t 1t
2: for all t ∈ 2m+1 find conditions (cid:104)q0 ,r (cid:105) ∈ Q × R so that the first two
2t 2t
items are satisfied, for each t and each j ∈ [n ,n ) q0 (j) = 0 holds, and let
m 1m 2t
n =max dom(q0 ). To conclude the work, extend the binary strings q0 ,q0 ,
2m t 2t 0t 1t
andq0 withzeroesonlysothattheresultingbinarystringsq ,q ,q havethe
2t 0t 1t 2t
same domain n .
m+1
In the end, for each i ∈ 3 and each y ∈ 2ω let H ⊂ Q×R be the filter
iy
generatedbytheconditions(cid:104)q iy(cid:22)m ,r iy(cid:22)m (cid:105)form∈ω. Thefirstandseconditems
above show that the family H = {H : y ∈ 2ω} consists of filters on Q×R in
i iy
finitetuplesmutuallygenericoverthemodelV[K]. Thethirditemaboveshows
thatfordistincti,j ∈3andpointsy ,y ∈2ω,theintersectionx˙/H ∩x˙/H
0 1 iy0 jy1
is finite.
Now, a twice repeated use of the Bernstein balance of the virtual condition
p¯in V[K] with the families H ,H , H yields points y ,y ,y ∈ 2ω such that
0 1 2 0 1 2
the conditions p = σ/H , p = σ/H , and p = σ/H have a common
0 0y0 1 1y1 2 2y2
lower bound. Write x = x˙/H , x = x˙/H , and x = H . By the
0 0y0 1 1y1 2 2y2
previous paragraph, the sets x ,x ,x ⊂ω are pairwise almost disjoint. At the
0 1 2
same time, by the forcing theorem in V[K], the common lower bound of the
conditions p ,p ,p forces the numbers τ(xˇ ), τ(xˇ ), and τ(xˇ ) to be at least
0 1 2 0 1 2
1/2 each. This contradicts the assumption that τ was forced to be a diffuse
finitely additive measure.
Thenextpreservationtheoremdealswiththewell-knownOpenColoringAxiom,
OCA [91].
Definition 12.2.4. OCA is the following statement. Whenever X is a Polish
space, A ⊂ X is a set, and Γ is a graph on A which is open in the topology
on A×A inherited from X ×X, then either A is a union of countably many
Γ-anticliques, or A contains an uncountable Γ-clique.

308 CHAPTER 12. THE SILVER DIVIDE
Theorem 12.2.5. In cofinally Bernstein balanced extensions of the symmetric
Solovay model, OCA holds.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin forcing such that P
is Bernstein balanced cofinally below κ. Let W be a symmetric Solovay model
derived from κ. In the model W, let X be a Polish space and let Γ ⊂ X2 be
a symmetric open set, let p ∈ P be a condition, and let τ be a P-name for a
subsetofX suchthatp(cid:13)τ cannotbecoveredbycountablymanyΓ-anticliques.
We will find a perfect set C ⊂ X such that any two points of C are Γ-related,
and a condition q ≤p in P which forces Cˇ∩τ is uncountable.
To this end, choose a parameter z ∈ 2ω such that p,τ,Γ are definable from
z. Find an intermediate generic extension V[K] of V by a poset of size < κ
such that z ∈ V[K] and P is Bernstein balanced in V[K]. Work in the model
V[K]. Let p¯ ≤ p be a Bernstein balanced virtual condition. Since Coll(ω,<
κ) (cid:13) p (cid:13) τ is not covered by countably many Γ-anticliques, and a closure
P
of a Γ-anticlique is still a Γ-anticlique, there must be a poset R of size < κ,
and R-name η for an element of X which belongs to no closed Γ-anticlique
codedinV[K],andanR-nameσ foraconditioninP strongerthanp¯suchthat
R(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) η ∈τ.
P
MoveintothemodelW. Let{D : n∈ω}enumerateallopendensesubsets
n
of finite powers of the poset R in V[K], with infinite repetitions. By induction
on |t| build conditions r ∈R for t∈2<ω so that
t
• t⊂s implies r ≤r ;
s t
• whenever D ⊂ Rm is an open dense set for some m < 2n, then every
n
m-tuple of distinct elements from the set {r : t∈2n} belongs to D ;
t n
• for all t∈2<ω there are open sets O ,O ⊂X such that O ×O ⊂Γ
t0 t1 t0 t1
and r (cid:13)η ∈O and r (cid:13)η ∈O .
t(cid:97)0 t0 t(cid:97)1 t1
The construction is routine except for the last item; we just describe how the
last item is obtained. Suppose that r has been found. Work in V[K] and let
t
U ⊂ X be the union of all basic open sets O ⊂ X such that r (cid:13) η ∈/ O. Then
t
r (cid:13) η ∈ X \ U. Since the set X \ U is closed, by the choice of the name
t
η it cannot be a Γ-anticlique and therefore there are points x ,x ∈ X \ U
0 1
which are Γ-connected. Since the set Γ⊂X2 is open, there are basic open sets
O ,O ⊂X such that x ∈O , x ∈O , and O ×O ⊂Γ. Neither of the
t0 t1 0 t0 1 t1 t0 t1
two open sets is a subset of U and therefore there must be conditions r and
t(cid:97)0
r below r such that the former forces η ∈O and the latter forces η ∈O
t(cid:97)1 t t0 t1
as desired.
In the end, for every binary sequence y ∈ 2ω let H ⊂ R be the filter
y
generated by the conditions {r y(cid:22)n : n ∈ ω} and let p y = σ/H y . Note that any
finite tuple of distinct filters H for y ∈ 2ω is mutually generic over the model
y
V[K]bytheseconditemintheinductiveconstructionabove. Proposition12.2.2
applied in V[K] shows that in W, p¯ forces the set a = {y ∈ 2ω: p is in the
y
generic filter} to be uncountable. The set {η/H : y ∈ a} is then forced to be
y
an uncountable Γ-clique.

12.2. BERNSTEIN BALANCED FORCING 309
Theorem 12.2.6. Let E be a Borel equivalence relation on a Polish space
X. In cofinally Bernstein balanced extensions of the symmetric Solovay model,
every subset of X is either covered by countably many E-classes or contains an
uncountable subset consisting of pairwise E-unrelated elements.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin forcing which is
Bernstein balanced cofinally below κ. Let W be the symmetric Solovay model
derived from κ, let p ∈ P be a condition and let τ be a P-name such that
p (cid:13) τ ⊂ X is a set which is not covered by countably many E-classes. We
will find a perfect set A⊂X consisting of pairwise E-unrelated elements and a
condition q ≤p, q (cid:13)τ ∩Aˇ is uncountable. This will prove the theorem.
The condition p and the name τ are definable from a parameter z ∈ 2ω
and some parameters in the ground model. Let V[K] be some intermediate
extension of the ground model by a poset of size < κ containing z and such
that P is Bernstein balanced in V[K]; work in V[K]. Let p¯≤p be a Bernstein
balanced condition in the poset P. Since the equivalence relation E is Borel,
therearefewerthan(cid:105) manyvirtualE-classesinV[K]. Sincethecardinal(cid:105)
ω1 ω1
is countable in W, there must be in V[K] a poset R of size < κ and R-names
σ for a condition in P stronger than p¯and η for an element of X which is not
a realization of any virtual E-class in V[K] such that R(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)
P
η ∈τ.
InthemodelW,useProposition1.7.10tofindaperfectset{H : y ∈2ω}of
y
filters on R which are mutually generic over the model V[K]. Write p =σ/H
y y
and x = η/H . By the assumption on the name η and the mutual genericity,
y y
the set A={η/H : y ∈2ω} consists of pairwise E-unrelated elements. Propo-
y
sition 12.2.2 applied in V[K] shows that in W the condition p¯ forces that for
uncountably many y ∈ 2ω, p belongs to the generic filter. Then p¯(cid:13) τ ∩Aˇ is
y
uncountable as required.
Theorem 12.2.7. Let I be an analytic P-ideal on ω. In cofinally Bernstein
balanced extensions of the symmetric Solovay model, if A⊂I is an uncountable
set, then there is a set b∈I such that the set {a∈A: a⊂b} is uncountable.
Proof. Suppose that κ is an inaccessible cardinal and P is a Suslin poset which
is Bernstein balanced cofinally below κ. Let W be a symmetric Solovay model
derivedfromκandinthemodelW,letp∈P beaconditionandτ beaP-name
such that p (cid:13) τ ⊂ I is an uncountable set. We need to produce a condition
p¯ ≤ p and a set b ∈ I such that q (cid:13) {a ∈ τ: a ⊂ ˇb} is uncountable. The
condition p and the name τ must be definable from parameters in the ground
model and some real parameter z ∈ 2ω. Let V[K] be an intermediate forcing
extensionbyaposetofsize<κsuchthatz ∈V[K]andP isBernsteinbalanced
in V[K], and work in the model V[K].
By the assumptions on the poset P, there must be a Bernstein balanced
virtual condition p¯ ≤ p in the model V[K]. There must be a poset Q of size
< κ, a Q-name η for an element of I which is not in V[K], and a Q-name σ
for a condition in P stronger than p¯such that Q(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) η ∈τ.
P
Let V[K][G] be some generic extension by a poset of cardinality less than κ in

310 CHAPTER 12. THE SILVER DIVIDE
which there is a perfect collection H ⊂ P(Q) which consists of filters mutually
generic over V[K]. Work in the model V[K][G].
Use the result of Solecki [85] to fix a lower-semicontinuous submeasure µ on
ω such that I = {a ⊂ ω: lim µ(a\n) = 0}. Consider the poset R of triples
n
(cid:104)s,ε,a(cid:105)wheres⊂ω isfinite,ε>0isarealnumber,anda∈I isasetsuchthat
µ(a\s) < ε . The ordering is defined by (cid:104)s ,ε ,a (cid:105) ≤ (cid:104)s ,ε ,a (cid:105) if s ⊂ s ,
q 1 1 1 0 0 0 0 1
ε ≤ ε , and a ⊂ s ∪a . It is not difficult to see that R is a σ-linked poset,
1 0 0 1 0
and the union of the first coordinates of conditions in the generic filter is forced
to modulo finite contain every ground model element of I.
Leta⊂ω beasetgenericoverthemodelV[K][G]fortheposetR,andwork
in the model V[K][G][a]. For every filter H ∈ H∩V[K][G], η/H ⊂ a modulo
finite holds, and the set H∩V[K][G] is uncountable as the poset R is c.c.c.
Thus, the set {H ∈ H: η/H ⊂ a modulo finite} is analytic, uncountable, and
therefore contains a nonempty perfect subset H(cid:48). Proposition 12.2.2 applied in
V[K]showsthatinthemodelW theconditionp¯forcesthesetA={H ∈H(cid:48): σ
y
is in the generic filter} to be uncountable. The set b = {η/H: H ∈ A} is then
forced to be an uncountable subset of τ and each element of it is modulo finite
included in the set a.
Now we move to a rich list of examples of Bernstein balanced forcings and
related corollaries.
Example12.2.8. EveryplacidSuslinforcingP isBernsteinbalancedandevery
placid virtual condition in P is Bernstein balanced.
Proof. Letp¯beavirtualplacidconditionintheposetP. LetV[G]beageneric
extension and in V[G], let p ≤ p¯be a condition in P, let Q ∈ V be an infinite
poset such that P(Q)∩V is countable in V[G], and suppose that H⊂P(Q) is
aperfectfamilyoffiltersinfinitetuplesmutuallygenericoverV. Wemustfind
afilterH ∈H suchthatallconditionsinP∩V[H]belowp¯arecompatiblewith
P. By a Mostowski absoluteness argument, it is enough to find such a filter in
some further generic extension of V[G]. Let R be any poset adding a new real,
and let τ be an R-name for an element of H which is not in V[G].
Claim 12.2.9. R(cid:13)V[τ]∩V[G]=V.
Proof. Supposetowardsacontradictionthatthisisnotthecase. TheninV[G],
there must be a condition r ∈R, a set a∈/ V of ordinals, and a Q-name η such
that r (cid:13) aˇ = η/τ. Let K ,K ⊂ R be filters mutually generic over V[G], and
0 1
let H = τ/K , H = τ/K . Since in the model V[G], the perfect family H
0 0 1 1
consisted of filters on Q mutually generic over V, by a Mostowski absoluteness
argument this is also true in V[G][K ][K ]; in particular, H ,H ⊂Q are filters
0 1 0 1
mutually generic over V. By the product forcing theorem applied in V then,
V[H ] ∩ V[H ] = V. However, the set a ∈/ V belongs to both V[H ] and
0 1 0
V[H ] as a = η/H = η/H by the initial assumptions on the set a. This is a
1 0 1
contradiction.

12.2. BERNSTEIN BALANCED FORCING 311
Now,letK ⊂RbeafiltergenericoverthemodelV[G]andletH =τ/K;bythe
claim, V[G]∩V[H]=V. The placidity of the virtual condition p¯applied with
the models V[G] and V[H] now shows that p is compatible with all conditions
inthe model V[H] below p¯as desired.
Corollary 12.2.10. Let X be a Polish vector space over a countable field F.
1. LetP betheposetofcountablesubsetsofX whicharelinearlyindependent
over F, with the reverse inclusion ordering. In the P-extension of the
symmetric Solovay model, there is no nonprincipal ultrafilter on ω and
OCA holds.
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, X
has a linear basis over F, there is no nonprincipal ultrafilter on ω and
OCA holds.
Example 12.2.11. Let Γ be a Borel graph on a Polish space X such that
for some n ∈ ω, Γ does not contain an injective homomorphic copy of K .
n,ω1
Then the coloring poset P of Definition 8.1.1 is Bernstein balanced and every
Γ
balanced virtual condition is Bernstein balanced.
Proof. ThebalancedvirtualconditionsareclassifiedbyΓ-coloringsc: X →ωby
Theorem8.1.2. WemustprovethateverysuchacoloringrepresentsaBernstein
balanced condition.
To this end, let V[G] be a generic extension and work in V[G]. Towards
contradiction,supposethatthereisaconditionp∈P suchthatc⊂p,aninfinite
poset Q ∈ V such that P(Q)∩V is countable in V[G], and an uncountable
family H consisting of filters on Q which are mutually generic over V such that
for each H ∈ H there is a condition p ∈ P ∩V[H] such that c ⊂ p and p
H H H
is incompatible with p. An examination of the incompatibility options and a
counting argument reveal that there must be a point x∈dom(p)\V such that
the family G ={H ∈H: ∃x ∈X∩V[H ]\V xΓx } is uncountable.
H y H
Let a ,a ⊂ G be disjoint sets of size n. By the initial mutual genericity
0 1
demand, the generic extensions M and M obtained from V by attaching all
0 1
filtersintheseta anda respectivelyaremutuallygenericextensionsofV. By
0 1
the forcing theorem, the point x∈X\V belongs to at most one of them; say it
doesnotbelongtothemodelM . ForeachH ∈a , letx ∈X∩V[H]\V bea
0 0 H
point Γ-related to x; by the product forcing theorem, these points are pairwise
distinct. By the initial assumptions on the graph Γ, the set B ={z ∈X: ∀H ∈
a z Γ x } is countable. By the Shoenfield absoluteness between the models
0 H
M and V[G], B ⊂ M must hold. At the same time, x is an element of B
0 0
which does not belong to the model M . A contradiction.
0
Example 12.2.12. Let K be a G matroid on a Polish space X and P be
δ
the poset of countable K-sets as in Definition 6.5.1. The poset P is Bernstein
balanced and every balanced virtual condition is Bernstein balanced.

312 CHAPTER 12. THE SILVER DIVIDE
Proof. ThebalancedvirtualconditionsareclassifiedbymaximalK-setsbyThe-
orem 6.5.2. We must prove that every such a maximal set A⊂X represents a
Bernstein balanced condition.
To this end, let V[G] be a generic extension and work in V[G]. Towards
contradiction, suppose that there is a condition p∈P such that A⊂p, an infi-
nite poset Q∈V such that P(Q)∩V is countable in V[G], and an uncountable
family H consisting of filters on Q which are mutually generic over V such that
for each H ∈H there is a condition p ∈P ∩V[H] such that A⊂p and p
H H H
is incompatible with p. An examination of the incompatibility options and a
countingargumentrevealthattheremustbeafinitesetb⊂p\V suchthatthe
family G = {H ∈ H: there is a finite set a ⊂ X such that a ∪A is a K-set
H H
while a ∪A∪b is not} is uncountable.
H
Let |b|=n. Let d⊂G be a set of size greater than n. Let c⊂A be a finite
set such that for every filter H ∈ d, b∪c∪a ∈/ K holds. Note that b∪c ∈ K
H
(cid:83)
and (by a repeated application of the balance of the set A) a ∪c ∈ K.
H∈d H
(cid:83) (cid:83)
Let e = b∪c∪ a and let |e| = m. Since a ∪c ⊂ e is a set in K
H∈d H H∈d H
of cardinality m−n, the exchange property of the matroid K guarantees that
every subset of e maximal with respect to membership in K has cardinality at
least m−n. Let f ⊂ e be a maximal set in K extending the set b∪c. Since
|f| ≥ m−n, there must be a filter H ∈ d such that a ⊂ f. This contradicts
H
the assumption that b∪c∪a ∈/ K.
H
Corollary 12.2.13. Let X be a Polish field and F ⊂X a countable subfield.
1. Let P be the poset of countable subsets of X which are algebraically inde-
pendent over F, with the reverse inclusion ordering. In the P-extension
of the symmetric Solovay model, there is no nonprincipal ultrafilter on ω
and OCA holds.
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, X
has a transcendence basis over F, there is no nonprincipal ultrafilter on ω
and OCA holds.
Many quotient simplicial complex forcings are Bernstein balanced.
Example 12.2.14. Let F be a Fraiss´e class with strong amalgamation. Let
E be a Borel equivalence relation on a Polish space X. Then the E,F-Fraiss´e
forcing of Definition 8.6.3 is Berstein balanced and every balanced condition is
Bernstein balanced.
Proof. ThebalancedconditionsareclassifiedbyTheorem8.6.4astheF-structures
on the virtual E-quotient space. Now, let p¯be such a balanced virtual condi-
tion. Movetosomegenericextensionandinit,supposethatthereisacondition
p∈P such thatp¯≤p, aninfiniteposet Q∈V such thatP(Q)∩V iscountable
in V[G], and an uncountable family H consisting of filters on Q which are mu-
tually generic over V. By the mutual genericity, the only E-classes that occur
in more than one model V[H] for H ∈H are the classes which are realizations
of virtual E-classes in V. By a counting argument, there is a filter H ∈H such

12.2. BERNSTEIN BALANCED FORCING 313
that in the model V[H] there are no E-classes represented in the domain of p
other than the classes which are realizations of virtual E-classes in V. Then p
is compatible with every condition in V[H] which is stronger than p¯.
Corollary 12.2.15. Let E be a Borel equivalence relation on a Polish space X.
1. Let P be the poset of linear orders on countable subsets of the E-quotient
space, with the reverse inclusion ordering. In the P-extension of the sym-
metric Solovay model, there is no nonprincipal ultrafilter on ω and OCA
holds.
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, the
E-quotient space is linearly ordered, there is no nonprincipal ultrafilter on
ω and OCA holds.
There are many posets which are neither Bernstein balanced nor perfectly bal-
anced. The examples below are built to violate specific preservation properties
of Bernstein balanced posets.
Example 12.2.16. Consider the clopen graph Γ on 2ω connecting points x (cid:54)=
0
x ifthesmallestn∈ω suchthatx (n)(cid:54)=x (n)iseven. LetP bethebalanced
1 0 1
poset of Example 8.8.3. In the P-extension of the Solovay model, there is an
uncountablesubsetof2ω suchthateveryΓ-cliqueandeveryΓ-anticliqueinitis
countable. Thus, in the P-extension of the Solovay model, OCA fails. In view
of Theorem 12.2.5, P is not Bernstein balanced.
Example 12.2.17. Let P be the Lusin poset of Definition 8.8.5. In the P-
extension of the symmetric Solovay model in which the conclusion of Theo-
rem 12.2.6 fails. In particular, the Lusin poset is not Bernstein balanced.
Proof. Let κ be an inaccessible cardinal, let W be a symmetric Solovay model
derived from κ, and move to the model W. Let p = (cid:104)a,b(cid:105) ∈ P be a condition
andletτ beaP-nameforanuncountablesubsetofA˙. Wemustfindacondition
q ≤ p and two distinct E -related points x ,x ∈ 2ω such that q (cid:13) xˇ ,xˇ ∈ τ.
0 0 1 0 1
To this end, find a parameter z ∈ 2ω such that both p,τ are definable from
some parameters in the ground model and the parameter z. Let V[K] be an
intermediategenericextensioncontainingtheparameterz,obtainedasaforcing
extensionofthegroundmodelbyaposetofsizelessthanκ. Workinthemodel
V[K].
Let p¯ ≤ p be a balanced virtual condition in P as in Theorem 8.8.6, so
a =a. Since τ is forced to be an uncountable set, there must be a poset R, an
p¯
R-name σ for a condition in P stronger than p¯, and an R-name η for a point in
a \a such that R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) η ∈ τ. Note that η is forced to be a
σ P
point Cohen-generic over the model V[K], and it is also forced that any tuple
x ∈ (2ω)n of points in the set a
σ
\(a∪[η]E
0
) is Cohen-generic over the model
V[K][η]. By the general forcing theory, we may present the poset R as a two
stepiterationS0∗S˙1,whereS0 istheCohenposet2<ω restrictedtosomefinite

314 CHAPTER 12. THE SILVER DIVIDE
binary string s, adding the Cohen-generic point η, and S˙1 is the S0-name for
the remainder forcing.
MovebacktothemodelW. ChooseafilterH0 ⊂S0 genericoverthemodel
0
V[K], and write x = η/H0 ∈ 2ω. Flip any value of x past dom(s) to obtain
0 0 0
anotherpointx ∈2ω. Thenx isE -relatedtox andalsoCohengenericover
1 1 0 0
the model V[K], containing the string s as an initial segment. Write H0 ⊂ S0
1
for the filter generic over V[K] obtained from x ; thus, V[K][H0]=V[K][H0].
1 0 1
Find filters H1 ⊂ S˙1/H0 and H1 ⊂ S˙/H0 mutually generic over the model
0 0 1 1
V[K][H0], and write p = σ/H0 ∗H1 and p = σ/H0 ∗H1. The conditions
0 0 0 0 1 1 1
p ,p are compatible in the poset P by a mutual genericity argument identical
0 1
toClaim??. Letq ∈P beanylowerboundfortheconditionsp ,p . Theinitial
0 1
choices of the names σ and η now imply that q (cid:13)xˇ ,xˇ ∈τ as desired.
0 1
Example 12.2.18. Let P be the balanced poset of Example 8.8.4. In the P-
extensionoftheSolovaymodelthereisadominatingsubsetofωω suchthatthe
set of all functions in in dominated by any fixed y ∈ωω is countable. Thus, the
conclusion of the theorem fails in the P-extension with the P-ideal I on ω×ω
consisting of sets with all vertical sections finite. The poset P is not Bernstein
balanced.
We conclude this section with an anti-preservation result and an example justi-
fying the choice of the Berstein name for the class of posets in question. Recall
that a Bernstein set is a subset of a Polish space such that neither it nor its
complement contain a perfect set.
Proposition 12.2.19. In nontrivial, cofinally Bernstein balanced extensions of
the symmetric Solovay model, there is a Bernstein set.
Proof. SupposethatκisaninaccessiblecardinalandP isaSuslinpartialorder
whichisBernsteinbalancedcofinallybelowκ. LetW bethesymmetricSolovay
model derived from κ and work in the model W. Let p ∈ P be a condition.
Let V[K] be an intermediate extension obtained with a poset of size < κ such
that p ∈ V[K] and P is Bernstein balanced in V[K]. Working in V[K], find a
Bernstein balanced condition p¯≤p, and a poset Q of size <κ and a Q-name σ
for a condition such that Q (cid:13) σ ≤ p¯. Since the poset P contains no atoms, it
is also possible to find Q-names σ ,σ for incompatible elements of P stronger
0 1
than σ.
Back in W, let {H : y ∈2ω} be a perfect collection of filters on Q pairwise
y
generic over the model V[K], obtained by an application of Proposition 1.7.10.
Let τ be the P-name for the set {y ∈ 2ω: σ /H belongs to the generic fil-
0 0 y
ter on P} and let τ be the P-name for the set {y ∈ 2ω: σ /H belongs to
1 1 y
the generic filter on P}. These are clearly forced to be disjoint subsets of 2ω,
and p¯ forces that complement of neither contains a perfect set: any condi-
tion below p¯ is incompatible with only countably many conditions in the set
{σ /H ,σ /H : y ∈ 2ω} by the Bernstein balance of the virtual condition p¯.
0 y 1 y
Thus, p¯forces both τ ,τ to be Bernstein sets.
0 1

12.3. PLACID FORCING 315
Unliketheperfectlybalancedextensions,theBernsteinbalancedextensionsmay
exhibit chaotic structure of cardinalities below 2ω. This concern was addressed
in [97].
Example 12.2.20. Let P be the poset of all countable functions from 2ω to 2,
ordered by reverse extension. Let κ be an inaccessible cardinal, let W be the
symmetricSolovaymodelderivedfrom κ, andletG⊂P beafiltergenericover
W. In W[G], let a = {y ∈ 2ω: ∃p ∈ G p(y) = 0} and a = {y ∈ 2ω: ∃p ∈
0 1
G p(y)=1}. In W[G], |a |=(cid:54) |a |.
0 1
Thus, 2ω can be decomposed into two uncountable sets of distinct cardinalities,
contradicting the full Silver dichotomy. In fact, one can prove all kinds of
pathologies regarding the cardinalities of a and a respectively; for example
0 1
|a2|(cid:54)≤|a | holds in W[G].
0 0
Proof. Work in W. Suppose towards a contradiction that p∈P is a condition
and τ is a P-name such that p(cid:13)τ: a˙ →a˙ is a bijection. The condition p as
0 1
well as the name τ have to be definable from some ground model parameters
and some parameter z ∈ 2ω. Find an intermediate model V[K] obtained as a
genericextensionofthegroundmodelbyaposetofsize<κsuchthatz ∈V[K].
Work in the model V[K]. Let p¯ be the Coll(ω,c)-name for the set {q ∈
P: p ⊂ q ∧∀x ∈ V[K]∩2ω \dom(p) q(x) = 0}. This is a balanced virtual
conditioninP forthemodelV[K]. Foreverypointx∈2ω\dom(p)lety ∈2ω
x
be a point such that Coll(ω,<κ)(cid:13)p¯(cid:13) τ(xˇ)=yˇ , if it exists. As τ is forced
P x
to be an injection from a˙ to a˙ , for each x there can be at most one y of this
0 1 x
kind, and the function g: x (cid:55)→ y must be an injection from 2ω \dom(p) to
x
dom(p). Since the former set is uncountable and the latter is countable, there
must be a point x∈2ω\dom(p) which is not in the domain of g.
StillinthemodelV[K],thestatementthatx∈/ dom(g)meansthatColl(ω,<
κ) forces that either there is a condition below p¯in P which forces τ(xˇ) out of
V[K], or there are two distinct conditions in P stronger than p¯which force the
value τ(xˇ) to be two distinct points in V[K]. Suppose for definiteness that the
former is the case. Then there must be a poset R of size <κ, an R-name σ for
a condition in P stronger than p¯and an R-name η for an element of 2ω\V[K]
such that R(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) τ(xˇ)=η.
P
In the model W, pick filters H ,H ⊂ R mutually generic over the model
0 1
V[K]. Let p =σ/H ∈P and p =σ/H ∈P; by the balance of the condition
0 0 1 1
p¯, p and p are conditions compatible in P, with some lower bound q ∈P. Let
0 1
y = η/H ∈ 2ω and y = η/H ∈ 2ω; by the product forcing theorem and the
0 0 1 1
choice of the name η, y (cid:54)=y holds. But then, q (cid:13)τ(xˇ)=yˇ and τ(xˇ)=yˇ , an
0 1 0 1
impossibility.
12.3 Placid forcing
Placid forcings have been introduced in Definition 9.3.1; as we have seen in
Example12.2.8, theyareBernsteinbalanced. Inthissection, weproveacouple

316 CHAPTER 12. THE SILVER DIVIDE
ofpreservationtheoremsforplacidforcingwhichshowamongotherthingsthat
the matroid posets in Example 12.2.12 and the coloring posets in 12.2.11 are
not placid. Thus, the placid forcings form a fairly small and tightly controlled
subclass of Bernstein balanced forcings.
Theorem 12.3.1. Let X be an uncountable Polish field and F ⊂X be a count-
able subfield. In cofinally placid extensions of the symmetric Solovay model,
there is no transcendence basis of X over F.
Proof. Letκbeaninaccessiblecardinal. LetP beaSuslinposetwhichisplacid
cofinally below κ. Let W be the symmetric Solovay model derived from κ, and
work in W. Suppose towards contradiction that there is a condition p∈P and
a P-name τ such that p forces τ to be a transcendence basis of X over F. The
name τ and the condition p are definable from ground model parameters and
an additional parameter z ∈ 2ω. Let V[K] be an intermediate model obtained
by a forcing of cardinality smaller than κ such that z ∈ V[K] and P is placid
in V[K]. Work in V[K].
Let p¯ ≤ p be a placid virtual condition. Consider the closed set Y =
{(cid:104)x ,x ,x ,x (cid:105) ∈ X4: x x + x x = 1} equipped with the topology inher-
0 1 2 3 0 2 1 3
ited from X4, and consider the associated Cohen poset P . Theorems 3.2.7
Y
and 3.1.4 show that the poset P adds a quadruple (cid:104)x : i ∈ 4(cid:105) of points in
Y i
X such that x ,x are mutually Cohen generic elements of X, so are x ,x ,
0 1 2 3
moreover V[K][x ,x ]∩V[K][x ,x ]=0 and x x +x x =1. For each i∈4,
0 1 2 3 0 2 1 3
the model V[K][x ] contains a poset R of cardinality smaller than κ, an R -
i i i
name σ for a condition in P stronger than p¯, and a name η for a finite set
i i
such that the entries of the vector x is forced to be algebraic over η and
i i
R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) η ⊂ τ. Let H ⊂ R for i ∈ 4 be filters mutually
i i P i i i
generic over the model V[K][x : i∈4]. Write p =σ /H and a =η /H .
i i i i i i i
Claim 12.3.2. The conditions p for i∈4 have a common lower bound.
i
Proof. First, p ,p have a lower bound p ∈ V[K][x ,x ][H ,H ] by the bal-
0 1 01 0 1 0 1
ance of p¯. Similarly, p ,p have a lower bound in V[K][x ,x ][H ,H ] by the
2 3 2 3 2 3
balance of p¯again. Finally, V[K][x ,x ][H ,H ]∩V[K][x ,x ][H ,H ]=V[K]
0 1 0 1 2 3 2 3
by the initial choice of the points x for i ∈ 4 and the mutual genericity of the
i
filters H for i∈4. The placidity of the virtual condition p¯then shows that p
i 01
and p have a common lower bound.
23
(cid:83)
Claim 12.3.3. The set a is not algebraically free.
i i
Proof. By the exchange property of the algebraic matroid, there is a point y ∈
a \V which is in the algebraic closure of (a ∪{x })\{y}. Since y is not an
3 3 3
element of V, it is also not an element of a ∪a ∪a . Since x is algebraic over
0 1 2 3
{x ,x ,x } and each of these points are in turn algebraic over a ,a , and a , it
0 1 2 0 1 2
follows that y is in the algebraic closure of a ∪a ∪a ∪(a \{y}). This proves
0 1 2 3
the claim.
Thus, the lower bound of the conditions p for i ∈ 4 identifies a finite non-free
i
(cid:83)
set a ⊂X forced to be a subset of τ. This is a contradiction.
i i

12.3. PLACID FORCING 317
To state the following theorem in full generality, consider a definition.
Definition 12.3.4. A curve graph is a Borel graph Γ on R if there is a Borel
2
set A ⊂ R2 consisting of graphs of some collection of smooth curves in R2
whichareclosedassubsetsofR2 andcontainnostraightsegments,suchthatA
accumulates around 0 and Γ={{y ,y }∈[R2]2: y −y ∈A or y −y ∈A}.
0 1 0 1 1 0
Onegoodexampleofacurvegraphisobtainedasfollows. LetB ⊂Rbeasetof
positive reals accumulating around 0. Let A be the collection of circles around
theoriginwithradiibelongingtoB. Thus, theresultingcurvegraphΓconsists
of pairs of points whose Euclidean distance belongs to B. If B is countable,
then Γ does not contain an injective homomorphic copy of K and therefore
2,ω1
has countable coloring number by [25]. This is in effect Example 8.1.8.
AnotherexampleisobtainedbychoosingaclosedsmoothcurveC containing
no straight segments and passing though the origin such that for some number
n ∈ ω, n many distinct points in the plane belong to at most one translate of
C–perhaps a circle through the origin with n = 3 comes to mind. Let A = C.
The resulting curve graph Γ does not contain an injective homomorphic copy
of K whenever m ∈ ω is a number large enough so that
(cid:0)m(cid:1)
→
(cid:0)n(cid:1)
holds;
m,m m n 2
therefore, it has countable coloring number by [25].
Theorem 12.3.5. Let Γ be a curve graph on R2. In cofinally placid extensions
of the Solovay model, the chromatic number of Γ is uncountable.
Proof. Let A ⊂ R2 be the Borel set defining the curve graph Γ. Let κ be an
inaccessible cardinal. Let P be a Suslin poset which is placid cofinally below
κ. Let W be the symmetric Solovay model derived from κ, and work in W.
Suppose towards contradiction that there is a condition p ∈ P and a P-name
τ such that p forces τ to be a coloring from R2 to ω. We must find two Γ-
connected points and a condition stronger than p which forces the two points
to attain the same color in τ. The name τ and the condition p are definable
from ground model parameters and an additional parameter z ∈2ω. Let V[K]
be an intermediate model obtained by a forcing of cardinality smaller than κ
such that z ∈V[K] and P is placid in V[K]. Work in V[K].
Let p¯ ≤ p be a placid virtual condition. Consider the Cohen poset Q on
R2 with its name y˙ for the generic point in R2. There must be a cardinal
gen
λ∈κ, a Q×Coll(ω,λ)-name σ for a condition in the poset P stronger than p¯,
a nonempty open set O ⊂R2 and a number n∈ω such that O (cid:13) Coll(ω,λ)(cid:13)
Q
Coll(ω,< κ) (cid:13) σ (cid:13) τ(y˙ ) = nˇ. Let C be a smooth curve containing no
P gen
straight segments, which is a closed subset of R2, such that C ⊂ A and O
contains some pair of points y ,y such that y −y ∈ C; this is possible as
0 1 0 1
0 is an accumulation point of A. Let X = {(cid:104)y ,y (cid:105) ∈ R2: y ,y ∈ O and
0 1 0 1
y − y ∈ C}. Let y ,y ∈ Y be a pair of points generic over the model
0 1 0 1
V[K] over the Cohen poset on the space X; so (cid:104)y ,y (cid:105) ∈ Γ. Theorems 3.2.8
0 1
and 3.1.4 show that the points y ,y ∈ O are separately Q-generic over V[K],
0 1
and V[K][y ]∩V[K][y ]=V[K].
0 1
LetH ,H ⊂Coll(ω,<λ)befiltersmutuallygenericoverthemodelV[K][y ,y ],
0 1 0 1
and write p = σ/y ,H and p = σ/y ,H . By the mutual genericity, the in-
0 0 0 1 1 1

318 CHAPTER 12. THE SILVER DIVIDE
tersection V[K][y ][H ]∩V[K][y ][H ] equals to V[K]. By the placidity of the
0 0 1 1
condition p¯, the conditions p ,p are compatible. By the forcing theorem ap-
0 1
plied in the respective models V[K][y ][H ] and V[K][y ][H ], in the model W
0 0 1 1
any common lower bound of the conditions p ,p forces in the poset P that
0 1
τ(yˇ )=τ(yˇ )=nˇ. The proof is complete.
0 1
Theorem 12.3.6. Let E be an orbit equivalence on a Polish space resulting
from a generically turbulent action of some Polish group. In the cofinally placid
extensionsoftheSolovaymodel,thereisnotournamentontheE-quotientspace.
Proof. The argument depends on a simple abstract property of pairs of inde-
pendent continuous open maps on Polish spaces of Definition 3.1.3. Let m∈ω
be a number. For each natural number n ∈ m, let X be a Polish space, Y
n n
be Polish spaces and f : X → Y be continuous open maps. We define the
n n n
(cid:81) (cid:81) (cid:81)
product map f = f : X → Y by f(x)(n) = f (x(n)). It is not
n n n n n n n
difficult to check that the product map is continuous.
Claim 12.3.7. The set of pairs of independent maps is closed under finite
product.
Proof. Let m ∈ ω be a number. For each number n ∈ m let X be a Polish
n
space, Y ,Y be Polish spaces, and let f : X → Y , f : X → Y be
0n 1n 0n n 0n 1n n 1n
continuous open maps such that for all but finitely many n ∈ ω their ranges
are the whole spaces Y ,Y and such that each pair f ,f is independent.
0n 1n 0n 1n
(cid:81) (cid:81) (cid:81)
Write X = X , Y = Y and Y = Y . We must prove that the
n n 0 n 0n 1 n 1n
product maps f : X →Y and f : X →Y are independent.
0 0 1 1
To this end, let O ⊂ X be a nonempty open set; thinning out the set O if
(cid:81)
necessary, we may find open sets O ⊂ X for n ∈ m such that O = O .
n n n n
Let A ⊂ Y be an open set witnessing the independence of the pair f ,f
n 0n 0n 1n
(cid:81)
for the set O . We claim that the open set A = A ⊂ Y witnesses the
n n n 0
independence of the pair f ,f for O.
0 1
Toseethis,supposethatB ,B ⊂Aarenonemptyopensets;thinningthem
0 1
(cid:81)
out if necessary, we may find open sets B ,B ⊂A such that B = B
0n 1n n 0 n 0n
(cid:81)
and B = B . For each n∈m use the initial assumption on the set A to
1 n 1n n
find a walk w of points in O such that for the initial point x ∈w we have
n n 0n n
f (x )∈B and for the last point x ∈w we have f (x )∈B .
0n 0n 0n 1n n 0n 1n 1n
Now, each walk w is a finite string of points; shifting the indexation, we
n
may find successive intervals I of natural numbers for n ∈ m such that each
n
(cid:83)
walk w is indexed by numbers in I . Let K = I and consider the string
n n n n
of points in the open set O indexed by k ∈K, defined in the following way: for
eachk writen(k)forthatn∈mforwhichk ∈I ,andthendefinepointx ∈O
n k
by x (n)=x if n<n(k), x (n)=w (n) if n(k)=n, and finally x (n)=x
k 1n k k k 0n
if n(k)<n. It is easy to see that the sequence (cid:104)x : k ∈K(cid:105) is the desired walk
k
in the set O from B to B .
0 1
Now, towards the proof of Theorem 12.3.6, let Γ be a Polish group acting on
a Polish space X in a generically turbulent way, so that E is the resulting
orbit equivalence relation. Consider the space Γ×X ×X, its closed subset

12.3. PLACID FORCING 319
C = {(cid:104)γ,x ,x (cid:105): γ ·x = x } and the projection maps f : C → X into the
0 1 0 1 0
x -coordinate and f : C →X into the x coordinate. The two maps are inde-
0 1 1
pendent by Theorem 3.2.2. Let g ,g be the product maps f ×f and f ×f .
0 1 0 1 1 0
Thus, g ,g : C ×C → X ×X are continuous open maps, and they form an
0 1
independent pair by the claim.
LetκbeaninaccessiblecardinalandletP beaSuslinforcingwhichisplacid
cofinally below κ. Let W be the Solovay model derived from κ and work in the
model W. Let p ∈ P be a condition and τ be a P-name such that p (cid:13) τ is
a directed graph on the E-quotient space and for each pair (cid:104)c,d(cid:105) of distinct
E-equivalence classes, either (cid:104)c,d(cid:105) or (cid:104)d,c(cid:105) is in τ. We must find a condition
q ≤p and distinct E-classes c,d such that q (cid:13)(cid:104)c,d(cid:105)∈τ and (cid:104)d,c(cid:105)∈τ.
Both p,τ are definable in the model W from a parameter z ∈ 2ω and pa-
rameters in the ground model. Let V[K] be an intermediate forcing extension
obtained by a poset of size <κ containing z and such that P is placid in V[K];
work in the model V[K]. By the initial assumption on the poset P, there must
be a placid virtual condition p¯ ≤ p. Let Q be the Cohen forcing on X ×X,
adding generic points x˙ ,x˙ . There must be an open set O ⊂ X ×X forcing
0 1
the existence of a poset S˙ adding a condition σ ∈ P such that S˙ (cid:13) σ ≤ p¯and
Coll(ω,< κ) (cid:13) σ (cid:13) (cid:104)[x˙ ] ,[x˙ ] (cid:105) ∈ τ (or the whole statement repeated with
P 0 E 1 E
x˙ ,x˙ interchanged). Since Γ-orbits are dense, it is possible to find open sets
0 1
O ,O ⊂X andU ,U ⊂ΓsuchthatO ×O ⊂Oand(U ·O )×(U ·O )⊂O.
0 1 0 1 0 1 0 1 1 0
Now,considertheCohenposetRonthespaceC×C. Considerthecondition
U ∈ Q consisting of all tuples (cid:104)γ,x ,x ,δ,x ,x (cid:105) ∈ C ×C such that γ ∈ U ,
0 1 2 3 0
x ∈ O , δ ∈ U and x ∈ O . Let (cid:104)γ,x ,x ,δ,x ,x (cid:105) be an R-generic tuple
0 0 1 3 1 0 1 2 3
over the model V[K]. Note the following:
• (cid:104)x ,x (cid:105) is a pair Q-generic over V[K], meeting the condition O;
0 3
• similarly, (cid:104)x ,x (cid:105) is a pair Q-generic over V[K], meeting the condition O
2 1
by the choice of the neighborhoods U ,U ;
0 1
• x E x and x E x ;
0 1 3 2
• V[K][x ,x ]∩V[K][x ,x ]=V[K]bythefactthatg ,g areindependent
0 3 2 1 0 1
maps and Theorem 3.1.4.
Let S = S˙/x ,x and S = S˙/x ,x . Let H ⊂ S and H ⊂ S be filters
0 0 3 1 2 1 0 0 1 1
mutually generic over the model V[K][x : i ∈ 4]. By the third item above and
i
amutualgenericityargument, V[K][x ,x ][H ]∩V[K][x ,x ][H ]=V[K]. Let
0 3 0 2 1 1
p = σ/H and p = σ/H . By the placidity of the virtual condition p¯, the
0 0 1 1
conditions p ,p have a lower bound q ∈P. The forcing theorem finally shows
0 1
thatinthemodelW,q (cid:13)both(cid:104)[x ] ,[x ] (cid:105)and(cid:104)[x ] ,[x ] (cid:105)belongtoτ.
0 E 2 E 2 E 0 E
Corollary 12.3.8. Let X be a Borel vector space over a countable field Φ. Let
Y be an uncountable Polish field and let Ψ be a countable subfield.
1. Let P be the basis poset of Example 6.4.9. In the P-extension of the
symmetric Solovay model, Y does not have a transcendence basis.

320 CHAPTER 12. THE SILVER DIVIDE
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, X
has a Hamel basis over Φ, and Y does not have a transcendence basis over
Ψ.
Corollary 12.3.9. Let E be a Borel equivalence relation on a Polish space
induced by a generically turbulent Polish group action. Let F be a Borel equiv-
alence relation on a Polish space, classifiable by countable structures.
1. Let P be the linearization poset for F as in Example 8.6.5. In the P-
extension of the Solovay model, there is no tournament on the E-quotient
space;
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds, the
F-quotient space is linearly ordered, and yet there is no tournament on
the E-quotient space.
12.4 Existence of generic filters
Let P be a Suslin forcing. In the presence of suitable large cardinal axioms,
one can replace the P-extension of the symmetric Solovay model with the P-
extension of the model L(R). A standard absoluteness argument shows that
validity of Π2 sentences transfers from the former to the latter, and so the
1
latter can serve as a vehicle for most independence results presented in this
book. Anaturalquestionarises: doesthereexistafilterG⊂P whichisgeneric
over L(R)?
The answer is an easy yes if the poset P in question is σ-closed and the
Continuum Hypothesis holds, since then one can meet the dense subsets of the
poset P appearing in the model L(R) one by one in a straightforward trans-
finite recursion argument. An interesting feature of Bernstein balance is that
it guarantees the existence of generic filters over inner models such as L(R)
independently of cardinal arithmetic and assumptions such as the Continuum
Hypothesis, purely as a consequence of large cardinal axioms.
Definition 12.4.1. Let P be a Suslin forcing.
1. If B ⊂P is a set and p∈P then write p≤B to denote that p is stronger
than all conditions in B;
2. if B ⊂P then τ is the Coll(ω,B)-name for the analytic set {p∈P: p≤
B
B}.
3. We say that P is soft if for every centered set B ⊂ P of cardinality less
than c there is a centered set C ⊃B such that the pair (cid:104)Coll(ω,C),τ (cid:105) is
C
a Bernstein balanced virtual condition.
Note that a soft poset P must have the following centeredness property: if
B ⊂ P is a countable centered set, then B has a lower bound. To see this,

12.4. EXISTENCE OF GENERIC FILTERS 321
just extend it into an Bernstein balanced centered set C ⊂P, note that in the
Coll(ω,C)-extension, the set C has a lower bound by the definition, and by a
Mostowski absoluteness argument the set B must have a lower bound already
in the ground model.
Theorem 12.4.2. Suppose that there is a weakly compact Woodin cardinal.
Suppose that P is a soft Suslin forcing. Then there is a filter G ⊂ P which is
generic over the model L(R).
Proof. LetB ⊂P beacenteredsetofsize<c,andletD ⊂P beanopendense
set in L(R). We will show that there is a condition p ∈ D such that {p}∪B
is a centered set. The theorem then follows by a straightforward transfinite
recursion construction, given the fact that there are only c-many subsets of P
in the model of L(R) as soon as a measurable cardinal exists. So, let C ⊃B be
an Bernstein balanced centered set witnessing the definitory properties of the
softposetP. ThesetD isdefinablefromarealparameterinthemodelL(R#).
Below, we identify the set D with its definition.
LetκbeaweaklycompactWoodincardinal,letQ betheassociatedcount-
κ
ablybasedstationarytower,letK ⊂Q beagenericfilterandworkinthemodel
κ
V[K]. Note that κ = ℵ and every element of 2ω is generic over V by a poset
1
smallerthanκ. ConsidertheposetR=Coll(ω,C)anduseProposition1.7.10to
find a perfect collection {H : y ∈2ω} of filters on R pairwise mutually generic
y
over the ground model V. Use Proposition ?? to see the following:
Claim 12.4.3. For every finite set a⊂P such that a∪C is a centered set, the
set Y ={y ∈2ω: ∃p∈V[H ] p≤C and the set {p}∪a has no common lower
a y
bound} is countable.
Let j: V → M be the generic ultrapower associated with K; the model M
is closed under ω-sequences. Work in the model M. The closure properties
of the model M guarantee that the following objects belong to the model M:
the collection {H : y ∈ 2ω}, the collection {P ∩V[H ]: y ∈ Y}, and the map
y y
a (cid:55)→ Y as a varies over finite subsets of P such that a∪C is a centered set.
a
Also,themodelM satisfiesthestatementthattherangeofthismapconsistsof
countablesets. Lookingatthesetj(C)inthemodelM, weseethat|j(C)|<c,
and for each finite set a⊂j(C) the set a∪C ⊂j(C) is centered, and therefore
the set Y ⊂2ω is countable. By a cardinality argument, there must be a point
a
y ∈2ω\ (cid:83) {Y
a
: a∈[j(C)]<ℵ0}.
WorkinthemodelV[H ]. NotethatthetheoryofL(R#)withrealparame-
y
tersisinvariantunderforcingandsothesetD ⊂P isstillopendenseinV[H ].
y
Thus, there must be a condition p ∈ D∩V[H ], p ≤ C. By the choice of the
y
point y ∈ Y, the set {p}∪j(C) is centered. Thus M |= there is a condition
p∈D such that {p}∪j(C) is centered. By the elementarity of the embedding
j, M |= there is a condition p∈D such that {p}∪C is centered; in particular,
{p}∪B is centered as desired.
The following examples all use the Woodin cardinal assumption which is not
spelled out.

322 CHAPTER 12. THE SILVER DIVIDE
Example 12.4.4. LetX beaPolishvectorspaceoveracountablefield. There
isabasisgenericoverL(R)fortheposetP ofExample6.4.9. Thisfollowsfrom
Theorem12.4.2andTheorem??(1): everycenteredsubsetofP yieldsalinearly
independent set, which can be extended to a maximal linearly independent set.
AmaximallinearlyindependentsetyieldsaBernsteinbalancedconditionwhere
E is simply the identity on 2ω.
Example 12.4.5. Let Γ be a Borel graph on a Polish space X. There is a
maximal acyclic subgraph ∆ ⊂ Γ generic over L(R) for the poset P of Exam-
ple6.4.10.ThisfollowsfromTheorem12.4.2andTheorem??(2): everycentered
subset of P yields an acyclic subset of Γ, which can be extended to a maximal
acyclic set. A maximal acyclic set yields a Bernstein balanced condition where
E is simply the identity on 2ω.
Example 12.4.6. Let E be a pinned Borel equivalence relation on a Polish
space X. There is a linear ordering on the E-quotient space generic over L(R)
for the poset P of Example 8.6.5. This follows from Theorem 12.4.2 and Theo-
rem8.6.4: everycenteredsubsetofP yieldsapartialorderingontheE-quotient
space, which can be extended to a linear order. A linear ordering on the E-
quotientspaceyieldsaBernsteinbalancedcondition,bythepinnedassumption
on E and Theorem 8.6.4.
Example 12.4.7. LetE,F bepinnedBorelequivalencerelationsonrespective
Polish spaces X,Y with uncountably many classes each. There is an injection
from the E-quotient to the F-quotient space generic over L(R) for the poset of
Definition 6.6.2. This follows from Theorem 12.4.2 and Theorem 6.6.3: every
centered subset of P of size < c yields a partial injection from the E-quotient
to the F-quotient space and also a set of F-classes which are the forbidden
values, both of size < c. A counting argument provides a total injection from
the E-quotient to the F-quotient space extending the given one and avoiding
the given set of forbidden values. Such an injection yields a Bernstein balanced
condition by Theorem 6.6.3, where G=E×F.
Many other examples can be produced by the observation that the class of soft
forcings is closed under countable product. The nonexamples are perhaps more
interesting than the examples.
Example 12.4.8. Let P be the P(ω) modulo finite poset. It is not Bernstein
balancedbyTheorem12.2.3above. TheP-extensionofL(R)containsaRamsey
ultrafilter on ω, in particular a P-point. At the same time, it is consistent [82]
and occurs in the product Silver model [18] that there are no P-points on ω. In
such circumstances, there cannot be a filter on P generic over L(R).
Example 12.4.9. Let P be the Lusin poset of Definition 8.8.5. It is not Bern-
stein balanced by Theorem 12.2.6 above. The P-extension of L(R) contains a
Lusin subset of 2ω. At the same time, the negation of Martin’s Axiom and the
negationofthecontinuumhypothesisimpliesthateverysetofsizeℵ ismeager
1
??? and so no Lusin set exists. In such circumstances, there cannot be a filter
on P generic over L(R).

12.4. EXISTENCE OF GENERIC FILTERS 323
Example 12.4.10. Consider the clopen graph Γ on 2ω connecting points x (cid:54)=
0
x ifthesmallestn∈ω suchthatx (n)(cid:54)=x (n)iseven. LetP bethebalanced
1 0 1
posetofExample8.8.3. ItisnotBernsteinbalancedbyExample12.2.16above.
In the P-extension of L(R), there is an uncountable set A⊂2ω such that every
Γ-clique and every Γ-anticlique in it is countable. Now, since the graph Γ is
clopen, closures of both Γ-cliques and Γ-anticliques are cliques and anticliques
respectively. Thus, the stated property of A holds also in V. At the same
time, it is consistent that OCA holds in V [91]. In such circumstances, every
uncountable subset of Γ must contain either a Γ-clique or an uncountable Γ-
anticlique and therefore a P-generic filter over V cannot exist.
TheclassesofBernsteinbalancedandsoftSuslinforcingsdonotcoincide,which
leads to the following question about the existence of generic filters for a par-
ticularly simple Bernstein balanced Suslin poset which is not soft.
Question 12.4.11. (In the context of ZFC+suitable large cardinal assump-
tion.) Is there a tournament on the F -quotient space which is generic over
2
L(R) for the poset of Example 8.6.6?
Weconcludethissectionwithamutual genericityresultfor Bernsteinbalanced
and perfectly balanced forcings.
Theorem 12.4.12. Let κ be a weakly compact Woodin cardinal. Let P ,P be
0 1
σ-closed Suslin forcings such that
1. P ,P are ℵ -tethered;
0 1 0
2. P is perfect;
0
3. every balanced virtual condition in P is Bernstein balanced.
1
If G ⊂ P and G ⊂ P are filters (in V) separately generic over L(R), then
0 0 1 1
they are mutually generic over L(R).
Proof. Westartwithapreliminaryobservation. Letp¯ bethevirtualcondition
0
in P consisting of a collapse name for the set of all lower bounds of the filter
0
G ; let p¯ be defined similarly. By the σ-closure assumption, both p¯ , p¯ are
0 1 0 1
nonzero conditions. Since the filter G is generic over L(R), for every analytic
0
set A ⊂ P there is a condition in G which is either incompatible with all
0 0
elements of A or is stronger than some element of A. By the ℵ -tether of the
0
poset P , it must then be the case that p¯ is a balanced virtual condition in P .
0 0 0
By the same reasoning, p¯ is a balanced virtual condition in P , and it is even
1 1
Bernstein balanced by the assumption (3).
Now, let X be any uncountable Polish space. In view of Proposition 1.7.8
applied in the model L(R), it is enough to show that for any two disjoint sets
A ,A ⊂X in the respective models L(R)[G ], L(R)[G ], there is a set B ⊂X
0 1 0 1
inL(R)containingA anddisjointfromA . Tothisend,letτ ,τ berespective
1 0 0 1
P ,P -namesinL(R)suchthatA =τ /G andA =τ . Thenamesτ ,τ can
0 1 0 0 0 1 1 0 1
be viewed as sets of reals, and so each has a definition in L(R) from real and

324 CHAPTER 12. THE SILVER DIVIDE
ordinal parameters; below, we will evaluate them in other models using these
definitions. We also evaluate P ,P using their definitions. Write (cid:13) for the
0 1 0
forcing relation of P and (cid:13) for the forcing relation of P .
0 1 1
Let H ⊂ Q be a generic filter. Let j: V → M be the associated generic
κ
ultrapower and work in the model M. Note that G ⊂j(G ) is a countable set
1 1
inthemodelM andbytheσ-closureassumptionontheposetP ,thefilterj(G )
1 1
must contain a lower bound of G . Consider the set B ={x∈X: ∃p∈P p is
1 1
alowerboundofthefilterG andp(cid:13) xˇ∈τ }. Clearly,thesetB ⊂X belongs
1 1 1
to L(R) and it contains the set j(A ). By the elementarity of the embedding j,
1
it will be enough to show that B is disjoint from the set j(A ).
0
To see this, we prove the following claim, which is also a statement of the
model M. Call a Borel set C ⊂X positive if for every condition p ∈P which
1 1
is a lower bound of the filter G , p (cid:13) C ∩τ (cid:54)= 0. By the forcing theorem
1 1 1 1
applied to j(G ), C∩A (cid:54)=0 holds for every positive Borel set C. Clearly, the
1 1
collection of positive Borel sets is in L(R).
Claim 12.4.13. Ifp ∈P isaconditionwhichisalowerboundofthefilterG
0 0 0
and x ∈ B is a point such that p (cid:13) xˇ ∈ τ , then there is a condition p(cid:48) ≤ p
0 0 0 0 0
and a positive Borel set C ⊂X such that p(cid:48) (cid:13) C ⊂τ .
0 0 0
The theorem immediately follows. By the claim and the genericity of the filter
j(G )overL(R),theremustbeinj(G )eitheraconditionwhichforcesB∩τ =
0 0 0
0 or a condition which forces C ⊂ τ for some Borel positive set C ⊂ X.
0
However,thelatteralternativemeansthatj(A )∩j(A )(cid:54)=0,contradictingour
0 1
initial assumptions on A ,A . The former alternative confirms that the set B
0 1
separates j(A ) and j(A ) as required.
0 1
To prove the claim, fix p ∈P and x∈X as in the assumption. In view of
0 0
the fact that the reals of the model M are the reals of some symmetric Solovay
model derived from κ (Fact 1.7.18(3)), in the ground model there must be a
poset Q of size < κ and Q-names σ ,σ ,η for conditions in P ,P and a point
0 1 0 1
inX respectivelysuchthatQforcesthatσ isalowerboundofG ,σ isalower
0 0 1
bound of G and Coll(ω,<κ)(cid:13)σ (cid:13) η ∈τ and Coll(ω,<κ)(cid:13)σ (cid:13) η ∈τ .
1 0 0 0 1 1 1
Moreover, there has to be a filter K ⊂ Q generic over V such that p = σ /K
0 0
andx=η/K. Now,letH ⊂Coll(ω,P(Q)∩V)beafilterinM mutuallygeneric
over V with the filter K.
Work in the model V[H]. Use Proposition 1.7.10 to find a continuous func-
tion y (cid:55)→ H which to each element y ∈ 2ω assigns a filter H ⊂ Q so that for
y y
everyfiniteseta⊂2ω, thefilters{H : y ∈a}aremutuallygenericoverV. For
y
every element y ∈2ω, write p =σ /K , p =σ /K , and x =η/K . Since
0y 0 y 1y 1 y y y
the conditions p ∈P are all stronger than the balanced virtual condition p¯
0y 0 0
and they are found in mutually generic models, each finite set of them has a
lower bound as in Claim 12.1.4. By the perfectness assumption on the poset
P , the model V[H] contains a perfect set D ⊂ 2ω and a condition r ∈ P
0 0
which is stronger than all p for all y ∈ D. Since both conditions p ,r ∈ P
0y 0 0
are stronger than the balanced virtual condition p¯ and are found in mutually
0
generic models, they are compatible with a lower bound p(cid:48).
0

12.4. EXISTENCE OF GENERIC FILTERS 325
Now,considertheset{p : y ∈D}andtheperfectsetC ={x : y ∈D}. By
1y y
theBernsteinbalanceofthevirtualconditionp¯ ,everyconditionp ∈P which
1 1 1
is a lower bound of the filter G is compatible with p for all but countably
1 1y
many points y ∈ D. As a result, C ⊂ X is a positive Borel set. The initial
choice of the name η also implies that p(cid:48) (cid:13) C ⊂ τ . The claim has just been
0 0
proved.

326 CHAPTER 12. THE SILVER DIVIDE

Chapter 13
The arity divide
13.1 m,n-centered and balanced forcings
In this chapter, we develop a tool which is particularly useful for ruling out
combinatorial objects with high degree of organization. The following notion is
central:
Definition 13.1.1. Let P be a Suslin poset and n∈m be numbers.
1. A virtual condition p¯in P is m,n-balanced if in every generic extension,
whenever {H : i ∈ m} are filters generic over V such that for every set
i
a ⊂ m of size n the filters {H : i ∈ a} are mutually generic over V, if
i
p ≤ p¯ are conditions in P in V[H ], then the set {p : i ∈ m} has a
i i i
common lower bound in P.
2. The poset P is m,n-balanced if for every condition p∈P there is a m,n-
balanced virtual condition p¯≤p.
As an initial example, let P be the poset of linear orderings on countable sets
ofE -classes, orderedbyreverseextension. Thebalancedvirtualconditionsare
0
classified by linear orderings of the E -quotient space. Each such ordering p¯is
0
in fact m,2-balanced for every m ∈ ω. To see this, in some ambient forcing
extensionletV[G ]fori∈mbegenericextensionswhicharepairwisemutually
i
generic, and let p ∈ V[G ] be a condition stronger than p¯ for each i ∈ m.
i i
The domains of the linear orderings p pairwise intersect in the set of ground
i
model E -classes; on this set, the orderings p agree and yield the ordering p¯.
0 i
(cid:83)
Therefore, it is possible to find a common linearization of p , which is their
i i
common lower bound.
Sometimes, a much simpler notion makes an appearance:
Definition 13.1.2. Let n ∈ m be numbers. A poset P is m,n-centered if
whenever a ⊂ P is a set of size m such that any subset of a of size n has a
common lower bound, then a has a common lower bound.
327

328 CHAPTER 13. THE ARITY DIVIDE
Asaninitialexample,letP bethepartialorderofalltournamentsoncount-
ablesetsofE -classes,orderedbyreverseinclusion. Init,everycountablesetof
0
pairwise compatible conditions has a common lower bound. It is immediately
clear that every balanced poset which is m,n-centered is also m,n-balanced
and each balanced virtual condition in it is m,n-balanced. An important part
of this chapter is devoted to detecting distinctions between m,n-balanced and
m,n-centered forcings. Here, we restrict ourselves to two initial observations.
Note that m,n-centeredness (unlike the corresponding balance notion) is Π1
2
and therefore absolute between all generic extensions. Note also that m,n-
centeredness is a combinatorial (as opposed to forcing) property of the the
poset, in the sense that one can have two analytic dense subsets Q ,Q of a
0 1
given Suslin poset P such that Q is m,n-centered while Q is not. On the
0 1
other hand, m,n-balance is decidedly a forcing property of posets.
As a final remark, observe that both m,n-balance and m,n-centeredness
are properties preserved by countable support product. Thus, the numerous
independence results in this chapter can be combined.
13.2 Preservation theorems
The main reason for considering the m,n-balance is that it rules out discon-
tinuous homomorphisms between Polish groups in balanced extensions of the
symmetric Solovay model. One way of doing that is to prove that in the given
model of ZF+DC, the chromatic number of the Hamming graph H is not two
2
(sayusingTheorem11.4.13or14.4.7),andthenusearesultof[76]toshowthat
in ZF+DC this rules out discontinuous homomorphisms. The following theo-
rem works in many cases which are not treatable using the chromatic number
of the Hamming graph. Note that a nonprincipal ultrafilter on ω yields in ZF
a discontinuous homomorphism from 2ω to 2; thus, ruling out discontinuous
homomorphisms automatically rules out nonprincipal ultrafilters on ω as well.
The following theorems are stated using Convention 1.7.16.
Theorem 13.2.1. Let n ∈ ω be a number. In cofinally n+1,n-balanced ex-
tensions of the symmetric Solovay model, all homomorphisms between Polish
groups are continuous.
Proof. Suppose that κ is an inaccessible cardinal. Suppose that P is a Suslin
forcing which is is n+1,n-balanced cofinally below κ. Let W be a symmetric
SolovaymodelderivedfromκandworkinW. Supposetowardsacontradiction
that the conclusion of the theorem fails: thus, there are Polish groups Γ,∆, a
condition p ∈ P and a P-name τ such that p (cid:13) τ: Γ → ∆ is a discontinuous
homomorphism. Both p and τ must be definable in W from parameters in
the ground model and some point z ∈ 2ω. Let V[K] be some intermediate
extension of V by a poset of cardinality smaller than κ such that z ∈V[K] and
P is n+1,n-balanced in V[K]. Work in the model V[K].
Let p¯≤p be a n+1,n-balanced condition. Consider the poset P adding a
Γ
generic element γ˙ of the group Γ. The following is a key claim:
gen

13.2. PRESERVATION THEOREMS 329
Claim13.2.2. P forcesthattherearedisjointbasicopensetsO ,O ⊂∆such
Γ 0 1
thatColl(ω,<κ)(cid:13)∃p ≤p¯p (cid:13) τ(γ˙ )∈O and∃p ≤p¯p (cid:13)τ(γ˙ )∈O .
0 0 P gen 0 1 1 gen 1
Proof. Suppose towards a contradiction that q ∈P forces the opposite. Then,
Γ
q forces that in the Coll(ω,< κ)-extension there is a unique point δ ∈ ∆ such
that there is a condition p(cid:48) ≤ p¯in the poset P forcing τ(γ˙ ) = δ. Since the
gen
pointδ isinthesymmetricSolovaymodeldefinablefromτ,p¯, andγ˙ , itmust
gen
belong to the P -extension, and there is a P -name δ˙ for it. Note that then,
Γ Γ
q (cid:13)Coll(ω,<κ)(cid:13)p¯(cid:13) δ˙ =τ(γ˙ ).
P gen
Now,passtothesymmetricSolovaymodelW andconsiderthesetB ={γ ∈
Γ: γ is P -generic over V[K] and γ ∈q} and the function f: B →∆ assigning
Γ
to each point γ ∈B the point δ˙/γ. The function f is continuous on B, and the
choice of the name δ˙ implies that p¯(cid:13)fˇ⊂τ holds. The set B ⊂Γ is dense G
δ
in q. A standard result in the theory of Polish groups [55, Theorems 9.9 and
9.10] now says that a homomorphism from Γ to ∆ which is continuous on a set
comeager in a nonempty open set is in fact continuous on the whole group Γ.
This contradicts the initial choice of the name τ.
Let X = {x ∈ Γn+1: (cid:81) x(i) = x(n)}; this is a closed subset of Γn+1,
i∈n
equipped with the topology inherited from Γn+1. If a ⊂ n+1 is a set of size
n, it is clear that the remaining coordinate of a point x ∈ X is a continuous
function of the coordinates x(i) for i ∈ a, and therefore the projection from X
to Γa is a continuous and open surjection. Let x ∈ X be a point P generic
X
over V[K]. Use Proposition 3.1.1 to see that whenever a ⊂ n+1 are distinct
numbers then x(cid:22)a∈Γ is a sequence (P )n-generic over V[K].
Γ
Fix i ∈ n. Working in the model V[K][x(i)] find a poset R of size < κ
i
and a name σ for a condition in the poset P stronger than p¯ and a name δ˙
i i
for an element of the group ∆ such that V[K][x(i)] |= R (cid:13) Coll(ω,< κ) (cid:13)
i
σ (cid:13) τ(x(i)) = δ˙ . In the model V[K][x(n)], find the disjoint basic open sets
i P i
(cid:81)
O ,O ⊂ ∆ as in Claim 13.2.2. Passing to a condition in the product R
0 1 i∈n i
andswitchingO ,O ifnecessary,wemayassumethatV[K][x(cid:22)n]|= (cid:81) R (cid:13)
0 1 i∈n i
(cid:81)
x(i)∈/ O . UsethechoiceofthesetO tofind,inthemodelV[K][x(n)],a
i∈n 0 0
poset R of size <κ, R -names σ for an element of P stronger than p¯and δ˙
n n n n
for an element of O ⊂∆ such that R (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) τ(xˇ(n))=δ˙ .
0 n n P n
LetH ⊂R fori∈n+1befiltersmutuallygenericoverthemodelV[K][x].
i i
For each i ∈ n+1 write p = σ /H ∈ P and δ = δ˙ /H . Note that whenever
i i i i i i
a⊂n is a set of size n, the models V[K][x ][H ] for i∈a are mutually generic
i i
extensionsofthemodelV[K]. Bythebalanceassumptiononthevirtualcondi-
tionp¯,theconditionsp ∈P fori∈n+1havealowerbound,callitq ∈P. Let
i
W be a symmetric Solovay extension of the model V[K][x][H : i ∈ n+1] and
i
work in W. The condition q forces that τ(x(i))=δ for all i∈n+1. Observe
i
(cid:81) (cid:81) (cid:81)
that = x(n) and δ (cid:54)= δ since δ ∈/ O while δ ∈ O . This
i∈n i∈n i n i∈n i 0 n 0
contradicts the assumption that τ is forced to be a homomorphism from Γ to
∆.
Theorem 13.2.1 has a counterpart for certain quotient groups. Suppose that I

330 CHAPTER 13. THE ARITY DIVIDE
is a Borel ideal on ω. The quotient space P(ω)/I will be viewed as a group
with the (quotient of the) symmetric difference operation. A homomorphism
h: P(ω)/I →P(ω)/J is Borel if the set {(cid:104)x,y(cid:105)∈P(ω)×P(ω): h([x] )=[y] }
I J
is Borel.
Theorem 13.2.3. Let I,J be Borel ideals on ω containing all singletons and
suppose that the modulo J equality is a pinned equivalence relation. Let n ∈ ω
be a number. In cofinally n+1,n-balanced extensions of the symmetric Solovay
model, all homomorphisms of P(ω)/I to P(ω)/J are Borel.
The assumptions are satisfied in particular for the F -ideals J (as then the
σ
moduloJ equalityisanF -equivalencerelationandassuchpinned[48,Theorem
σ
17.1.3 (iii)]) and for the analytic P-ideals J (as they are Borel and Polishable
by [85]. The modulo J equality is an orbit equivalence relation of the action of
the Polish abelian group J by the symmetric difference, and orbit equivalence
relations of abelian Polish groups are pinned by [48, Theorem 17.1.3 (ii)]).
Proof. Write E for the modulo I equality and F for modulo J equality, both
Borel equivalence relations on X = P(ω). Suppose that κ is an inaccessible
cardinal. SupposethatP isaSuslinforcingwhichisisn+1,n-balancedcofinally
below κ. Let W be a symmetric Solovay model derived from κ and work in
W. Suppose towards a contradiction that the conclusion of the theorem fails.
Thus, there is a condition p ∈ P and a P-name τ such that p forces τ is a
homomorphism. Both p and τ must be definable in W from parameters in the
groundmodelandsomepointz ∈2ω. LetV[K]beagenericextensionofV bya
posetofcardinalitysmallerthanκsuchthatz ∈V[K]andP isn+1,n-balanced
in V[K].
Work in the model V[K]. Let p¯ ≤ p be a n + 1,n-balanced condition.
Consider the Cohen poset Q on X adding a generic set x˙ ⊂ ω. There are
gen
two cases.
Case 1. Q (cid:13) ∀y ⊂ ω Coll(ω,< κ) (cid:13) ∃r ≤ p¯ r (cid:13) τ([x˙ ] ) (cid:54)= [y] holds.
P gen E F
This case in fact leads to a contradiction. Write ∆ for the symmetric difference
operation on X and utilize its associativity to apply it also to finite tuples of
subsets of ω. Let X¯ ={x¯∈Xn+1: ∆ x(i)=x(n)}; this is a closed subset of
i∈n
Xn+1, equipped with the topology inherited from Xn+1. If a⊂n+1 is a set of
sizen,itisclearthattheremainingcoordinateofapointx∈X isacontinuous
function of the coordinates x(i) for i ∈ a, and therefore the projection from X
to Γa is a continuous and open surjection. Let x¯ ∈ X¯ be a point P X¯ generic
over V[K]. Use Proposition 3.1.1 to see that whenever a ⊂ n+1 are distinct
numbers then x¯(cid:22)a∈Γ is a sequence Qn-generic over V[K].
Fix i ∈ n. Working in the model V[K][x(i)] find a poset R of cardinality
i
smaller than κ and an R -name σ for a condition in the poset P stronger than
i i
p¯and an R -name η for a such that V[K][x(i)] |= R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13)
i i i i P
τ([x(i)] ) = [η ] . Let H ⊂ R for i ∈ n be filters mutually generic over the
E i F i i
model V[K][x¯]. Write p =σ /H and y =η /H for i∈n, and look at the set
i i i i i i
y =∆ y ⊂ω. There are two hopeless subcases.
i∈n i

13.2. PRESERVATION THEOREMS 331
Case 1a. The equivalence class [y] is represented in the model V[K][x¯(n)].
F
Work in the model V[K][x¯(n)]. Use the initial case assumption to find a poset
R , an R -name σ for a condition in P such that R (cid:13) Coll(ω,< κ) (cid:13)
n n n n
σ (cid:13) τ([x¯(n)] ) (cid:54)= [y] . Let H ⊂ R be a filter generic over the model
n E F n n
V[K][x¯][H : i ∈ n] and let p = σ /H . Note that for every j ∈ n+1, the
i n n n
models V[K][x¯(i)][H ] for i ∈ n+1\{j} are mutually generic over V[K]. It
i
follows from the n+1,n-balance assumption on the condition p¯that the con-
ditions p for i∈n+1 have a common lower bound, say r ∈P. The condition
i
r forces τ([x¯(i)] ) = [y ] for all i ∈ n, and τ(x ) is not modulo J equiva-
E i F n
lent to y = ∆ y . This contradicts the assumption that τ is forced to be a
i∈n i
homomorphism, as x =∆ x .
n i∈n i
Case 1b. Case 1a fails. Work in the model V[K][x¯(n)]. Find a poset R , an
n
R -name σ for a condition in P and an R -name η for a subset of ω such
n n n n
that R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) τ([x¯(n)] ) (cid:54)= [η ] . Let H ⊂ R be a filter
n n E n F n n
genericoverthemodelV[K][x¯][H : i∈n]andletp =σ /H andy =η /H .
i n n n n n n
Now, either the name η is F-pinned below some condition in the filter H , in
n n
which case the F-class [y ] is represented in V[K][x¯(n)] by the assumption
n F
that F is pinned, or the name η is not F-pinned below any condition in the
n
filter H , in which case the F-class [y ] is not represented even in the model
n n F
V[K][x¯(i): i ∈ n][H : i ∈ n] by the mutual genericity. In either case, y F y
i n
fails.
The rest of Case 1b is identical to Case 1a. For every index j ∈ n+1,
the models V[K][x¯(i)][H ] for i ∈ n+1\{j} are mutually generic over V[K].
i
It follows from the n + 1,n-balance assumption on the condition p¯ that the
conditions p for i ∈ n + 1 have a common lower bound, say r ∈ P. The
i
condition r forces τ([x¯(i)] )=[y ] for all i∈n, and τ(x )=y is not modulo
E i F n n
J equivalent to y = ∆ y . This contradicts the assumption that τ is forced
i∈n i
to be a homomorphism, as x =∆ x .
n i∈n i
Case2. Case1fails. BytheBorelreadingofnamesfortheposetQ,wecanfind
a Borel set B ⊂ X co-meager in some nonempty open set O ⊂ X and a Borel
function f: B →X such that O (cid:13)Coll(ω,<κ)(cid:13)p¯(cid:13)τ([x˙ ] )=[f˙(x˙ )] .
gen E gen F
Now, in the model W let C ⊂ B be the set of all points which are Q-generic
over V[K]. Note that the set C ⊂ B is comeager in O and Borel, and by the
forcing theorem, p¯ (cid:13) ∀x ∈ C τ([x] ) = [f(x)] . Since the set C is Borel
P E E
and non-meager, for all infinite sets y ∈ X there are sets x ,x ∈ C such that
0 1
x ∆x = y modulo finite (Pettis theorem, [55, Theorem 9.9]). It is then clear
0 1
thatp¯forcesthehomomorphismτ tobeBorel: τ([y] )=[z] justincasethere
E F
exist x ,x ∈ C such that x ∆x = y modulo finite and z F f(x )∆f(x ),
0 1 0 1 0 1
and τ([y] ) = [z] just in case for all x ,x ∈ C such that x ∆x = y modulo
E F 0 1 0 1
finite, z F f(x )∆f(x ). These are in turn analytic and coanalytic descriptions
0 1
of τ.
Thevariousdegreesofn+1,n-balancearenotdifficulttoseparate. Onepartic-
ularly elegant way of doing so is to seek monochromatic solutions to equations
inPolishgroups. Westateoneprominentcase,leavingtheotherstothepatient
reader.

332 CHAPTER 13. THE ARITY DIVIDE
Theorem 13.2.4. Let (cid:104)Γ,·(cid:105) be an uncountable Polish group such that the map
γ (cid:55)→γ·γ is a self-homeomorphism of Γ. In cofinally 3,2-balanced extensions of
the symmetric Solovay model, for every coloring c: Γ→ω there is a solution to
the equation xy = zz consisting of monochromatic, pairwise distinct points in
Γ.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin poset which is
cofinally3,2-balancedbelowκ. LetW bethesymmetricSolovaymodelderived
from κ and work in W. Let τ be a P-name and p ∈ P be a condition forcing
τ to be a map from Γ to ω. We must find a solution to the equation xx = yz
consisting of pairwise distinct points and a condition stronger than p which
forces the point of the solution to have all the same color.
The name τ and the condition p must both be definable with parameters in
thegroundmodelandanotherparametersz ∈2ω. LetV[K]beanintermediate
model obtained by a poset of cardinality smaller than κ such that z ∈ V[K]
and P is 3,2-balanced in V[K]. Work in the model V[K]. Let p¯ ≤ p be a
3,2-balancedvirtualcondition. LetP betheCohenposetonthegroupΓwith
Γ
its name for the generic point γ˙ in Γ. There must be a cardinal λ < κ, a
gen
number n ∈ ω, a P ×Coll(ω,λ)-name σ and a condition O ∈ P such that
Γ Γ
O (cid:13)Coll(ω,λ)(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) τ(γ˙ )=nˇ.
P gen
Let γ ∈O be an arbitrary point, and let δ ∈Γ be a point so close (but not
equal) to the unit that both γδ and δ−1γ belong to the open set O ⊂ Γ. Note
that the points γδ, δ−1γ, and γ are pairwise distinct and solve the equation
xy = zz. (If γδ = δ−1γ then the square of this point would give the same
result as γγ, contradicting the assumption that the squaring function is a self-
homeomorphism, in particular a bijective self-map, of Γ.) Let O ,O ,O ⊂ O
0 1 2
be pairwise disjoint open sets separating these three points, and let X¯ = {x¯ ∈
O × O × O : x¯(0)x¯(1) = x¯(2)x¯(2)}. This is a relatively closed subset of
0 1 2
O × O × O . Moreover, each coordinate of a point in X¯ is a continuous
0 1 2
function of the other two (in the case of the third coordinate this again uses
the assumption that the squaring function is a self-homeomorphism of Γ) and
therefore the projection maps from X¯ into any pair of coordinates are open
maps from X¯ to Γ2.
Consider the Cohen poset P X¯. Let x¯ ∈ X¯ be a triple of points which is
P X¯-genericoverthemodelV[K]. UseProposition3.1.1toseethatthesepoints
are pairwise mutually P -generic below the condition O. Let H ⊂ Coll(ω,λ)
Γ i
fori∈3befiltersmutuallygenericoverthemodelV[X][x¯], andletp =σ /H .
i i i
Since the extensions V[K][x¯(i)][H ] for i∈3 are pairwise mutually generic, the
i
balance assumption on the virtual condition p¯shows that the conditions p for
i
i ∈ 3 have a common lower bound, say r ∈ P. By the forcing theorem applied
in the respective models V[K][x¯(i)][H ] for i ∈ 3, we see that r forces all three
i
points in the triple x¯ to have the same color n. At the same time, the triple
solves the equation xy =zz as required.
Finally, we move to the much better organized world of 3,2-centered forcings.

13.2. PRESERVATION THEOREMS 333
Theorem 13.2.5. Let Γ be an acyclic Borel graph on a Polish space X such
that the Γ-path connectedness relation is Borel and unpinned. In 3,2-centered,
cofinallybalancedextensionsofthesymmetricSolovaymodel, Γhasnomaximal
acyclic subgraph.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin, 3,2-centered poset
which is balanced cofinally below κ. Let W be a symmetric Solovay model
derived from κ. Work in W. Suppose that p∈P is a poset and τ is a P-name
such that p forces τ to be a spanning subset of Γ. We will find a cycle in Γ and
a condition stronger than p which forces the cycle to be a subset of τ.
Theconditionpandthenameτ aredefinablefromgroundmodelparameters
and an additional parameter in 2ω. Let V[K] be an intermediate extension
containing z obtained by a poset of cardinality smaller than κ and such that
P is balanced in V[K]. Work in the model V[K]. Let p¯ ≤ p be a balanced
virtual condition in P. The equivalence relation E is not pinned in V[K] by
Corollary2.7.3,andthereisanontrivialE-pinnednameontheposetcollapsing
ℵ to ℵ by Theorem 2.6.3. By the cofinal balance assumption, there must
1 0
be a poset Q of cardinality smaller than κ, a nontrivial E-pinned Q-name η
for an element of X, and a Q-name σ for a balanced virtual condition in the
Q-extension which is stronger than p¯. Let H ,H ,H ⊂ Q be filters mutually
0 1 2
generic over V[K] and write p¯ = σ/H and x = η/H for i ∈ 3. For distinct
i i i i
indices i,j ∈3, we conclude by the balance of the condition p¯in V[K] that the
virtualconditionsp¯, p¯ mustbecompatible. Thus, inthemodelV[K][H ][H ],
i j i j
there must be a poset Q and Q -name σ for a condition in P stronger than
ij ij ij
both p¯ and p¯ , and a Q -name χ for a Γ-path between x and x such that
i j ij ij i j
V[K][H ][H ]|=Q (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)χ ⊂τ.
i j ij ij ij
Let G ⊂ Q be filters mutually generic over the model V[K][H : i ∈ 3].
ij ij i
Writep =σ /G andu =χ /G . Observethatwheneveri∈3andj ,j ∈
ij ij ij ij ij ij 0 1
3arethetwoindicesdistinctfromi,thenp andp arecompatibleconditions
ij0 ij1
in P by the balance of the condition p¯ in V[K][H ]. By the 3,2-centeredness
i i
assumption, the conditions p for i,j ∈3 distinct have a common lower bound
ij
(cid:83)
r ∈ P. Note also that after erasing some local loops if necessary u is
ij ij
a cycle. By the forcing theorem applied in each model V[K][H ,H ][G ], it
i j ij
follows that r
(cid:13)(cid:83)
u ⊂τ as desired.
ij ij
Theorem 13.2.6. Let X be an uncountable Polish space. In 3,2-centered,
cofinallybalancedextensionsofthesymmetricSolovaymodel, everysetmapping
f: [X]2 →Xℵ0 has a free triple.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin, 3,2-centered poset
which is balanced cofinally below κ. Let W be a symmetric Solovay model
derived from κ. Work in W. Suppose that p∈P is a poset and τ is a P-name
such that p forces τ to be a function from [X]2 to [X]ℵ0. We will find a triple
ofpointsinX andaconditionstrongerthanpwhichforcesthetripletobefree
for τ.
Theconditionpandthenameτ aredefinablefromgroundmodelparameters
and an additional parameter in 2ω. Let V[K] be an intermediate extension

334 CHAPTER 13. THE ARITY DIVIDE
containing z obtained by a poset of cardinality smaller than κ and such that
P is balanced in V[K]. Work in the model V[K]. Let p¯ ≤ p be a balanced
virtual condition in P. By the cofinal balance assumption, there must be a
poset Q of cardinality smaller than κ, a Q-name η for an element of X which
does not belong to V[K], and a Q-name σ for a balanced virtual condition
in the Q-extension which is stronger than p¯. Let H ,H ,H ⊂ Q be filters
0 1 2
mutually generic over V[K] and write p¯ = σ/H and x = η/H for i ∈ 3.
i i i i
For distinct indices i,j ∈ 3, we conclude by the balance of the condition p¯ in
V[K]thatthevirtualconditionsp¯, p¯ mustbecompatible. Thus, inthemodel
i j
V[K][H ][H ], there must be a poset Q and Q -name σ for a condition in P
i j ij ij ij
stronger than both p¯ and p¯ , and a Q -name χ for an element of Xω such
i j ij ij
that V[K][H ][H ]|=Q (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13)rng(χ )=τ(xˇ ,xˇ ).
i j ij ij ij i j
Let G ⊂ Q be filters mutually generic over the model V[K][H : i ∈ 3].
ij ij i
Write p = σ /G and u = χ /G . Observe that whenever i ∈ 3 and
ij ij ij ij ij ij
j ,j ∈ 3 are the two indices distinct from i, then p and p are compatible
0 1 ij0 ij1
conditions in P by the balance of the condition p¯ in V[K][H ]. By the 3,2-
i i
centeredness assumption, the conditions p for i,j ∈3 distinct have a common
ij
lower bound r ∈P. Note also that for each k ∈3, the point x does not belong
k
tothemodelV[K][H ,H ][G ]wherei,j ∈3arethetwoindicesdistinctfromk,
i j ij
andthereforedoesnotbelongtotherangeofu . Itfollowsthatr (cid:13){x : i∈3}
ij i
is a free set for τ as desired.
Theorem 13.2.7. Let E be a pinned Borel equivalence relation on a Polish
space X. In 3,2-centered, tethered, and cofinally balanced extensions of the
symmetric Solovay model, the following are equivalent:
1. E has a transversal;
2. the E-quotient space is linearly ordered.
Proof. The implication (1)→(2) is trivial. In ZF, the space X, as every Polish
space, carries a Borel linear ordering ≤. If A⊂X is an E-transversal, then one
can order the E-quotient space by setting c ≺ d if the unique element of A∩c
is ≤-smaller than the unique element of A∩d. The implication (2)→(1) is the
heart of the matter.
Let κ be an inaccessible cardinal. Let P be a Suslin forcing which is 3,2-
centered, balanced cofinally below κ and tethered below κ. Let W be a sym-
metric Solovay model derived from κ and work in W. Suppose that p∈P is a
conditionforcingE nottohaveatransversal. Supposethatτ isaP-namefora
tournament on the E-quotient space. We will find a 3-cycle on the E-quotient
space and a condition stronger than p which forces the cycle to be a subset of
τ. This will prove the theorem.
The condition p and the name τ are definable from some ground model
parameters and an additional parameter z ∈ 2ω. As a provisional definition,
call a tuple (cid:104)M,p¯,Q,η,σ(cid:105) symmetric if M is an intermediate generic extension
of V by a poset of cardinality smaller than κ such that z ∈ M, p¯ ≤ p is a
balanced virtual condition in the model M, Q ∈ M is a poset of cardinality

13.2. PRESERVATION THEOREMS 335
smaller than κ, η ∈M is a Q-name for an element of X which is not E-related
to any element of M ∩X, σ ∈M is a Q-name for a balanced virtual condition
in the Q-extension of M which is stronger than p¯, and
(*) for any conditions q ,q ∈ Q, in some generic extension there are filters
0 1
H ,H ⊂Q separately generic over M such that q ∈H , q ∈H , η/H
0 1 0 0 1 1 0
is E-related to η/H , and σ/H is compatible with σ/H in the poset P.
1 0 1
The following claim is central.
Claim 13.2.8. There is a symmetric tuple (cid:104)M,p¯,Q,η,σ(cid:105).
Proof. LetG⊂P beafiltergenericoverthemodelW containingtheconditionp
andworkinW[G]. ForeachE-classc,considerthemodelM ofsetshereditarily
c
definable from parameters in the ground model and the additional parameters
z,c,G. There must be an E-class c such that c∩M =0; otherwise, one could
c
form an E-selector in W[G] as the set A = {x ∈ X: x is the least element of
[x] inthecanonicalwell-orderofM }, contradictingtheinitialassumptions
E [x]E
on the condition p. Fix such an E-class c, an arbitrary element x ∈ c, and let
M be the model of sets hereditarily definable from parameters in the ground
x
model and the additional parameters z,x,G. Note that M ⊂M holds.
c x
Bythebalanceassumption,themodelsM andM aregenericextensionsof
c x
thegroundmodelbyposetsofcardinalitysmallerthanκ; inparticular, M isa
x
generic extension of M by a poset of cardinality smaller than κ. By the tether
c
assumption, as in Proposition ???, there are virtual balanced conditions p¯ and
c
p¯ in the respective models M and M such that their realizations belong to
x c x
the generic filter G. Necessarily p¯ ≤ p¯ ≤ p holds. Working in M , let Q be
x c c
a poset of cardinality smaller than κ such that there is a filter H ⊂ Q generic
over M such that M = M [H]. Let η ∈M be a Q-name such that x = η/H
c x c c
and let σ be a Q-name such that p¯ =σ/H. We claim that for some condition
x
q ∈Q, the tuple (cid:104)M,p¯ ,Q(cid:22)q,η,σ(cid:105) is symmetric.
c
To see this, in W[G] let D ⊂ Q be the set of all conditions r ∈ Q such
that there is a filter H(cid:48) ⊂ Q which is generic over M and such that η/H(cid:48) ∈ c
c
and σ/H(cid:48) has a realization in the filter G. The set, having just been defined
from c and G, belongs to the model M . It also contains the Q-generic filter
c
H ⊂ Q as a subset. By a density argument with the filter H, there must be a
condition q ∈ H such that D contains all conditions r ∈ Q such that r ≤ q. It
is immediate from the definition of the set D that the condition q ∈Q works as
required.
Now, fix the symmetric tuple (cid:104)M,p¯,Q,η,σ(cid:105). Let H ⊂Q and H ⊂Q be
0 0 1 1
filters mutually generic over M, and write x = η/H , x = η/H , p¯ = σ/H
0 0 1 1 0 0
and p¯ =σ/H .
1 1
Claim 13.2.9. In some generic extension N of M[H ,H ] by a poset of cardi-
0 1
nality smaller than κ there is a condition r ∈ P stronger than p¯ ,p¯ such that
0 1
N |=Coll(ω,<κ)(cid:13)r (cid:13) (cid:104)[x ] ,[x ] (cid:105)∈τ.
P 0 E 1 E

336 CHAPTER 13. THE ARITY DIVIDE
Proof. To start with, note that Q×Q forces σ and σ to be compatible
left right
virtual conditions in P by the balance assumption on p¯, and it also forces η
left
and η to be E-unrelated elements of X by the pinned assumption on the
right
equivalence relation E. Let (cid:104)q ,q (cid:105) ∈ H ,q ∈ H be conditions and suppose
0 1 0 1 1
towards a contradiction that in M, the condition (cid:104)q ,q (cid:105) forces the negation of
0 1
the statement of the claim.
Let λ<κ be a cardinal larger than |P(Q)∩M| and let K ,K ⊂Coll(ω,λ)
0 1
be filters mutually generic over M[H ,H ]. By (*) and the forcing theorem,
0 1
there are filters H(cid:48) ∈ M[H ][K ] and H(cid:48) ∈ M[H ][K ] which are generic over
0 0 0 1 1 1
M, q ∈H(cid:48) and q ∈H(cid:48) holds, and moreover, writing x(cid:48) =η/H(cid:48), x(cid:48) =η/H(cid:48),
0 1 1 0 0 0 1 1
p¯(cid:48) = σ/H(cid:48) and p¯(cid:48) = σ/H(cid:48), we have that x E x(cid:48) and x E x(cid:48) both hold, and
0 0 1 1 0 0 1 1
p¯ and p¯(cid:48) are compatible virtual conditions in P, and p¯ and p¯(cid:48) are compatible
0 0 1 1
virtual conditions in P. Note also that the filters H(cid:48),H(cid:48) ⊂ Q are mutually
0 1
genericoverM sincetheyarefoundintherespectivemutuallygenericextensions
M[H ][K ] and M[H ][K ]–Corollary 1.7.9.
0 0 1 1
Now, observe that the conditions p¯ ,p¯(cid:48),p¯ ,p¯(cid:48) have a common lower bound
0 0 1 1
in the poset P. To see this, note that p¯ ,p¯(cid:48) are compatible with a lower bound
0 0
r ∈P in the model M[H ][K ], and p¯ ,p¯(cid:48) are compatible with a lower bound
0 0 0 1 1
r ∈P in the model M[H ][K ]. Now use the balance of the condition p¯to see
1 1 1 1
that r ,r are compatible conditions in P.
0 1
Finally,theremustbeagenericextensionN ofthemodelM[H ,H ][K ,K ]
0 1 0 1
by a poset of cardinality smaller than κ in which there is a condition r ∈ P
which is a common lower bound of r ,r and such that N |= Coll(ω,< κ) (cid:13)
0 1
r (cid:13) (cid:104)[x ] ,[x ] (cid:105) ∈ τ or N |= Coll(ω,< κ) (cid:13) r (cid:13) (cid:104)[x ] ,[x ] (cid:105) ∈ τ.
P 0 E 1 E P 0 E 1 E
The former option violates the initial contradictory assumption in view of the
forcing theorem in the model M and the generic filters H ,H , and the latter
0 1
optionviolatestheinitialcontradictoryassumptioninviewofthegenericfilters
H(cid:48),H(cid:48).
0 1
Finally, let H ,H ,H ⊂ Q be filters mutually generic over the model M.
0 1 2
For each i ∈ 3 write x = η/H and p¯ for σ/H . Use the claim to find a poset
i i i i
R ∈M[H ][H ]ofcardinalitysmallerthanκandanR-nameχ foracommon
01 0 1 01
lower bound of p¯ ,p¯ in P such that M[H ][H ]|=R (cid:13)Coll(ω,<κ)(cid:13)χ (cid:13)
0 1 0 1 01 01
(cid:104)[xˇ ] ,[xˇ ] (cid:105) ∈ τ. Similarly for R ,χ and R ,χ . Let K ⊂ R , K ⊂
0 E 1 E 12 12 20 20 01 01 12
R , and K ⊂ R be filters mutually generic over the model M[H : i ∈ 3].
12 20 20 i
Write p = χ /K and similarly for p ,p . Note that the conditions p
01 01 01 12 20 01
andp arecompatibleinP bythebalanceofthevirtualconditionp¯ ∈M[H ]:
12 1 1
theyarefoundintherespectiveextensionsM[H ][H ][K ]andM[H ][H ][K ]
1 0 01 1 2 12
mutually generic over M[H ], and they are both stronger than p¯ . Similarly,
1 1
the conditions p and p are compatible, and the conditions p and p are
12 20 20 01
compatible. Finally,the3,2-centerednessassumptionshowsthattheconditions
p ,p ,p have a common lower bound q ≤ p. The forcing theorem applied
01 12 20
in the respective models M[H ,H ][K ], M[H ][H ][K ] and M[H ][H ][K ]
0 1 01 1 2 12 2 0 20
shows that in the model W, q forces the sequence (cid:104)[x ] ,[x ] ,[x ] ,[x ] (cid:105) to
0 E 1 E 2 E 0 E
form an oriented 3-cycle which is a subset of τ. The proof of the theorem is
complete.

13.3. EXAMPLES 337
13.3 Examples
The first batch of examples deals with the implications and limitations of The-
orem 13.2.7. We use Theorem 13.2.1 to add the nonexistence of discontinuous
homomorphisms of Polish groups to the conclusions for reference purposes.
Example 13.3.1. Let E be a Borel equivalence relation on a Polish space X.
LetP betheposetforaddingatournamentontheE-quotientspaceasinExam-
ple 8.6.6. Then P is 3,2-centered by its definition, balanced by Theorem 8.6.4,
and tethered by Example 10.5.8. It is compactly balanced, so does not add a
E -transversal by Example 9.2.11. Thus, Theorem 13.2.7 applies to it, as do all
0
other theorems of Section 13.2.
Corollary 13.3.2. Let E be a Borel equivalence relation on a Polish space X.
1. Let P be the tournament poset associated with E as in Example 8.6.6. In
the P-extension of a symmetric Solovay model, there are no discontinuous
homomorphisms of Polish groups, an there is no linear ordering on the
E -quotient space.
0
2. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a tournament on the E-quotient space while there are no discontinuous
homomorphisms of Polish groups and there is no linear ordering on the
E -quotient space.
0
Example 13.3.3. Let E be a countable Borel equivalence relation on a Polish
space X. Let P be the poset adding an action of Z on X inducing E as in
Example 6.6.10. The poset P is 3,2-centered by its definition, balanced by Ex-
ample6.6.10,tetheredbyExample10.5.7,anditdoesnotaddanE -transversal
0
by Corollary 11.4.12. Thus, Theorem 13.2.7 applies to it, as do all other theo-
rems of Section 13.2.
Corollary 13.3.4. Let E be a countable Borel equivalence relation on a Polish
space X.
1. Let P be the poset adding an action of Z on X inducing E as in Exam-
ple 6.6.10. In the P-extension of the symmetric Solovay model, there are
no discontinuous homomorphisms of Polish groups, and there is no linear
ordering on the E -quotient space.
0
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, E
is an orbit equivalence relation of a (discontinuous) Z-action, there are
no discontinuous homomorphisms of Polish groups, and there is no linear
ordering on the E -quotient space.
0
Example 13.3.5. Let Γ be a Borel graph on a Polish space X Suppose that
Γ does not contain an injective homomorphic copy of K→ and K for some
ω,ω n,ω1
number n ∈ ω. Let P be the coloring poset of Definition 8.1.1. The poset P
is 3,2-centered by its definition, it is balanced by Theorem 8.1.2 and tethered

338 CHAPTER 13. THE ARITY DIVIDE
by Example 10.5.4. It does not add a E -trasnversal by Theorem 11.5.6. Thus,
0
Theorem 13.2.7 applies to it, as do all other theorems of Section 13.2.
Corollary 13.3.6. Let A⊂R be a countable set of positive relas converging to
zero. Let Γ be the graph on R2 connecting two points if their Euclidean distance
belongs to A.
1. Let P be the coloring poset of Definition 8.1.1. In the P-extension of the
symmetric Solovay model, there are no discontinuous homomorphisms of
Polish groups, and there is no linear ordering of the E -quotient space.
0
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, the
chromatic number of Γ is countable, and yet there is no discontinuous
homomorphism between Polish groups and no linear ordering of the E -
0
quotient space.
The next example shows that the tether assumption is necessary in Theo-
rem 13.2.7.
Example 13.3.7. Let P be the collapse poset of |E | to |2ω| as in Defini-
0
tion 6.6.2. The poset P is 3,2-centered by its definition and balanced by Corol-
lary 6.6.4. It does not add an E -transversal by Corollary 11.6.3, but it does
0
addalinearorderingoftheE -quotientspacebymappingitinjectivelyintothe
0
linearly ordered set 2ω.
ThefollowingexampleshowsthattheassumptionthatE bepinnedisnecessary
in Theorem 13.2.7.
Example13.3.8. LetP betheposetaddingafunctionwhichselectsfromeach
nonempty countable subset of X = 2ω a single element as in Example 6.6.15.
Theposetis3,2-centeredbyitsdefinition,balancedbyTheorem6.6.12,tethered
by Example 10.5.6, and adds a linear ordering of the F -quotient space without
2
adding a F -transversal.
2
Proof. TheposetP doesnotaddanF -transversalsincenobalancedposetdoes
2
by Corollary 9.1.5. At the same time, an existence of a function f: [X]ℵ0 →X
such that for each nonempty countable set a ⊂ X f(a) ∈ a holds implies
|F
2
|≤|X<ω1|. ToseetheinjectionfromtheF
2
-spacetoX<ω1,toeachcountable
set a⊂X assign a transfinite sequence (cid:104)x : α∈β by setting recursively x =
α α
f(a\{x : γ ∈α})unlesstheseta\{x : γ ∈α}isempty,inwhichcasewefinish
γ γ
the recursion. The set X<ω1 is linearly ordered by the lexicographic ordering,
and so the poset P adds a linear ordering of the F -space.
2
The following example shows that the pinned assumption in Theorem 13.2.5 is
necessary.
Example 13.3.9. Let E be a pinned Borel equivalence relation on a Polish
space X. Let P be the transversal poset of Example 6.6.8. The poset P is
3,2-centered by its definition and it is balanced by Theorem 6.6.6. Letting Γ

13.3. EXAMPLES 339
be the graph on X connecting any two distinct E-related points, note that P
adds a maximal acyclic subgraph to Γ–it is the graph consisting of all edges
{x ,x }∈Γsuchthatoneoftheverticesx ,x belongstotheE-selectoradded
0 1 0 1
by P.
Corollary 13.3.10. Let E be a pinned Borel equivalence relation on a Polish
space X.
1. Let P be the transversal poset of Example 6.6.8. In the P-extension of the
symmetric Solovay model, there are no discontinuous homomorphisms of
Polish groups.
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds,
E has a transversal, and yet there is no discontinuous homomorphism
between Polish groups.
The next batch of examples deals with partial orders which are m,n-balanced
but not 3,2-centered, and violate the conclusions of various preservation theo-
rems for 3,2-centered posets from Section 13.2.
Example 13.3.11. Let Γ be a Borel graph on a Polish space X. Let P be
the poset of all countable acyclic subsets of Γ ordered by reverse inclusion.
Whenever n ∈ ω is a natural number, the poset P is n,2-balanced and every
balanced virtual condition is n,2-balanced.
The poset P adds a maximal acyclic subset of Γ, violating the conclusion of
Theorem 13.2.5 for many graphs Γ. Therefore, in such cases the poset P is not
3,2-centered and even does not contain a dense analytic 3,2-centered subset.
Proof. It follows from Example 6.4.10 that balanced virtual conditions for P
are classified by maximal acyclic subgraphs of Γ. Let p¯be any maximal acyclic
subgraph of Γ. We will check that p¯ is n,2-balanced, completing the proof.
To this end, let {V[H ]: i ∈ n} be pairwise mutually generic extensions of V,
i
respectively containing some conditions p ≤p¯for each i∈n.
i
Claim 13.3.12. For each i∈n and vertices x ,x ∈X∩V, the following three
0 1
formulas are equivalent:
1. x ,x are connected by a path in Γ∩V;
0 1
2. x ,x are connected by a path in p¯;
0 1
3. x ,x are connected by a path in p .
0 1 i
Proof. (1)→(2) is implied by the maximality of p¯. (2)→ (3) follows from the
fact that p¯⊂p , and the negation of (1) implies by the Mostowski absoluteness
i
thatx ,x arenotconnectedbyanypathinthegraphΓ∩V[H ],whichislarger
0 1 i
than p and therefore (3) has to fail.
i

340 CHAPTER 13. THE ARITY DIVIDE
The pairwise mutual genericity implies that if i,j ∈n are distinct numbers and
v ,v ⊂X arethesetsofverticesmentionedinsomeedgesinp ,p respectively,
i j i j
(cid:83)
thenv ∩v ⊂V. This,togetherwiththeclaim,meansthattheunion p can-
i j i i
not contain a cycle and so is the desired common lower bound of the conditions
p for i∈n.
i
Corollary 13.3.13. Let Γ be a Borel graph on a Polish space X.
1. Write P for the poset adding a maximal acyclic subgraph of Γ as in Ex-
ample 6.4.10. In the P-extension of the symmetric Solovay model every
homomorphism between Polish groups is continuous;
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds, Γ
has a maximal acyclic subgraph and every homomorphism between Polish
groups is continuous.
Example 13.3.14. Let F be a Fraiss´e class of structures in finite relational
language with strong amalgamation. Let E be a Borel equivalence relation on
a Polish space X. Let P = P(F,E) be the poset of Definition 8.6.3. For each
numbern∈ω,theposetP isn,2-balancedandeverybalancedvirtualcondition
is n,2-centered.
Note that in case of the linearization poset P for the E -quotient space, as
0
isolated in Example 8.6.5, is tethered by Example 10.5.8 and does not add an
E -selector by Example 9.2.11. Therefore, P violates the conclusion of Theo-
0
rem 13.2.7, so P contains no dense analytic 3,2-centered subset.
Proof. It follows from Theorem 8.6.4 that balanced virtual conditions in P are
classified by F-structures on the virtual quotient space X∗∗. Let p¯ be such a
structure. Let V[H ] for i∈n be generic extensions of the ground model which
i
are pairwise mutually generic. Let p ∈ V[H ] be a condition extending p¯, for
i i
each i ∈ n. Note that the domains of the conditions pairwise intersect in the
(cid:83)
domain of p¯. Let b = dom(p ). For each finite set a ⊂ b use the strong
i i
amalgamation of the class F n−1-many times to find a structure N ∈ F on
a
a so that for each i∈n, N (cid:22)(dom(p )∩a)=p (cid:22)(dom(p )∩a). Let U be an
a i i i
ultrafilter on [b]<ℵ0 such that for every finite set c⊂b, the set {a∈[b]<ℵ0: c⊂
a} belongs to U. Let N be the structure on b which is the U-integral of the
structures N . It is immediate that for all N (cid:22)dom(p )=p for each i∈3, and
a i i
the closure of the class F under substructures shows that N is a F-structure.
It is the desired lower bound of the conditions p for i∈n.
i
Corollary 13.3.15. Let E be a Borel equivalence relation on a Polish space X.
1. Let P be the E-linearization poset as in Example 8.6.5. In the P-generic
extension of the symmetric Solovay model every homomorphism between
Polish groups is continuous;

13.3. EXAMPLES 341
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds,
the E-quotient space carries a linear ordering and every homomorphism
between Polish groups is continuous.
Example 13.3.16. Let X be a Borel vector space over a countable field Φ.
Let P be the 3-Hamel decomposition poset of Definition 8.1.11. The poset P is
4,3-balanced.
Theorem 13.2.4 shows that the poset is not 3,2-balanced as soon as the field Φ
has characteristic distinct from 2.
Proof. By Theorem 8.1.12, balanced virtual conditions are classified by color-
ings c: X →ω such that any monochromatic triple of pairwise distinct nonzero
elements of X is linearly independent. For each such coloring c, the pair
Coll(ω,X),cˇ(cid:105) is balanced. We will show that the pair is in fact 4,3-balanced.
Suppose that in some ambient generic extension, V[G ] for i∈4 are generic
i
extensionsandanythreeofthemaremutuallygeneric. Supposethatp ∈V[G ]
i i
for i∈4 are conditions below c; we must show that they have a common lower
bound. Write d = dom(p ) for i ∈ 4. Let d ⊂ X be a countable subspace
i i
(cid:83) (cid:83)
containing d as a subset and let a = d\ d . For each point x ∈ a and
i i i i
distinct indexes i,j ∈ 4 let e (x) = {y ∈ d : ∃z ∈ d : x,y,z are linearly
ij i j
dependent} and as in Claim 8.1.14 argue that each the set e (x), if nonempty,
ij
is a union of Φ-shifts of a single X∩V-coset distinct from V.
Now, let J be the Borel ideal on ω used in the definition of P as in Defini-
tion 8.1.11. Let b∈J be a set which cannot be covered by finitely many sets of
the form p(cid:48)(cid:48)e and a finite set. Let b= (cid:83) {b : x∈a} be a partition of the set b
i ij x
(cid:83)
into sets with the same property. Let q: d→ω be any map such that p ⊂q
i i
and for each x∈a, q(x)∈b \ (cid:83) p(cid:48)(cid:48)e (x). Note that the latter union consists
x ij i ij
of sets in the ideal J and so the set b \ (cid:83) p(cid:48)(cid:48)e (x) is nonempty. We claim
x ij i ij
that q is a common lower bound of the conditions p for i∈4.
i
We will only show that any triple {x ,x ,x } of pairwise distinct nonzero
0 1 2
linearly dependent points is not monochromatic. There are several cases to
consider. If two points of the triple belong to one and the same set d then
i
so does the third one, then we use the assumption that p ∈ P is a coloring
i
withoutsuchmonochromatictriples. Thecaseinwhicheachpointonthetriple
belongs to some d but never to the same one, say x ∈d \V, x ∈d \V, and
i 0 0 1 1
x ∈ d \V is impossible in view of the assumption that the three extensions
2 2
V[G ],V[G ],V[G ] are mutually generic. If one of the points, say x belongs
0 1 2 0
to a and the other two do not, say x ∈ d and x ∈ d for i,j ∈ 4 distinct,
1 i 2 j
thenq(x )isdistinctfromallcolorsinthesetp(cid:48)(cid:48)e (x )andsoisdifferentfrom
0 i ij 0
p (x ), andmonochromaticityfailsagain. Finally, ifmorethanonepointofthe
i 1
triple is in the set a, then the triple cannot be monochromatic since the map
q (cid:22)a is an injection.
Corollary 13.3.17. Let X be a Borel vector space over a countable field Φ.

342 CHAPTER 13. THE ARITY DIVIDE
1. LetP bethe3-HameldecompositionforcingasinDefinition8.1.11. Inthe
P-genericextensionofthesymmetricSolovaymodeleveryhomomorphism
between Polish groups is continuous;
2. itisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
exists a 3-Hamel decomposition of X, and every homomorphism between
Polish groups is continuous.

Chapter 14
Other combinatorics
Thetechnologyofbalancedconditionscanbeappliedtoprovegeneraltheorems
about lack of other combinatorial objects in the extensions under discourse. In
this section, we include several theorems that are hopefully elegant axiomatiza-
tions and generalizations of earlier results in [63].
14.1 Maximal almost disjoint families
OnerathersurprisinglimitationofbalancedextensionsofthesymmetricSolovay
model is that they contain no maximal almost disjoint families of subsets of ω.
The following theorem is stated using Convention 1.7.16.
Theorem 14.1.1. In cofinally balanced extensions of the symmetric Solovay
model there are no infinite maximal almost disjoint families of subsets of ω.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin forcing such that P
is balanced below κ. Let W be a symmetric Solovay model derived from κ and
workinW. Supposetowardsacontradictionthatthereisaconditionp∈P and
a name τ such that p forces τ to be an infinite maximal almost disjoint family.
The condition p as well as the name τ must be definable from some parameter
z ∈ 2ω and some parameters from the ground model. Use Fact 1.7.14 and the
assumptionstofindanintermediategenericextensionV[K]suchthatz ∈V[K]
and P is balanced in V[K]. Work in the model V[K].
Let p¯≤p be a balanced condition. Let I be the set {a⊂ω: for some poset
R of size <κ and some R -name σ for a condition in P stronger than p¯such
a a a
that R (cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) aˇ∈τ}.
a P
Claim 14.1.2. ω cannot be covered by a finite set and finitely many elements
of the set I.
(cid:83)
Proof. Suppose that J ⊂ I is a finite set such that J ⊂ ω is co-finite. Let
H ⊂R for a∈J be filters mutually generic over V[K] and let p =σ /H ∈
a a a a a
P. By the balance of the condition p¯, it follows that the set {p : a ∈ J} ⊂ P
a
343

344 CHAPTER 14. OTHER COMBINATORICS
has a lower bound, denote it by q. Since the model W is a symmetric Solovay
extension of each of the models V[K][H ], the forcing theorem applied in the
a
model V[K][H ] shows that in W, for each a∈J, the condition q forces J ⊂τ.
a
However, since (cid:83) J ⊂ ω is cofinite, it has to be the case that q (cid:13) Jˇ = τ,
contradicting the initial assumptions on the name τ.
Let U be a nonprincipal ultrafilter on ω disjoint from I. There must be a
poset R of size < κ, an R-name η for an infinite subset of ω which is modulo
finite included in all sets in U, an R-name χ for a subset of ω and an R-
name σ for an element of P stronger than p¯ such that R (cid:13) χ∩η is infinite
and R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) χ ∈ τ. This occurs since τ is forced to be
P
a maximal almost disjoint family and therefore must contain an element with
infinite intersection with η.
Now, let H ,H ⊂ R be filters mutually generic over the model V[K]. Let
0 1
a = χ/H ,a = χ/H ∈ P(ω), and p = σ/H ,p = σ/H ∈ P. By the
0 0 1 1 0 0 1 1
balance of the condition p¯≤p it must be the case that p ,p ∈P have a lower
0 1
bound, denote it by q. Since W is the symmetric Solovay extension of each of
themodelsV[K][H ]andV[K][H ],theforcingtheoremappliedinthesemodels
0 1
shows that W satisfies that q forces both aˇ and aˇ into τ. The proof will be
0 1
complete if we show that a (cid:54)=a and a ,a have infinite intersection.
0 1 0 1
For a (cid:54)= a , observe that neither a ,a can belong to the model V[K]. If,
0 1 0 1
say,a ∈V[K]thenRwitnessesthefactthata ∈I,andconsequentlya must
0 0 0
havebothfiniteandinfiniteintersectionwithη/H ,acontradiction. Now,since
0
a ∈ V[K][H ] and a ∈ V[K][H ], a mutual genericity argument shows that
0 0 1 1
a (cid:54)=a .
0 1
Toestablishthattheseta ∩a isinfinite,movebacktothemodelV[K],let
0 1
(cid:104)s ,s (cid:105) be a condition in the product R×R and n ∈ ω be a number; we must
0 1
find a number m>n and conditions t ≤s and t ≤s such that t (cid:13)mˇ ∈χ
0 0 1 1 0
and t (cid:13) mˇ ∈ χ. To this end, let b = {m ∈ ω: ∃t ≤ s t (cid:13) mˇ ∈ χ} and
1 0 0
b = {m ∈ ω: ∃t ≤ s t (cid:13) mˇ ∈ χ}. The sets b ,b ⊂ ω are both forced to have
1 1 0 1
infinite intersection with η and therefore must belong to the ultrafilter U. This
means that there is a natural number m > n in the intersection b ∩b , and
0 1
then the desired conditions t ≤ s and t ≤ s are found by the definition of
0 0 1 1
the sets b and b .
0 1
Theorem 8.9.7 above produces a weakly balanced MAD forcing such that in its
extension of the Solovay model, a maximal almost disjoint family exists. As a
result of that example and Theorem 9.1.6, we have
Corollary 14.1.3. It is consistent relative to an inaccessible cardinal that
ZF+DC holds, there is an infinite maximal almost disjoint family of subsets
of ω, and there is no uncountable sequence of pairwise distinct reals.

14.2. UNBOUNDED LINEAR SUBORDERS 345
14.2 Unbounded linear suborders
Another general obstruction for reaching ZF independence results in balanced
extensionsisencapsulatedinthefollowingtheorem,statedusingConvention1.7.16.
Theorem 14.2.1. Let (cid:69) be an F -preorder on a Polish space X with no max-
σ
imal element such that every countable linearly ordered set has an upper bound.
In cofinally balanced σ-closed extensions of the symmetric Solovay model, (cid:69)
contains no unbounded linearly ordered sets.
AtypicalpreordersatisfyingtheassumptionsistheTuringreducibilitypreorder
or the modulo finite domination ordering on ωω.
Proof. Westart witha simple claimwhichtakes place inthe contextof ZFC. If
R is a poset and η is an R-name for an element of X, say that η is unbounded
if R forces that for every ground model element x∈X, η(cid:69)x fails.
Claim 14.2.2. Suppose that R ,R are posets and η ,η are respective un-
0 1 0 1
bounded names for elements of X. Then R ×R (cid:13)τ ,τ are (cid:69)-incomparable.
0 1 0 1
Proof. Let (cid:69) = (cid:83) F where for every n ∈ ω, F is closed. If the conclusion
n n n
failed, there would have to be a pair (cid:104)r ,r (cid:105)∈R ×R forcing say η (cid:69)η and
0 1 0 1 0 1
thenstrengtheningthepairifnecessarytherewouldhavetobeanumbern∈ω
such that (cid:104)η ,η (cid:105) ∈ F is forced. Let M be a countable elementary submodel
0 1 n
of a large structure containing R ,r ,η , let g ⊂R be a filter generic over the
1 1 1 1
model M such that r ∈ g, and let x = η /g. Since η is an unbounded name,
1 1 0
R (cid:13) η (cid:69)xˇ fails, and so there must be a condition r(cid:48) ≤ r and basic open
0 0 0 0
sets O ,O ⊂ X such that (O ×O )∩F = 0, x ∈ O , and r(cid:48) (cid:13) τ ∈ O .
0 1 0 1 n 1 0 0 0
By the forcing theorem, there must be a condition r(cid:48) ∈ g below r such that
1 1
r(cid:48) (cid:13)τ ∈O . Then the pair (cid:104)r(cid:48),r(cid:48)(cid:105)≤(cid:104)r ,r (cid:105) forces (cid:104)η ,η (cid:105)∈O ×O and so
1 1 1 0 1 0 1 0 1 0 1
(cid:104)η ,η (cid:105)∈/ F , in contradiction with the initial assumptions.
0 1 n
Now, let κ be an inaccessible cardinal and P be a σ-closed Suslin forcing
which is balanced cofinally below κ. Let W be the symmetric Solovay model
derived from κ. Suppose towards a contradiction that the conclusion of the
theorem fails in the P-extension of W. Then, in the model W there must be
a condition p ∈ P and a P-name τ such that p (cid:13) τ ⊂ X is an (cid:69)-unbounded
linearly ordered set. The condition p as well as the name τ must be definable
from some parameter z ∈ 2ω and some parameters in the ground model. Let
V[K] be a generic extension of the ground model by a poset of size < κ such
that p,z ∈V[K] and P is balanced in V[K].
Work in the model V[K]. Let p¯≤ p be a balanced condition in the poset
P. Since Coll(ω,< κ) (cid:13) p (cid:13) τ is an unbounded set in ≤, for every element
x ∈ X ∩V the set τ is forced to contain an element which is not (cid:69)x. Since
Coll(ω,< κ) (cid:13) p (cid:13) X ∩V[K] is a countable set and DC holds, τ is forced to
containacountablesubsetsuchthatnoelementofX∩V[K]isanupperbound
of it. By the initial assumptions on the preorder (cid:69), this countable set is forced
to have an upper bound in τ, which is then an element of τ which is not (cid:69)x

346 CHAPTER 14. OTHER COMBINATORICS
for any element x ∈ X ∩V[K]. In total, in V[K] there must be a poset R of
size <κ, an R-name σ for a condition in P such that σ ≤p¯and an unbounded
R-name η for an element of X such that R (cid:13) η is not (cid:69)-below any element of
V[K] and R(cid:13)Coll(ω,<κ)(cid:13)σ (cid:13) η ∈τ.
P
In the model W, let H ,H ⊂ R be filters mutually generic over V[K].
0 1
Let p = σ/H ∈ P and p = σ/H ∈ P; by the balance of the condition
0 0 1 1
p¯, the conditions p ,p are compatible with some lower bound q ∈ P. Let
0 1
x =η/H ∈X andx =η/H ∈X;byClaim14.2.2,theseare(cid:69)-incomparable
0 0 1 1
elements of X. Since the model W is a symmetric extension of both models
V[K][H ] and V[K][H ], the forcing theorem applied in these models shows
0 1
that in W, q (cid:13) xˇ ,xˇ ∈ τ. This contradicts the assumption that τ is forced to
0 1
be linearly ordered by (cid:69).
14.3 Measure and category
Inthissection,weshowthatinbalancedextensionsoftheSolovaymodel,there
is a set of reals without the Baire property. We also provide a framework
for showing that in certain circumstances, all sets of reals may be Lebesgue
measurable. The following theorem is stated using Convention 1.7.16.
Theorem 14.3.1. In nontrivial cofinally balanced extensions of the symmetric
Solovay model, there is a set of reals without the Baire property.
Proof. Letκbeaninaccessiblecardinal. LetP beanontrivialSuslinposetsuch
that V |= P is balanced in every forcing extension. Let W be the symmetric
κ
Solovay model derived from κ and work in W. Let p ∈ P be a condition. We
must find a Polish space X, a condition p¯≤ p and a P-name τ for a subset of
X such that p¯(cid:13)τ does not have the Baire property.
The condition p ∈ P is definable from a real parameter z ∈ 2ω and some
parameters in the ground model. Let V[K] be an intermediate extension using
a poset of size < κ such that z ∈ V[K] and P is balanced in V[K], and work
in V[K] for a moment. Let p¯ ≤ p be a balanced virtual condition stronger
than P. Choose a poset Q of size <κ and a name σ for a condition in P such
that the pair (cid:104)Q,σ(cid:105) is balanced and in the balance equivalence class of p¯. Move
to the Q-extension. Since the poset P is balanced, it is not c.c.c. below σ by
Proposition 5.2.8(1), in particular it is not Suslin σ-linked below σ. Thus, the
analytic graph of incompatibility of conditions in P below σ has uncountable
Borel chromatic number. By the G -dichotomy, there is a continuous map
0
h: 2ω →P which is a homomorphism of G to the incompatibility graph on P
0
below σ. Let S be the Cohen forcing on 2ω introducing a point y˙ ; let p˙
gen gen
be the Q×S-name for h˙(y˙ ).
gen
Now, backin W, considerthespace X ofallfiltersonthe two-stepiteration
Q×S generic over the model V[K], viewed as a subset of P(Q×S). Since the
productiscountableinW,itspowersetgetstheusualzero-dimensionalcompact
topology. Since the model V[K] contains only countably many open dense
subsets of the product, the set X ⊂P(Q×S) is G and therefore Polish. Let τ
δ

14.3. MEASURE AND CATEGORY 347
betheP-nameforthesetofallfiltersg ∈X suchthattheconditionp˙ /g ∈P
gen
belongs to the generic filter on P; more formally, τ ={(cid:104)g,p˙ /g(cid:105): g ∈X}. We
gen
claim that p¯(cid:13)τ does not have the Baire property.
To show this, first argue that p¯(cid:13) τ ⊂ X is not meager. Suppose towards
a contradiction that this fails. Then in the model V[K], there exists a poset
R of size < κ and R-names σ for a condition in P stronger than p¯ and η for
a dense G subset of X such that R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) τ ∩η = 0. Let
δ P
G ⊂ Q×S and H ⊂ R be mutually generic filters. By a mutual genericity
argument, G ∈ η/H holds. By a balance argument, the conditions σ/H and
p˙ /G are compatible in P. The common lower bound of these two conditions
gen
forces in P that Gˇ ∈η/H ∩τ. This is a contradiction.
We will now argue that p¯(cid:13)τ is not comeager in any nonempty open subset
ofX. Supposetowardsacontradictionthatthisfails. TheninthemodelV[K],
there must be a condition (cid:104)q,s(cid:105) ∈ Q×S, a poset R of size < κ and R-names
σ for a condition in P stronger than p¯and η for a dense G subset of X such
δ
that R (cid:13) Coll(ω,< κ) (cid:13) σ (cid:13) ∀g ∈ η (cid:104)q,s(cid:105) ∈ g → g ∈ τ. Let L ⊂ Q and
P
H ⊂ R be mutually generic filters, with q ∈ L. A standard argument provides
(in a further generic extension) two G -related points y ,y ∈ 2ω extending s
0 0 1
which are separately generic over the model V[K][H][L]. Let G ,G ⊂ Q×S
0 1
be the filters given by L,y and L,y respectively; both contain the condition
0 1
(cid:104)q,s(cid:105). By the product forcing theorem, the filters G ,H are mutually generic
0
over V[K] and so are the filters G ,H. By a mutual genericity argument, both
1
filtersG ,G bothbelongtothesetη/H. Byabalanceargument,thecondition
0 1
p˙ /G is compatible with σ/H in the poset P. Their common lower bound
gen 0
forces in the poset P that Gˇ ∈η/H \τ. This is a contradiction.
1
Question 14.3.2. Does the conclusion of Theorem 14.3.1 remain in force in
weakly balanced extensions of the symmetric Solovay model?
Other regularity properties of sets of reals may be preserved in the balanced
extensions. Consider the following.
Definition 14.3.3. Let Q be a c.c.c. Suslin forcing. Let P be a Suslin forcing.
We say that P is Q-balanced if for every condition p ∈ P there is a balanced
virtual condition p¯≤ p such that Q (cid:13) p¯is still balanced. Similar terminology
applies for Q-weakly balanced forcings.
Forthefollowingtheorem,letX beaPolishspace,letx˙ bealayeredQ-name
gen
for an element of X, and let I be the σ-ideal of Borel subsets B ⊂X such that
Q(cid:13)x˙ ∈/ B˙. The theorem is stated using Convention 1.7.16.
gen
Theorem 14.3.4. In Q-weakly balanced extensions of the symmetric Solovay
model, for every set A⊂X there is a Borel set B ⊂X such that A∆B ∈I.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin poset such that P
is Q-balanced below κ. Let W be the symmetric Solovay model derived from
κ and work in W. Let p ∈ P be a condition and τ be a P-name such that

348 CHAPTER 14. OTHER COMBINATORICS
p (cid:13) τ ⊂ X. We must find a Borel set B and a stronger condition p¯≤ p in P
such that p¯(cid:13)τ∆B˙ ∈I.
The condition p ∈ P and the name τ are definable from a real parameter
z ∈2ω andsomeparametersinthegroundmodel. LetV[K]beanintermediate
extension using a poset of size < κ such that z ∈ V[K] and work in the model
V[K]. Since P is Q-balanced in V[K], it must be the case that there is a
weakly balanced condition p¯ ≤ p such that Q (cid:13) p¯ is weakly balanced. By
a balance argument, Q (cid:13) Coll(ω,< κ) (cid:13) p¯ decides the statement x˙ ∈ τ.
gen
Let A = A ∪A be a maximal antichain of Q such that for every condition
0 1
q ∈ A , q (cid:13) Coll(ω,< κ) (cid:13) p¯(cid:13) x˙ ∈/ τ, and for every condition q ∈ A ,
0 Q P gen 1
q (cid:13) Coll(ω,< κ) (cid:13) p¯(cid:13) x˙ ∈ τ. In W, let B = {x ∈ X: ∃g ⊂ QV[K]: g is
Q P gen
generic over V[K], contains a condition in A , and x=x˙ /g}. A complexity
1 gen
calculationinProposition2.8.5(1)showsthatthesetB isBorelsincethemodel
V[K]containsonlycountablymanymaximalantichainsofQ. Itwillbeenough
to show that p¯(cid:13)τ∆B ∈I.
On one hand, it is clear that B ⊂τ must hold. Whenever x∈B is a point
andg ⊂QisafiltergenericoverV[K]containingaconditioninA andx˙ /g =
1 gen
x, then by the forcing theorem in the model V[K], V[K][g] |= Coll(ω,< κ) (cid:13)
p¯xˇ ∈ τ, and then by the forcing theorem in V[K][g], W |= p¯ (cid:13) xˇ ∈ τ. By a
similar reasoning, it must be the case that τ \B ⊂ C where C = {x ∈ X:
for no filter g ⊂ QV[K] generic over V[K], x˙ /g = x}. However, it is clear
gen
that C ∈I holds: if there were a condition q ∈Q forcing x˙ ∈B, taking any
gen
filter G⊂Q generic over W containing the condition q, the point x˙ /G must
gen
belongtoC. However,sincetheposetQisc.c.c. andSuslin,thefilterG∩V[K]
is a filter on QV[K] generic over V[K] and so the point x=x˙ /G∩V[K] does
gen
not belong to C, which is a contradiction.
Example 14.3.5. [81] It is consistent relative to an inaccessible cardinal that
ZF+DC holds, every set of reals is Lebesgue measurable, and not every set of
realshastheBaireproperty. Forthis,usetheP-extensionoftheSolovaymodel
posetwheretheSuslinposetP isasinExample8.8.4andtheSuslinc.c.c.poset
QofclosedsubsetsofRofpositiveLebesguemeasureorderedbyinclusion,with
its associated name for the generic real. It is clear that the associated ideal I
is just the ideal of Lebesgue null sets. Now, the balanced conditions for P have
been classified in Theorem 8.8.2. Let p = (cid:104)a ,b (cid:105) be a condition. Then the
p p
(collapse name for the) pair p¯ = (cid:104)a ,c(cid:105) is a balanced condition whenever c is
p
a dominating set of functions in ωω in the ground model. Now, the poset Q
is bounding, therefore the set b remains dominating in the Q-extension and p¯
p
is a balanced condition in the Q-extension as well. By Theorem 14.3.4, in the
P-extension of the Solovay model, every set of reals is Lebesgue measurable.
In that extension, there must be a set of reals without the Baire property by
Theorem 14.3.1; in fact, the generic set must fail to have the Baire property.
Example14.3.6. ItisconsistentrelativetoaninaccessiblecardinalthatZF+DC
holds, every set of reals is Lebesgue measurable, and there is a maximal almost
disjoint family. For this, use the P-extension of the symmetric Solovay model

14.4. DEFINABLY BALANCED FORCING 349
where P is the MAD forcing of Definition 8.9.6. It will be enough to show
that P is Q-weakly balanced, where Q is the Suslin c.c.c. poset Q of closed
subsets of R of positive Lebesgue measure ordered by inclusion. Now, certain
weakly balanced conditions for P have been discovered in Theorem 8.9.7. Let
p = (cid:104)a ,b (cid:105) be a condition. Then any (collapse name for a) pair p¯ = (cid:104)a ,c(cid:105)
p p p
is a weakly balanced condition where c is the set of all pairs (cid:104)a ,s(cid:105) where s is
p
a partition of ω into finite intervals in the ground model. Now, let G ⊂ Q be
a generic filter, and in the extension V[G], consider any (collapse name for a)
pair p˜=(cid:104)a ,d(cid:105) where d is the set of all pairs (cid:104)a ,s(cid:105) where s is a partition of ω
p p
into finite intervals in V[G]. By Theorem 8.9.7 applied in V[G], p˜is a weakly
balanced condition in V[G]. Since the poset Q is bounding, for every partition
s ∈ V[G] of ω into finite intervals there is a partition t ∈ V of ω such that
every interval in t contains a subinterval in s. It follows immediately from the
definition of the poset P that p¯,p˜are inseparable in the poset P; in particular,
p¯is still a weakly balanced condition in V[G].
14.4 Definably balanced forcing
This section is devoted to the class of apparently the softest balanced Suslin
extensions one can find: those in which the balanced virtual conditions can be
found in an easily definable way.
Definition 14.4.1. Let P be a Suslin forcing. We say that P is definably
balanced if for each condition p∈P there is a balanced virtual condition p¯≤p
which is definable from a real parameter.
Example 14.4.2. Let E be a Borel equivalence relation on a Polish space
X the poset P of Example 6.6.9 adding a countable complete section of E is
definablybalanced. Namely,letY =Xω,letB ⊂Y bethesetofthoseelements
y ∈Y whoserangeconsistsofpairwiseE-relatedpoints,andletP consistofall
countablesetsp⊂B suchthatify ,y ∈P satisfy[rng(y )] =[rng(y )] then
0 1 0 E 1 E
in fact rng(y ) = rng(y ) holds. The ordering on P is that of inclusion. For
0 1
every condition p∈P one can look at the definable balanced virtual condition
p¯≤p represented by the pair (cid:104)Coll(ω,X),τ(cid:105) where τ is the name for the set of
(cid:83)
all conditions q ∈Q such that p⊂q and for every point x∈V \ [rng(y)] ,
y∈p E
q contains an enumeration of the set [x] ∩V.
E
Example 14.4.3. Let P be the poset of Section 8.4 adding a cofinal Kurepa
family on a fixed Polish space X. For every condition p ∈ P (a countable set
of countable subsets of X closed under intersection) one can find a balanced
virtual condition p¯≤ p represented by the pair (cid:104)Coll(ω,X),τ(cid:105) where τ is the
namefortheconditionobtainedfrompbyaddingthesetX∩V. Thisisindeed
a balanced pair as proved in Theorem 8.4.3, and it is definable from a real.
Example 14.4.4. Let P be the partial ordering introducing a nontrivial au-
tomorphism of the algebra P(ω) modulo finite as in Section 8.3. As proved in

350 CHAPTER 14. OTHER COMBINATORICS
Theorem 8.3.3, the balanced virtual conditions are classified precisely by auto-
morphismsofthealgebra. Atthesametime,everycondition(anautomorphism
of a countable subalgebra) can be extended into a total automorphism which is
trivial, i.e. generated by a bijection between cofinite subsets of ω [9, Theorem
2.3]. Such a total automorphism is clearly definable from a real.
Example 14.4.5. Let Γ be the clopen graph on 2ω connecting points x (cid:54)=x
0 1
if the smallest number n such that x (n)(cid:54)=x (n) is even. Let P be the partial
0 1
order of Example 12.2.16 forcing a failure of OCA by adding an uncountable
subset of 2ω containing no uncountable Γ-clique or Γ-anticlique. For every
condition p ∈ P (which is a pair (cid:104)a ,b (cid:105) where a ⊂ 2ω is a countable set and
p p p
b is a countable collection of closed Γ-cliques and closed Γ-anticliques) one can
p
find a balanced virtual condition p¯≤ p represented by the pair (cid:104)Coll(ω,2ω),τ(cid:105)
where τ is the name for the pair (cid:104)a ,¯b (cid:105) where ¯b is the set of all closed Γ-
p p p
cliques and all closed Γ-anticliques coded in the ground model. This is indeed
a balanced pair below p as shown in Example 12.2.16 and it is definable from a
real.
The preservation theorems we prove are best organized with a well-known fac-
torization fact and its corollary.
Fact14.4.6. LetQbethefinitesupportproductofω -manycopiesoftheCohen
1
forcing. Let G⊂Q be a generic filter.
1. Whenever x∈V[G] is an element of 2ω, V[G] is a Q-extension of V[x].
2. Suppose that X,Y are Polish spaces in V, E is a pinned Borel equivalence
relation on Y coded in V. In V[G], if x ∈ X is a point and c ⊂ Y is an
E-class definable from x and some elements of the ground model, then c
has a representative in V[x].
The following results are stated using Convention 1.7.16.
Theorem 14.4.7. In definably balanced extensions of the symmetric Solovay
model, whenever Γ is an analytic hypergraph of countable, possibly infinite ar-
ity on a Polish space X of uncountable Borel chromatic number, then Γ has
uncountable chromatic number.
Proof. InviewofthedichotomytheoremforuncountableBorelchromaticnum-
berofanalytichypergraphsofcountablearity[66]itisenoughtoverifythatthe
conclusion of the theorem holds for a specific analytic hypergraph Γ. Let X be
the dense G subspace of ωω consisting of all functions x∈ωω such that for in-
δ
finitelymanyn∈ω,x(n)>x(m)forallm∈n. Let{s : n∈ω}beacollection
n
of finite strings of natural numbers such that s ∈ ωn and {s : n ∈ ω} ⊂ ω<ω
n n
isdense. DefinethehypergraphΓtoconsistofalltuples(cid:104)x : m∈ω(cid:105)suchthat
m
there is n ∈ ω such that s is an initial segment of all points x , x (n) = m
n m m
holds for all m, and the tails x (cid:22)(n,ω) are the same for all m∈ω. [66] shows
m
that the graph Γ has uncountable Borel chromatic numbers and moreover, it

14.4. DEFINABLY BALANCED FORCING 351
can be continuously homomorphically mapped to any analytic hypergraph of
uncountable Borel chromatic number. Thus, it is enough to prove the conclu-
sion of the theorem for Γ.
Supposethatκisaninaccessiblecardinal. SupposethatP isaSuslinforcing
such that P is definably balanced below κ. Let W be the symmetric Solovay
model derived from κ and work in W. Let p ∈ P be a condition and let τ be
a P-name for a function from X to ω; we must find a Γ-edge (cid:104)x : m ∈ ω(cid:105), a
m
numberk ∈ωandsomestrengtheningoftheconditionpwhichforcesτ(xˇ )=kˇ
m
for all m ∈ ω. The condition p as well as the name τ are defined from some
parameters in the ground model and perhaps an additional parameter z ∈ 2ω.
Find an intermediate extension V[K] of the ground model using a poset of size
<κ such that z ∈V[K], and work in the model V[K].
Let Q be the product of uncountably many copies of Cohen forcing. By the
definablebalanceassumption,theremustbeaQ-nameηforarealnumberanda
conditionq ∈Qwhichidentifiesadefinitionofabalancedvirtualconditionp¯≤p
which uses only η as a parameter. By Fact 14.4.6, passing to an intermediate
extension if necessary we may assume that η is in fact a name for a specific
element of the ground model. For the sake of brevity, we ignore η and q below.
By a balance argument with p¯, Q (cid:13) ∀x ∈ X ∃kColl(ω,< κ) (cid:13) p¯(cid:13) τ(xˇ) = kˇ.
P
Let h˙ be the Q-name for the map x (cid:55)→ k; thus, h˙ is forced to be a definable
Γ-coloring.
Consider the Cohen poset P with its name x˙ for a generic point of the
X gen
space X. Find a condition O ∈ P and a number k ∈ ω such that O (cid:13) Q (cid:13)
X
h˙(x˙ )=kˇ. Now, letx∈O beapointP -genericoverV[K]. Useagenericity
gen X
argument to find a number m large enough that s is an initial segment of x
m
and [s ]∩X ⊂ O. For each number n ∈ ω let x ∈ X be the point obtained
m n
from x by overwriting its m-th entry with n. Thus, each point x is Q -generic
n 0
over V[K] and belongs to the set O. Now, let G ⊂ Q be a filter generic over
the model V[K] such that x ∈ V[K][G], and consider the definable balanced
conditionp¯≤pinV[K][G]. BytheforcingtheoremappliedinthemodelV[K],
in the model W p¯(cid:13) τ(xˇ )=kˇ must hold for every number n. In view of the
P n
fact that the sequence (cid:104)x : n∈ω(cid:105) is a Γ-hyperedge, the proof is complete.
n
Corollary 14.4.8. 1. Let P be the poset for adding a nontrivial automor-
phismofthealgebraP(ω)modulofiniteofSection8.3. IntheP-extension
of the Solovay model, there is no discontinuous homomorphism between
Polish groups.
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds,
there is a nontrivial automorphism of P(ω) modulo finite, and there is
no discontinuous homomorphism between Polish groups.
Proof. The poset P is definably balanced by Example 14.4.4. It is clearly σ-
closed, so in the P-extension of the Solovay model, ZF+DC holds. By Theo-
rem14.4.7,intheP-extensionthechromaticnumberoftheHamminggraphH
2
is uncountable.. By a ZF+DC result of [76], this abstractly implies that there
are no discontinuous homomorphisms between Polish groups.

352 CHAPTER 14. OTHER COMBINATORICS
Theorem 14.4.9. In definably balanced extensions of the symmetric Solovay
model, |E |(cid:54)≤|F| holds for every pinned Borel orbit equivalence relation F.
1
Proof. LetΓbeaPolishgroupcontinuouslyactingonaPolishspaceX,inducing
an equivalence relation F. Suppose that F is pinned. Suppose that P is a
Suslin forcing. Suppose further that κ is an inaccessible cardinal such that P
is definably balanced below κ. Let W be the symmetric Solovay model derived
from κ and work in W. Suppose that p ∈ P is a condition and τ is a P-name
suchthatp(cid:13)τ isafunctionfromtheE -quotientspacetotheF-quotientspace.
1
WemustfindastrengtheningoftheconditionpandtwodistinctE -classessuch
1
that their τ-images are forced to be the same.
Theconditionpaswellasthenameτ aredefinablefromaparameterz ∈2ω
aswellassomeparametersfromthegroundmodel. LetV[K]beanintermediate
extension obtained from a poset of size < κ such that z ∈ V[K]. Work in the
model V[K]. Let Q be the finite support product of uncountably many copies
of the Cohen forcing. Use the definable balance assumption to find a Q-name
η for a real and a condition q ∈ Q which identifies a definition of a virtual
balanced condition p¯≤ p with a parameter η. By Fact 14.4.6, passing into a
larger intermediate extension, we may assume that η is in fact a name for a
specificelementofV[K]. Forthebrevityofnotation, weneglectη andq below.
Let H ⊂ Q be a filter generic over V[K] and work in the model V[K][H]
for the moment. Note that the equivalence relation F is pinned there by The-
orem 2.7.1. By a balance argument with p¯, for every E -class c in the model
1
V[K][H] there is an F-class d such that Coll(ω,<κ)(cid:13)p¯(cid:13) τ(c)=d. Go back
P
to V[K]. Fix a Q-name h˙ for the map c (cid:55)→ d. Note that h˙ is forced to be a
definable injection from the E -quotient space to the F-quotient space.
1
Let y ∈(2ω)ω be a sequence of points in 2ω generic over V[K] for the finite
support product of the usual Cohen forcing. Working in the model V[K][y], by
Fact 14.4.6, there is a point x∈X such that Q(cid:13)h˙([y]E
1
)=[x]
F
. Let γ ∈Γ be
apointgenericoverV[K][y]fortheposetP . AsintheproofofTheorem4.1.1,
Γ
V[K][γ·x]containsnoentriesofthesequencey,andthereforenorepresentatives
oftheE
1
-classofy. Sincetheclass[y]E
1
isdefinablefromγ·xastheclasswhich
is mapped by h to [γ·x] , this contradicts Fact 14.4.6(2).
F
Using Example 14.4.2, we now get
Corollary 14.4.10. 1. LetP bethepartialorderingaddingacountablecom-
plete section to E . In the P-extension of the symmetric Solovay model,
1
|E |(cid:54)≤|F| holds for every pinned orbit equivalence relation F.
1
2. It is consistent relative to an inaccessible cardinal that ZF+DC holds,
|E | ≤ |F | and yet |E | (cid:54)≤ |F| for any pinned Borel orbit equivalence
1 2 1
relation F.
14.5 F structurability
2
The following theorem is stated using Convention 1.7.16.

14.5. F STRUCTURABILITY 353
2
Theorem 14.5.1. In σ-closed, balanced, ℵ -tethered extensions of a symmetric
0
Solovay model there are no tournaments on the F -quotient space.
2
Theσ-closuredemandcanberelaxedtoincludetheformallynotσ-closedposets
of Section 8.1; we omit the details. The role of ℵ -tether is less clear. The lin-
0
earizationposetontheF -quotientspaceofExample8.6.5isσ-closed,balanced,
2
and adds a tournament, so clearly some additional assumption beyond the clo-
sureandbalanceisnecessary. However, ℵ -tetherisnotpreservedundertaking
0
a regular subposet, while the conclusion of the theorem is. Thus, there is a
room for improvement in the statement of the theorem.
Proof. Let κ be an inaccessible cardinal. Let P be a Suslin poset which is σ-
closed, and balanced and ℵ -tethered below κ. Let W be a symmetric Solovay
0
model derived from κ and work in W. Suppose towards a contradiction that
p ∈ P is a condition and τ is a P-name such that p (cid:13) τ is a tournament on
the F -quotient space. Both p,τ must be definable from some real parameter
2
z ∈2ω and some parameters in the ground model. Let V[K] is an intermediate
extension by a poset of size <κ such that z ∈V[K].
Work in the model V[K] for a moment. Let p¯ ≤ p be a balanced virtual
condition in the poset P in V[K]. Let λ < κ be a cardinal such that p¯ is
represented on a poset of size < λ, let Q be the finite support product of
0
copies of Coll(ω,λ) indexed by λ+ with finite product of copies of the Cohen
forcing indexed by 2×λ+. for any ordinal α∈λ+ write Qα for the part of the
0
product indexed by ordinals below α. Let η and η be the Q -names for the
0 1 0
setsofCohengenericrealsindexedby{0}×λ+ and{1}×λ+ respectively. Inthe
Q -extension of V[K] consider the poset Q which is the poset P of conditions
0 1
whicharestrongerthansomerealizationofp¯. LetQdenotetheiterationQ ∗Q˙ ,
0 1
andletχbeaQ-nameforthevirtualconditioninP consistingofallconditions
in P stronger than all conditions in the generic filter on Q˙ .
1
Claim 14.5.2. Q forces χ to be a balanced condition in P below p¯.
Proof. Let G ⊂ Q and H ⊂ Q be generic filters over V[K] and work in
0 1
V[K][G][H]. First, use the σ-closure assumption on P to conclude that in fact
χ/G∗H is forced to be a nonzero virtual condition. In some further collapse
extension, the filter H contains a cofinal countable sequence, which then has a
lower bound and that lower bound will be a condition below χ/G∗H.
Second, use the tether assumption to conclude that χ/G∗H is a balanced
condition. Observe that by a genericity argument with the filter H, for every
analytic subset A⊂P coded in the V[K][G ], H contains a condition which is
0
either below some element of A or incompatible with all elements of A. Since
theposetP (andsoQ )isσ-closedinV[K][G],itdoesnotaddanynewanalytic
1
subsets of P. As a result, it is forced that χ/G∗H is either stronger than or
incompatible with any given virtual condition in P in the model V[K][G][H]
carried by a poset of size < ℵ (i.e. an analytic subset of P). The balance of
0
χ/G∗H immediately follows from the definition of ℵ -tether.
0

354 CHAPTER 14. OTHER COMBINATORICS
Since χ is forced to be balanced, we also have Q (cid:13) Coll(ω,< κ) (cid:13) χ decides
the statement (cid:104)η ,η (cid:105) ∈ τ. Let q ∈ Q be a condition such that q (cid:13) Coll(ω,<
0 1 Q
κ) (cid:13) χ (cid:13) (cid:104)η ,η (cid:105) ∈ τ (or vice versa). Let q = (cid:104)q ,q˙ (cid:105) be a breakdown of the
P 0 1 0 1
condition q in the iteration Q ∗Q˙ . Use the λ+-c.c. of the poset Q to find an
0 1 0
ordinal α∈λ+ such that q is a condition in Qα and q˙ is a Qα-name.
0 0 1 0
Claim 14.5.3. There are filters G ,G ⊂Q which are separately generic over
0 1 0
V[K] such that
1. G ∩Qα and G ∩Qα are mutually generic over V[K], both containing q;
0 0 1 0
2. V[K][G ]=V[K][G ]
0 1
3. η /G =η /G and η /G =η /G .
0 0 1 1 1 0 0 1
Proof. Let I =λ∪(2×λ). Consideranybijectionπ: I →I suchthat π(cid:48)(cid:48)λ=λ.
Such a bijection induces an automorphism of the poset Q and the class of Q-
names, which by an abuse of notation we denote by π again. If in addition
we assume that π(cid:48)(cid:48){0}×λ = {1}×λ and π(cid:48)(cid:48){1}×λ = π{0}×λ, then the
automorphism switches the names η and η . If in addition we assume that
0 1
π(cid:48)(cid:48)α is disjoint from α and π(cid:48)(cid:48)(2×α) is disjoint from 2×α, then the conditions
q,π(q) are compatible. Let G ⊂ Q be a filter generic over V[K] meeting the
0 0
lower bound of q and π(q), and let G = (π−1)(cid:48)(cid:48)G . The filters G ,G are as
1 0 0 1
required.
Now, let G ,G be filters as in the claim. Let A = η /G = η /G and
0 1 0 0 0 1 1
A =η /G =η /G . Theconditionsp =q˙/G andp =q˙/G arecompatible
1 1 0 0 1 0 0 1 1
intheposetP by(1),andtheirlowerboundmustexistinthemodelV[K][G ]=
0
V[K][G ]. Let H ⊂ P be a filter generic over V[K][G ] meeting that lower
1 0
bound and consider the balanced virtual condition p¯¯ = χ/G ∗ H, which is
0
equal to χ/G ∗H. Now, since the filter G ∗H ⊂Q contains the condition q,
1 0
theforcingtheoremshowsthatinthemodelW, p¯¯(cid:13)(cid:104)Aˇ ,Aˇ (cid:105)∈τ. Bythesame
0 1
argumentation, since the filter G ∗H ⊂Q contains the condition q, the forcing
1
theorem shows that in the model W, p¯¯(cid:13)(cid:104)Aˇ ,Aˇ (cid:105)∈τ. This is a contradiction
1 0
concluding the proof.
Corollary 14.5.4. 1. Let P = P(ω) modulo finite. In the P-extension of
thesymmetricSolovaymodel,thereisnotournamentonthequotientspace
of F ;
2
2. itisconsistentrelativetoaninaccessiblelimitofinaccessiblesthatZF+DC
holds, there is a nonprincipal ultrafilter on ω, and yet there is no tourna-
ment on the quotient space of F .
2
Theorem 14.5.1 provides many other corollaries, among which we quote the
following application of Example 10.5.8:
Corollary 14.5.5. Let E be a pinned Borel equivalence relation on a Polish
space X.

14.6. THE RAMSEY ULTRAFILTER EXTENSION 355
1. Let P be the linearization poset for E as in Example 8.6.5. In the P-
extension of the Solovay model, there is no tournament on the F -quotient
2
space;
2. it is consistent relative to an inaccessible cardinal that ZF+DC holds, the
E-quotient space is linearly ordered, and yet there is no tournament on
the F -quotient space.
2
Proof. The linearization poset is certainly σ-closed. It is balanced by Exam-
ple 8.6.5 and ℵ -tethered by Example 10.5.8.
0
14.6 The Ramsey ultrafilter extension
Let P be the poset of infinite subsets of ω ordered by inclusion. Let κ be an
inaccessiblecardinal,andletW bethesymmetricSolovaymodelderivedfromκ.
Let U ⊂P be a filter generic over W. The model W[U] is a balanced extension
of W by Theorem 7.1.2. It is immediate that U is a nonprincipal ultrafilter
on ω and in fact a Ramsey ultrafilter. The model W[U] has been investigated
for decades ??? We have provided new information about the model at several
locationsinthisbook. Inthissection,weoutlineseveralmajorareasofstudyof
the model W[U] and gather the available known results as well as critical open
questions.
Question14.6.1. ClassifytheBorelequivalencerelationsE,F onPolishspaces
such that in W[U], |E| ≤ |F| holds. In particular, are there Borel equivalence
relations E,F such that |E|≤|F| fails in the symmetric Solovay model W and
holds in W[U]?
We have proved that in W[U], the smooth divide is preserved (Corollary 9.2.5,
the orbit divide is preserved (Corollary 9.4.8), and the E -divide is preserved
Kσ
(Corollary 9.5.10. However, our efforts stalled in other directions. We do not
knowiftheturbulentdivideispreserved. Wedonotknowifthereareanynon-
hyperfinitecountableBorelequivalencerelationsE suchthat|E|≤E |holdsin
0
W[U];inprinciple,thisinequalitycouldholdforallcountableBorelequivalence
relations whatsoever.
Question 14.6.2. Classify the Borel equivalence relations E such that the E-
quotient space is linearly ordered in W[U].
As a basic affirmative result in this direction, we show that E and E -quotient
0 1
spaces are linearly ordered in W[U]. To see this, observe in ZF+DC plus the
existence of a nonprincipal ultrafilter on ω that the class of linearly orderable
equivalencerelationsisclosedundercountableincreasingunions. Fortheproof,
let X be a Polish space and (cid:104)E : n ∈ ω(cid:105) be an increasing sequence of analytic
n
equivalence relations on X, each with linearly orderable quotient space. Use
the DC assumption to pick linear orders ≤ for each of them. Let U be a
n
nonprincipal ultrafilter on ω. If x,y ∈ X are E-unrelated elements, then let

356 CHAPTER 14. OTHER COMBINATORICS
[x] ≤[y] iftheseta(x,y)={n∈ω: [x] ≤ [y] }belongstotheultrafilter
E E En n En
U. If x(cid:48) E x and y(cid:48) E y are different representatives of the E-classes of x,y,
then there is a number m ∈ ω such that x E x(cid:48) and y E y(cid:48); therefore, the
m m
symmetric difference a(x,y)∆a(x(cid:48),y(cid:48)) is a subset of m, and the definition of ≤
doesnotdependonthechoiceoftheequivalenceclassrepresentatives. Itiseasy
to check that ≤ is a linear ordering on the E-classes.
As a basic negative result, the F -quotient space is not linearly ordered in
2
W[U]; it even carries no tournament by ???. Another negative result, Theo-
rem 14.6.5 below, shows that the E -quotient space cannot be linearly ordered.
2
As a basic open instance, choose any non-hyperfinite countable Borel equiva-
lence relation E.
Question 14.6.3. Let X be an uncountable Polish space. Classify the Borel
sets A ⊂ [X]ℵ0 such that in W[U], there is a function f assigning to each set
a∈A an ultrafilter on a.
Asabasicaffirmativeresultinthisdirection,ifEisahyperfinitecountableBorel
equivalencerelationonX,thenthereisanassignmentofultrafilterstoE-classes
inW[U]: LetE forn∈ωbeequivalencerelationswithallclassesfiniteforming
n
(cid:83)
aninclusion-increasingsequencesuchthatE = E . Forthefirstitem, let≤
n n
beanylinearorderingofX. Foreachpointx∈X letx(n)bethe≤-leastelement
of X which is E -related to X. Let U = {a ⊂ [x] : {n ∈ ω: x(n) ∈ a} ∈ U}.
n x E
Thus, U is an ultrafilter on [x] and x E y implies that U = U since U
x E x y
is nonprincipal and for some m ∈ ω x E y holds, and then for all n > m
m
x(n)=y(n) holds.
As a basic negative result in this direction, there is no assignment of ultra-
filters to all countable subsets of X; this follows from ???. As a basic open
instance, letΓ bethe freegroup ontwogenerators actingon 2Γ by shiftand let
X ⊂Γ be the G set of points on which Γ acts freely. Let E be the orbit equiv-
δ
alence relation on X. Is there an assignment of ultrafilters to E-classes? This
seemingly arbitrary question relates to the quotient cardinal question 14.6.1. It
iswell-knownthatE isnotBorelreducibletoE ???. However. theassignment
0
of ultrafilters to Γ-orbits yields in ZF the cardinal inequality |E| ≤ |E |. To
0
see this, let ∆ be the acyclic locally finite Cayley graph on X and let ∆(cid:126) be the
orientation of the Cayley graph defined by (cid:104)x,y(cid:105)∈∆(cid:126) if the set of {z ∈X: the
unique injective Cayley path from x to z includes y} belongs to the ultrafilter
assigned to [x] . Clearly, every vertex gets outflow one in the orientation ∆(cid:126).
E
Now,applytheargumentafterExample9.2.15toconcludethat|E|≤|E |must
0
hold.
Question 14.6.4. Classify ultrafilters on ω in W[U]. In particular, for which
Borel ideals I on ω is there an ultrafilter F in W[U] such that I∩F =0?
As the only nontrivial result in this section, we now prove that there is no
ultrafilter in W[U] which is disjoint from the summable ideal.
Theorem 14.6.5. Let P be the poset of infinite subsets of ω ordered by inclu-
sion. IntheP-extensionofthesymmetricSolovaymodel, thecomplementgraph
associated with the summable ideal on ω cannot be oriented.

14.6. THE RAMSEY ULTRAFILTER EXTENSION 357
Proof. Write I for the summable ideal on ω; i.e. I consists of sets a ⊂ ω such
that the sum Σ{ 1 : n ∈ a} is finite. Towards a contradiction, let κ be an
n+1
inaccessible cardinal, let W be a symmetric Solovay model derived from κ, let
p∈P beaconditionandτ beaP-namesuchthatp(cid:13)τ isanorientationofthe
complement graph associated with I. Both p,τ must be definable from some
real parameter z ∈ 2ω and some ground model parameters. Let V[K] be an
intermediate extension of the ground model by a poset of size < κ containing
the parameter z, and work in the model V[K].
We will produce a poset Q and a Q-name x˙ for an element of 2ω such
gen
that
(I) below every condition q ∈ Q there are conditions q ,q ≤ q and an au-
0 1
tomorphism π: Q (cid:22) q → Q (cid:22) q such that π(x˙ ) is forced by q to be
0 1 gen 1
equal to 1−x˙ modulo I;
gen
(II) the ultrafilter added by P still generates an ultrafilter in the P × Q-
extension.
Oncethisisdone, letG⊂P andH ⊂Qbemutuallygenericfiltersoverthe
model V[K], with p∈G, and work in V[K][G][H]. Let x=x˙ /H. Let U be
gen
the ultrafilter on ω generated by the filter G; this is possible by the item (II)
above. By Theorem 7.1.2, U is a balanced virtual condition in the poset P in
the model V[K][G][H]. The following is proved by a standard argument using
the balance of U:
Claim 14.6.6. In the model V[K][G][H], either Coll(ω,< κ) (cid:13) U (cid:13) (cid:104)x,1−
P
x(cid:105)∈τ, or Coll(ω,<κ)(cid:13)U (cid:13) (cid:104)1−x,x(cid:105)∈τ holds.
P
Suppose for definiteness that the former alternative prevails. Find a condition
q ∈ H which forces it, and find conditions q ,q ≤ q and an automorphism
0 1
π: Q (cid:22) q → Q (cid:22) q as in item (I). Find a filter H ⊂ Q generic over V[K][G]
0 1 0
meeting the condition q , and let H =π(cid:48)(cid:48)H . Let x ,x ∈2ω be the points as-
0 1 0 0 1
sociatedwiththefiltersH ,H . ThenthemodelsV[K][G][H ]andV[K][G][H ]
0 1 0 1
are equal, and by the forcing theorem applied in V[K][G], it must be true in
W that U (cid:13) (cid:104)x ,1−x (cid:105) ∈ τ, (cid:104)x ,1−x (cid:105) ∈ τ. This is impossible though as
P 0 0 1 1
x =1−x modulo I and τ is forced to be a tournament.
0 1
The remainder of the proof consists of the construction of the poset Q sat-
isfying (I) and (II). This is a pure ZFC construction in which the concentration
of measure phenomenon is a critical ingredient. Let (cid:104)J : n ∈ ω(cid:105) be a very
n
fast sequence of successive intervals on ω. The following is the concentration of
measure type of demand on the intervals in question that we need. Let µ be
n
the normalized counting measure on 2Jn. Let d
n
be the metric on 2Jn defined
by d (x,y)=Σ{ 1 : x(m)(cid:54)=y(m)}. We demand that the following holds for
n m+1
every n∈ω:
(III) for every set a⊂2Jn of µ
n
-mass 1/n, the 2−n-neigborhood of a in 2Jn in
the sense of the metric d has µ -mass greater than 1/2.
n n

358 CHAPTER 14. OTHER COMBINATORICS
The concentration of measure computations in [73, Theorem 4.3.19] show that
such a fast sequence of intervals indeed exists. Now, let T be the tree of all
ini
finite sequences t such that for each n ∈ dom(t), t(n) ∈ 2Jn. Let Q be the
partial order of all nonempty trees q ⊂ T without endnodes such that for
ini
each m ∈ ω there is n ∈ ω such that for each t ∈ q of length n > n , the
m m
set {x ∈ 2Jn: t(cid:97)(cid:104)x(cid:105) ∈ q} has µ
n
-mass ≥ m/n. The ordering on Q is that of
inclusion. Let x˙ be the Q-name for the concatenation of the trunks of the
gen
trees in the generic filter. We must show that items (I) and (II) above hold for
Q and x˙ .
gen
Item (I) is where the concentration of measure shows up in force. We will
in fact show that whenever q ,q ∈ Q are arbitrary conditions then there are
0 1
conditions q(cid:48) ≤ q ,q(cid:48) ≤ q and an isomorphism π: Q (cid:22) q(cid:48) → Q (cid:22) q(cid:48) such that
0 0 1 1 0 1
π(1−x˙ ) is forced by q(cid:48) to be modulo I equivalent to x˙ . To see this, let
gen 1 gen
t ∈ q ,t ∈ q be nodes of the same length such that for every node t ∈ q of
0 0 1 1 0
length n≥|t
0
|, the set a
0
(t)={x∈2Jn: t(cid:97)(cid:104)x(cid:105)∈q
0
} has µ
n
-mass at least 2/n,
andforeverynodet∈q
1
oflengthn≥|t
0
|,theseta
1
(t)={x∈2Jn: t(cid:97)(cid:104)x(cid:105)∈q
1
}
has µ -mass at least 2/n as well. We will produce a tree q(cid:48) ≤q (cid:22)t in Q and
n 0 0 0
a level and order preserving injection π: q(cid:48) →q (cid:22)t so that
0 1 1
(IV) for each node t ∈ q(cid:48) and a number n > |t | in dom(t), d (t(n),1 −
0 0 n
π(t)(n))<2−n+1.
Write q(cid:48) =π(cid:48)(cid:48)q(cid:48). Since the measures µ are normalized counting measures, the
1 0 n
map π naturally extends to an isomorphism π: Q (cid:22) q(cid:48) → Q (cid:22) q(cid:48). The demand
0 1
(IV) then implies that π(1−x˙ ) is forced by q(cid:48) to be modulo I equivalent to
gen 1
x˙ as required.
gen
The map π is obtained by a hungry algorithm. Among all level and order
preserving injections from subsets of q (cid:22) t to q (cid:22) t which satisfy (IV), se-
0 0 1 1
lect an inclusion maximal one and call it π. It will be enough to show that
q(cid:48) = dom(π) belongs to Q. To see this, first of all q(cid:48) is closed under initial
0 0
segment by an obvious maximality argument. To verify the branching condi-
tion in the definition of Q for q(cid:48), let t ∈ q(cid:48) of length some n ≥ |t |. It will
0 0 0
be enough to argue that the set {x ∈ 2Jn: t(cid:97)(cid:104)x(cid:105) ∈ q
0
(cid:48)} has µ
n
-mass at least
min(µ (a (t)),µ (a (π(t)))−1/n.
n 0 n 1
To do this, note that if both sets b
0
= {x ∈ 2Jn: t(cid:97)(cid:104)x(cid:105) ∈ q
0
(cid:48) \ q
0
} and
b
1
= {x ∈ 2Jn: t(cid:97)(cid:104)x(cid:105) ∈ π(q
0
(cid:48))\q
1
} had µ
n
-mass greater than 1/n, then by
(III) the 2−n-neighborhood of b and the set {1−x: x ∈ b } would both have
0 1
µ -mass greater than 1/2 and so they would intersect, making it possible to
n
extend π while satisfying (IV) and contradicting the maximality of π.
Item(II)followsfromadensityargumentonP andQgiventhefactthatthe
posetQisproperanddoesnotaddindependentreals[101, Theorem4.4.8].
Corollary 14.6.7.
1. Let P =P(ω) modulo finite. In the P-extension of the symmetric Solovay
model, there is no ultrafilter on ω disjoint from the summable ideal;

14.6. THE RAMSEY ULTRAFILTER EXTENSION 359
2. itisconsistentrelativetoaninaccessiblecardinalthatZF+DCholds,there
is a nonprincipal ultrafilter on ω, and yet there is no ultrafilter disjoint
from the summable ideal.

360 CHAPTER 14. OTHER COMBINATORICS

Bibliography
[1] FrancisAdamsandJindˇrichZapletal.Cardinalinvariantsofclosedgraphs.
Israel Journal of Mathematics, 227:861–888, 2018.
[2] Martin Aigner. Combinatorial theory. Grundlehren der mathematischen
Wissenschaften 234. Springer Verlag, New York, 1979.
[3] Reinhold Baer. Abelian groups that are direct summands of every con-
taining abelian group. Bulletin of the American Mathematical Society,
46:800–807, 1940.
[4] Bohuslav Balcar, Thomas Jech, and Jindˇrich Zapletal. Semi-Cohen
boolean algebras. Annals of Pure and Applied Logic, 87:187–208, 1997.
[5] John Baldwin and Paul B. Larson. Iterated elementary embeddings and
the model theory of infinitary logic. Annals of Pure and Applied Logic,
167:309–334, 2016.
[6] John T. Baldwin, Sy D. Friedman, Martin Koerwien, and Michael C.
Laskowski. ThreeredherringsaroundVaught’sconjecture. Trans. Amer.
Math. Soc., 368:3673–3694, 2016.
[7] Tomek Bartoszynski and Haim Judah. Set Theory. On the structure of
the real line. A K Peters, Wellesley, MA, 1995.
[8] James Baumgartner and Adam Taylor. Partition theorems and ultrafil-
ters. Transactions of the American Mathematical Society, 241:283–309,
1978.
[9] A. Bella, Alan Dow, Klaas-Pieter Hart, Michael Hruˇs´ak, Jan van Mill,
and P. Ursino. Embeddings of P(ω)/fin and extension of automorphisms.
Fundamenta Mathematicae, 174:271–284, 2002.
[10] Andreas Blass. Ultrafilters related to Hindmans finite-unions theorem
anditsextensions. InStephenSimpson, editor, Logic and Combinatorics,
Contemporary Mathematics 65, pages 89–124. American Mathematical
Society, Providence, 1987.
[11] Andres Blass, Natasha Dobrinen, and Dilip Raghavan. The next best
thing to a P-point. Journal of Symbolic Logic, 80:866–900, 2015.
361

362 BIBLIOGRAPHY
[12] J¨orgBrendle,FabianaCastiblanco,RalfSchindler,LiuzhenWu,andLiang
Yu. A model with everything except a well-ordering of the reals. 2018.
arXiv:1809.10420.
[13] J¨org Brendle and Michael Hruˇs´ak. Countable Fr´echet groups: An inde-
pendence result. Journal of Symbolic Logic, 74:1061–1068, 2009.
[14] B. Bukh. Measurable sets with excluded distances. Geometric and Func-
tional Analysis, 18:668–697, 2008.
[15] Lev Bukovsy´. Iterated ultrapower and Prikry’s forcing. Comment. Math.
Univ. Carolinae, 18:77–85, 1977.
[16] Andres Caicedo, John Clemens, Clinton Conley, and Benjamin Miller.
Definability of small puncture sets. Fundamenta Mathematicae, 215:39–
51, 2011.
[17] Jack Ceder. Finite subsets and countable decompositions of Euclidean
spaces. Rev. Roumaine Math. Pures Appl., 14:1247–1251, 1969.
[18] DavidChodounsky´ andOsvaldoGuzm´an. TherearenoP-pointsinSilver
extensions. InstituteofMathematics,CzechAcademyofSciencespreprint
17-2017, 2017.
[19] Clinton Conley and Benjamin Miller. A bound on measurable chromatic
numbers of locally finite Borel graphs. Mathematical Research Letters,
23:1633–1644, 2016.
[20] Patrick Dehornoy. Iterated ultrapowers and Prikry forcing. Ann. Math.
Logic, 15:109–160, 1978.
[21] Carlos DiPrisco and Stevo Todorcevic. Perfect set properties in L(R)[U].
Advances in Mathematics, 139:240–259, 1998.
[22] NatashaDobrinenandDanielHathaway.ForcingandtheHalpern–L¨auchli
theorem. Journal of Symbolic Logic, 2019. to appear.
[23] Natasha Dobrinen, Jose G. Mijares, and Timothy Trujillo. Topological
Ramsey spaces from Fraiss´e classes, Ramsey-classification theorems, and
initialstructuresintheTukeytypesofp-points. ArchiveforMathematical
Logic, 56:733–782, 2017.
[24] Alan Dow. Set theory in topology. In Recent progress in general topology.
North Holland, New York, 1992.
[25] Paul Erd˝os and Andr´as Hajnal. On chromatic number of graphs and set
systems. Acta Math. Acad. Sci. Hung., 17:61–99, 1966.
[26] Ilijas Farah. Semiselective coideals. Mathematika, 45(1):79–103, 1998.

BIBLIOGRAPHY 363
[27] IlijasFarah. IdealsinducedbyTsirelsonsubmeasures. Fundamenta Math-
ematicae, 159:243–258, 1999.
[28] Ilijas Farah. Analytic quotients. Memoirs of AMS 702. American Mathe-
matical Society, Providence, 2000.
[29] MatthewForemanandMenachemMagidor. Largecardinalsanddefinable
counterexamples to the continuum hypothesis. Ann. Pure Appl. Logic,
76:4797, 1995.
[30] R.Fraiss´e. Surlextensionauxrelationsdequelquespropriet´esdesordres.
Ann. Sci. E´cole Norm. Sup., 7:363–388, 1954.
[31] Harvey Friedman and Lee Stanley. A Borel reducibility theory for classes
of countable structures. J. Symbolic Logic, 54:894–914, 1989.
[32] SuGao. Invariant Descriptive Set Theory. CRCPress,BocaRaton,2009.
[33] E. Glasner, B. Tsirelson, and B. Weiss. The automorphism group of the
Gaussian measure cannot act pointwise. Israel Journal of Mathematics,
148:305–329, 2005.
[34] G.Gru¨nwald.Egyhalmazelm´eletit´etelr˝ol.Mathematikai´esFizikaiLapok,
44:51–53, 1937.
[35] Andr´as Hajnal and A. M´at´e. Set mappings, partitions, and chromatic
numbers. In Logic Colloquium 1973, pages 347–379. North Holland, Am-
sterdam, 1975.
[36] Rudolf Halin. U¨ber unendliche Wege in Graphen. Mathematische An-
nalen, 157:125–137, 1964.
[37] E. Hall, K. Keremedis, and E. Tachtsis. The existence of free ultrafilters
on ω does not imply the extension of filters on ω to ultrafilters. Math.
Logic Quarterly, 59, 2013.
[38] Philip Hall. On representatives of subsets. J. London Math. Soc., 10:26–
30, 1935.
[39] James Henle, Adrian R. D. Mathias, and W. Hugh Woodin. A barren ex-
tension. In Methods in mathematical logic, Lecture Notes in Mathematics
1130, pages 195–207. Springer Verlag, New York, 1985.
[40] Neil Hindman and Donna Strauss. Algebra in Stone–Cˇech compactifica-
tion: theory and applications. De Gruyter, New York, 1998. De Gruyter
Expositions in Mathematics 27.
[41] Wilfrid Hodges. A shorter model theory. Cambridge University Press,
Cambridge, 1997.

364 BIBLIOGRAPHY
[42] Haim Horowitz and Saharon Shelah. Transcendence bases, well-orderings
of the reals and the axiom of choice. ArXiv:1901.01508, 2019.
[43] M. Hruˇs´ak, D. Meza-Alc´antara, E. Thu¨mmel, and C. Uzc´ategui. Ramsey
type properties of ideals. Annals of Pure and Applied Logic, 168:2022–
2049, 2017.
[44] Jaime Ihoda (Haim Judah) and Saharon Shelah. Souslin forcing. The
Journal of Symbolic Logic, 53:1188–1207, 1988.
[45] Thomas Jech. Set Theory. Springer Verlag, New York, 2002.
[46] Haim Judah, Andrzej Roslanowski, and Saharon Shelah. Exam-
ples for Souslin Forcing. Fundamenta Mathematicae, 144:23–42, 1994.
arxiv:math.LO/9310224.
[47] AnastasisKamburelis. Iterationsofbooleanalgebraswithmeasure. Arch.
Math. Logic, 29:21–28, 1989.
[48] VladimirKanovei. Borel Equivalence Relations. UniversityLectureSeries
44. American Mathematical Society, Providence, RI, 2008.
[49] Vladimir Kanovei, Marcin Sabok, and Jindˇrich Zapletal. Canonical Ram-
sey Theory on Polish Spaces. Cambridge Tracts in Mathematics 202.
Cambridge University Press, 2013.
[50] ItayKaplanandSaharonShelah. Forcingacountablestructuretobelong
to the ground model. Math. Log. Q., 62:530–546, 2016.
[51] M. Kaufmann. The quantifier “there exist uncountably many” and some
of its relatives. In S. Barwise and J Feferman, editors, Model theoretic
logics, pages 123–176. Springer-Verlag, New York, 1985.
[52] Alexander Kechris. Actions of Polish groups and classification problems,
pages 115–187. London Mathematical Society Lecture Note Series 262.
Cambridge University Press, Cambridge, 2003.
[53] Alexander Kechris, Vladimir Pestov, and Stevo Todorcevic. Frass´e lim-
its, Ramsey theory, and topological dynamics of automorphism groups.
Geometric and Functional Analysis GAFA, 15:106189, 2005.
[54] Alexander Kechris, Slawomir Solecki, and Stevo Todorcevic. Borel chro-
matic numbers. Advances in Mathematics, 141:1–44, 1999.
[55] Alexander S. Kechris. Classical Descriptive Set Theory. Springer Verlag,
New York, 1994.
[56] Richard Ketchersid, Paul Larson, and Jindˇrich Zapletal. Ramsey ultrafil-
ters and countable-to-one uniformization, 2016.

BIBLIOGRAPHY 365
[57] JuliaKnight,AntonioMontalb´an,andNoahSchweber.Computablestruc-
tures in generic extensions. Journal of Symbolic Logic, 81:814–832, 2016.
[58] Peter Komj´ath. The list-chromatic number of infinite graphs defined on
Euclidean spaces. Discrete Comput. Geom., 45:497–502, 2011.
[59] P´eter Komj´ath and James Schmerl. Graphs on Euclidean spaces defined
using trascendental distances. Mathematika, 58:1–9, 2019.
[60] PeterKomjathandSaharonShelah.Coloringfinitesubsetsofuncountable
sets. Proceedings of the American Mathematical Society, 124:3501–3505,
1996. arxiv:math.LO/9505216.
[61] GeorgesKurepa. A´ proposd’uneg´en´eralisationd’uelanotiond’ensembles
bien ordonn´es. Acta Math., 75:139–150, 1943.
[62] Adam Kwela and Marcin Sabok. Topological representations. J. Math.
Anal. Appl., 422:14341446, 2015.
[63] PaulLarsonandJindˇrichZapletal. Canonicalmodelsforfragmentsofthe
axiom of choice. Journal of Symbolic Logic, 82:489–509, 2017.
[64] PaulB.Larson. Thestationarytower. UniversityLectureSeries32.Amer-
ican Mathematical Society, Providence, RI, 2004. Notes from Woodin’s
lectures.
[65] Paul B. Larson. Scott processes. In Beyond first order model theory.
Volume I. CRC Press, New York, 2017.
[66] D. Lecomte and B. D. Miller. Basis theorems for non-potentially closed
sets and graphs of uncountable Borel chromatic number. J. Math. Log.,
8:121–162, 2008.
[67] David Marker. Model theory: An introduction. Graduate Texts in Math-
ematics 217. Springer Verlag, 2002.
[68] Andrew Marks and Spencer Unger. Borel measurable paradoxical decom-
positions via matchings. Advances in Mathematics, 289:397–410, 2016.
[69] A.R.D.Mathias. OnsequencesgenericinthesenseofPrikry. J. Austral.
Math. Society, 15:409–414, 1973.
[70] Diego Mej´ıa. Matrix iterations with vertical support restrictions. In Pro-
ceedingsofthe15thAsianLogicConference.WorldSci.Publ.,Hackensack,
NJ. to appear.
[71] Jaroslav Neˇsetˇril. Ramsey classes and homogeneous structures. Combi-
natorics, Probability and Computing, 14:171–189, 2005.
[72] JaroslavNeˇsetˇrilandVojtˇechR¨odl. Partitionsoffiniterelationalsetsand
systems. Journal of Combinatorial Theory Ser. A, 22:289–312, 1977.

366 BIBLIOGRAPHY
[73] Vladimir Pestov. Dynamics of Infinite-Dimensional Groups. University
Lecture Series 40. Amer. Math. Society, Providence, 2006.
[74] Christian Rosendal. Cofinal families of Borel equivalence relations and
quasiorders. J. Symbolic Logic, 70:1325–1340, 2005.
[75] ChristianRosendal.Automaticcontinuityofgrouphomomorphisms.Bull.
Symbolic Logic, 15:184–214, 2009.
[76] Christian Rosendal. Continuity of universally measurable homomor-
phisms. Forum of Mathematics, Pi, 2019. to appear.
[77] Christian Rosendal and Sl(cid:32)awomir Solecki. Automatic continuity of ho-
momorphisms and fixed points on metric compacta. Israel Journal of
Mathematics, 162:349–371, 2007.
[78] Edward R. Scheinerman and Daniel H. Ullman. Fractional graph theory.
Wiley Series in Discrete Mathematics and Optimization. John Wiley and
sons, New York, 1997.
[79] RalfSchindler,LiuzhenWu,andLiangYu. Hamelbasesandtheprinciple
of dependent choice. 2018. preprint.
[80] James H. Schmerl. Countable partitions of Euclidean space. Math. Proc.
Camb. Phil. Soc., 120:7–12, 1996.
[81] SaharonShelah.Onmeasureandcategory.IsraelJournalofMathematics,
52:110–114, 1985.
[82] Saharon Shelah. Proper and Improper Forcing. Springer Verlag, New
York, second edition, 1998.
[83] Saharon Shelah and Juris Steprans. PFA implies all automorphisms are
trivial. ProceedingsoftheAmericanMathematicalSociety,104:1220–1225,
1988.
[84] Saharon Shelah and Jindˇrich Zapletal. Ramsey theorems for product of
finite sets with submeasures. Combinatorica, 31:225–244, 2011.
[85] Slawomir Solecki. Analytic ideals and their applications. Annals of Pure
and Applied Logic, 99:51–72, 1999.
[86] Juris Steprans. Strong Q-sequences and variations o Martin’s axiom.
Canadian Journal of Mathematics, 37:730–746, 1985.
[87] JacquesStern. OnLusin’srestrictedcontinuumproblem. AnnalsofMath-
ematics, 120:7–37, 1984.
[88] Endre Szemer´edi. On sets of integers containing no k elements in arith-
metic progression. Acta Arithmetica, 27:199245, 1975.

BIBLIOGRAPHY 367
[89] A. Szyman´ski and Zhou Hao Xua. The behaviour of
ω2∗
under some
consequences of Martin’s axiom. In General topology and its relations to
modern analysis and algebra, V, Prague, 1981, number 3 in Sigma Ser.
Pure Math., pages 577–584. Heldermann, Berlin, 1983.
[90] Simon Thomas and Jindˇrich Zapletal. On the Steinhaus and Bergman
properties for infinite products of finite groups. Confluentes Math., 4,
2012. 1250002.
[91] Stevo Todorcevic. Partition problems in topology. Contemporary Mathe-
matics 84. American Mathematical Society, Providence, RI, 1989.
[92] Stevo Todorcevic. Remarks on Martin’s Axiom and the Continuum Hy-
pothesis. Canadian Journal of Mathematics, 43:832–851, 1991.
[93] Stevo Todorcevic. Two examples of Borel partially ordered sets with the
countable chain condition. Proceedings of the American Mathematical
Society, 112:1125–1128, 1991.
[94] StevoTodorcevic. Walks on ordinals and their characteristics. Birkhauser
Verlag, Basel, 2007. Progress in Mathematics 263.
[95] Todor Tsankov. Automatic continuity for the unitary group. Proceedings
of American Mathematical Society, 141:3673–3680, 2013.
[96] Douglas Ulrich, Richard Rast, and Michael C. Laskowski. Borel complex-
ity and potential canonical Scott sentences. Fund. Math., 239:101–147,
2017.
[97] MarkBrianVanLiere. Splittingtherealsintotwosmallpieces. PhDthesis,
University of California, Berkeley, 1982.
[98] Boban Velickovic. Definable automorphisms of P(ω)/fin. Proceedings of
the American Mathematical Society, 96:130–135, 1986.
[99] Hugh Woodin. Supercompact cardinals, sets of reals and weakly homo-
geneous trees. Proceedings of the National Academy of Sciences USA,
85:6587–6591, 1988.
[100] HughWoodin. The Axiom of Determinacy, Forcing Axioms and the Non-
stationary Ideal. Walter de Gruyter, New York, 1999.
[101] Jindˇrich Zapletal. Forcing Idealized. Cambridge Tracts in Mathematics
174. Cambridge University Press, Cambridge, 2008.
[102] Jindˇrich Zapletal. Interpreter for topologists. Journal of Logic and Anal-
ysis, 7:1–61, 2015.
[103] JindˇrichZapletal. Hypergraphsandproperforcing. JournalofMathemat-
ical Logic, 2019. to appear.

368 BIBLIOGRAPHY
[104] JindˇrichZapletal.Subadditivefamiliesofhypergraphs.2019.unpublished.
[105] JosephZielinski. Thecomplexityofthehomeomorphismrelationbetween
compact metric spaces. Advances in Mathematics, 291:635–645, 2016.
[106] Andy Zucker. Big Ramsey degrees and topological dynamics. Groups,
Geometry, and Dynamics, 13:235–276, 2019.

Index
absoluteness virtually placid, 88
Mostowski, 30 equivalence, specific
Shoenfield, 30 E , 6, 28
0
E , 28, 217
1
below κ, 33 E , 28
2
E , 28, 46
cardinal Γ
E , 3, 28, 47, 76, 77
λ(E), 50, 152 ω1
F , 4, 28, 77
Erd˝os, 52 2
measurable, 76, 77
forcing
pinned, κ(E), 3, 50
m,n-balanced, 16, 327
coloring, 29
m,n-centered, 327
coloring number
balanced, 124
Borel, ℵ , 137, 214, 222
1 Bernstein balanced, 305
countable, 169, 247, 281
compactly balanced, 15, 205, 219,
complete countable section, 153
292
complex, 133
definably balanced, 349
algebraic, 246
nested balanced, 15, 217
locally countable, 135
perfect, 299
modular, 214, 246
perfectly balanced, 16
concentration of measure, 5, 97, 358
placid, 15, 212, 310
condition
pod balanced, 230
m,n-balanced, 327
reasonable, 65
balanced, 122
Suslin, 119
placid, 212
Suslin σ-centered, 266
virtual, 120
Suslin σ-liminf-centered, 269
weakly balanced, 128
Suslin σ-linked, 265
Suslin σ-Ramsey-centered, 266
decomposition
tethered, 15, 239, 353
3-Hamel, 172, 226, 341
very Suslin, 261
acyclic, 204, 227
weakly balanced, 131
Hamel, 176
forcing, specific
end of graph, 209 3-Hamel, 341
equivalence 3-Hamel decomposition, 173, 226
orbit, 15, 112, 217 E-linearization, 13, 188, 208, 220,
pinned, 42 313, 322, 340
placid, 88 E,F-collapse, 151, 214, 250, 322
369

370 INDEX
E,F-transversal,14,152,214,221, Rado graph, 103
248 summable, 10, 101, 356
E,F-Fraiss´e, 186, 215, 248, 312 Tsirelson, 103
P , 4, 32, 81, 84 independent maps, 4, 82, 84, 86, 318
X
Γ-coloring, 169, 225, 247, 311
Γ,∆-homomorphism,177,210,221, jump
247 Friedman–Stanley, 42
Γ,n-coloring, 210
Kurepa family, 181, 211, 215, 221
Coll(ω,<κ), 32
Coll(ω,X), 32
large fragment of ZFC, 28
Q , 33, 321
κ large structure, 27
P(ω) mod fin, 12, 207, 220, 249,
303, 322, 356
matroid, 143
acyclic, 145, 225, 322, 339
algebraic, 146, 150
acyclic decomposition, 204, 216
gammoid, 147
automorphism, 179
graphic, 145
finite-countable, 190
linear, 144
Hamel basis, 12, 144, 311, 322
transversal, 145
Hamel decomposition, 177
modular
Kurepa, 250
complex, 20, 139
Lusin, 193, 313, 322
function, 139
Lusin collapse, 195, 204
pre-geometry, 143
MAD, 199, 344
matroid, 148, 246, 311, 312 number
Borel σ-bounded chromatic, 255,
generic ultrapower, 33, 141, 321 292, 294
graph Borel σ-bounded clique, 260
Γ K , 134 Borel σ-bounded density, 288
G 0 , 254 Borel σ-bounded fractional chro-
Hamming on ωω, 286, 287 matic, 258, 296
Hamming, diagonal, 287 Borel σ-finite clique, 260
Euclidean distance, 287 countableBorelchromatic,7,254,
Hamming, 254, 328, 351 291
Hamming, diagonal, 8, 254, 286, fractional chromatic, 256
290
Hamming, on ωω, 8, 254 OCA, 16, 307
OCA+, 301
hypergraph
actionable, 292 perfect matching, 7, 145, 209, 278
equilateral triangle, 10 pin
E-pin, 37, 88
ideal P-pin, 120
ω-hitting, 85 pod, 229
branch, 92 pre-geometry, 143
countably separated, 92, 124 product
P-ideal, 309 measured skew, 259

INDEX 371
skew, 254
quotient space, 29
sequence
choice-coherent, 109, 216
coherent, 5, 106
set
centered, 266
liminf-centered, 269
linked, 265
maximal, 148
Ramsey centered, 266
strongly maximal, 140
set mapping, 333
tournament, 9, 188, 323
transversal, 28
turbulence, 4, 84, 212
ultrafilter
Ramsey, 303
stable ordered union, 304
uniformization
pinned, 240
Saint-Raymond, 244
well-orderable, 242
virtual
equivalence class, 38
structure, 40
walk, 81, 84, 97

