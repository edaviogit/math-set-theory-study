=== 块 23 ===

functional composition. In order that gf be defined, the range of / must be included in the domain of g, and this can happen without it necessarily happening in the other direction at the same time. Even if both fg and gf are defined, which happens if, for instance, / maps X into Y and g maps Y into X, the functions fg and gf need not be the same; in other words, functional compo sition is not necessarily commutative. Functional composition may not be commutative, but it is always asso ciative. If / maps X into Y, if g maps Y into Z, and if h maps Z into U, then we can form the composite of h with gf and the composite of hg with /; it is a simple exercise to show that the result is the same in either case. The connection between inversion and composition is important; some thing like it crops up all over mathematics. If / maps X into Y and g maps Y into Z, then /-1 maps <P(Y) into <P(X) and gr-1 maps <P(Z) into <P(Y). In this situation, the composites that are formable are gf and f~lg~1 ; the assertion is that the latter is the inverse of the former. Proof: if x e (fl/)-1(C)> where x eX and C C Z, then g(f(x)) e C, so that f(x) e gt-1(C), and therefore x «/-1(f7-1(C)); the steps of the argument are reversible. Inversion and composition for functions are special cases of similar opera tions for relations. Thus, in particular, associated with every relation 22 from X to Y there is the inverse (or converse) relation 22 — 1 from Y to X; by definition yR~1 x means that xRy. Example: if R is the relation of be longing, from X to <P(X), then 22 —1 is the relation of containing, from <P(X) to X. It is an immediate consequence of the definitions involved that dom22-1 =f ran R and ran22-1 = dom22. If the relation R is a function, then the equivalent assertions xRy and yR~lx can be written in the equivalent forms 22 (x) = y and x « R~*({?/}) . Because of difficulties with commutativity, the generalization of func tional composition has to be handled with care. The composite of the rela tions 22 and S is defined in case 22 is a relation from X to Y and S is a rela Sec. 10 41 INVERSES AND COMPOSITES tion from Y to Z. The composite relation T, from X to Z, is denoted by S ° R, or, simply, by SR; it is defined so that x T z if and only if there exists an element y in Y such that xRy and y S z. For an instructive example, let R mean "son" and let S mean "brother" in the set of human males, say. In other words, xRy means that x is a son of y, and y S z means that y is a brother of z. In this case the composite relation <S22 means "nephew." (Query: what do R'1, S'1, RS, and R^S-1 mean?) If both R and S are functions, then xRy and y S z can be rewritten as R(x) = y and S(y) = z, respectively. It follows that S(R(x)) = z if and only if x T z, so that functional composition is indeed a special case of what is sometimes called the relative product. The algebraic properties of inversion and composition are the same for relations as for functions. Thus, in particular, composition is commuta tive by accident only, but it is always associative, and it is always con nected with inversion via the equation (SR)-1 = 72_1>S-1. (Proofs?) The algebra of relations provides some amusing formulas. Suppose that, temporarily, we consider relations in one set X only, and, in particular, let J be the relation of equality in X (which is the same as the identity map ping on X). The relation I acts as a multiplicative unit; this means that IR — RI = R for every relation R in X. Query: is there a connection among /, RR-1, and R—1R. The three defining properties of an equiv alence relation can be formulated in algebraic terms as follows : reflexivity means I d R, symmetry means R C R~l, and transitivity means RR <z R. Exercise. (Assume in each case that / is a function from X to Y.) (i) If g is a function from Y to X such that gf is the identity on X, then / is one-to-one and g maps Y onto X.