=== 块 158 ===

r. Also, G can be recovered from U as the set of all
(cid:81)
conditions p ∈ P such that for all n ∈ ω, the set { p(m): a ⊂ ω is a
Γ m∈a
nonempty finite set and min(a)>n} belongs to the ultrafilter U.

7.4. SEMIGROUP ULTRAFILTERS 165
It turns out that the balanced conditions in the poset P correspond to a
Γ
well-known concept from topological dynamics and Ramsey theory.
Definition 7.4.4. [40, Section 4.1] Let (cid:104)Γ,·(cid:105) be a countable semigroup.
1. For ultrafilters U ,U on Γ, let U ·U ={A⊂Γ: {γ ∈Γ: {δ ∈Γ: γ·δ ∈
0 1 0 1
A}∈U }∈U };
1 0
2. an ultrafilter U on Γ is an idempotent if U ·U =U.
It turns out that · is a semi-continuous operation on the space βΓ of all ultra-
filters on Γ. The fundamental Ellis–Numakura theorem [40, Section 2.4] says
that every closed subsemigroup of βΓ contains an idempotent ultrafilter. The
idempotent ultrafilters have an alternative diagonalization description.
Proposition 7.4.5. Let U be an ultrafilter on Γ. The following are equivalent:
1. in Coll(ω,P(Γ)) extension there is a condition in P diagonalizing U;
Γ
2. for every countable subset of U, there is a condition in P diagonalizing
Γ
it;
3. U is an idempotent.
Proof. For the implication (1)→(2), if U(cid:48) ⊂U is a countable set, then in some
forcing extension there is a condition p∈P which diagonalizes U and therefore
U(cid:48). By a Mostowski absoluteness argument between the ground model and the
forcing extension, there must be a condition p∈P diagonalizing U(cid:48).
For the implication (2)→(1), consider the partial order Q=[P(U)]ℵ0 mod-
ulo the nonstationary ideal. Let G ⊂ Q be a filter generic over V and let
j: V →M be the generic ultrapower. Then M is an ω-model which is possibly
illfounded. Moreover, M contains the set j(cid:48)(cid:48)U as the equivalence class of the
identity function on [P(U)]ℵ0, and M |=j(cid:48)(cid:48)U ⊂U is a countable set by the L(cid:32) o´s
theorem. Thus, if the ground model satisfies (2), then by elementarity M (and
so V[G]) contains a condition p ∈ P which diagonalizes j(cid:48)(cid:48)U and therefore U.
The existence of such a condition then transfers to any Coll(ω,P(Γ)) extension
of the ground model. This confirms (1).
(3) implies (2): this is the content of Galvin–Glazer theorem or its folkloric
variationforcountablesets,[40,Chapter5]. Finally,thenegationof(3)implies
the negation of (2). To see this, if U is not an idempotent, there must be a set
A∈U suchthatA∈/ U·U. ThismeansthatthesetB ={γ ∈Γ: {δ ∈Γ: γ·δ ∈/
A} ∈ U} belongs to U. Consider the countable set including A,B, as well as
all the sets C = {δ ∈ Γ: γ·δ ∈/ A} for γ ∈ B; we will show that it cannot be
γ
diagonalized. Supposetowardsacontradictionthatsomeconditionp∈P does
Γ
diagonalize it. This means that there is m ∈ γ such that for all k > m ≥ m ,
0 0
p(m) ∈ B and p(m)·p(k) ∈ A. There must be also some k ∈ ω such that for
0
all k ≥ k , p(k) ∈ C . Then p(m )·p(k ) should belong simultaneously to
0 p(m0) 0 0
A and to the complement of A, which is a contradiction.